<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜</title>
      <link href="/2022/10/30/guan-yu-hou-duan-fan-hui-da-shu-zi-de-wen-ti/"/>
      <url>/2022/10/30/guan-yu-hou-duan-fan-hui-da-shu-zi-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜"><a href="#å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜" class="headerlink" title="å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜"></a><strong>å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜</strong></h2><p>æˆ‘ä»¬åœ¨è¯·æ±‚æ–‡ç« è¯¦æƒ…çš„æ¥å£æ—¶ä¼šè¿”å›404ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬è¯·æ±‚å‘é€çš„æ–‡ç« idä¸æ­£ç¡®</p><p>javaScriptå¯ä»¥å‡†ç¡®åœ°è¡¨ç¤º2^-53åˆ°2^53ä¹‹é—´çš„æ•´æ•°ï¼ˆä¸åŒ…å«ç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´å°±æ— æ³•ç²¾ç¡®çš„è¡¨ç¤ºè¿™ä¸ªå€¼ï¼Œå› æ­¤ä½¿å¾—javaScriptä¸é€‚åˆè¿›è¡Œç§‘å­¦å’Œé‡‘èæ–¹é¢çš„ç²¾ç¡®è®¡ç®—</p><pre class=" language-js"><code class="language-js">Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// 9007199254740992</span><span class="token number">9007199254740992</span>  <span class="token comment" spellcheck="true">// 9007199254740992</span><span class="token number">9007199254740993</span>  <span class="token comment" spellcheck="true">// 9007199254740992</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>  <span class="token comment" spellcheck="true">// true</span></code></pre><p>ES6 å¼•å…¥äº†<code>Number.MAX_SAFE_INTEGER</code>å’Œ<code>Number.MIN_SAFE_INTEGER</code>è¿™ä¸¤ä¸ªå¸¸é‡ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªèŒƒå›´çš„ä¸Šä¸‹é™ã€‚</p><pre class=" language-js"><code class="language-js">Number<span class="token punctuation">.</span>MAX_SAFE_INTEGER <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token comment" spellcheck="true">// true</span>Number<span class="token punctuation">.</span>MAX_SAFE_INTEGER <span class="token operator">===</span> <span class="token number">9007199254740991</span><span class="token comment" spellcheck="true">// true</span>Number<span class="token punctuation">.</span>MIN_SAFE_INTEGER <span class="token operator">===</span> <span class="token operator">-</span>Number<span class="token punctuation">.</span>MAX_SAFE_INTEGER<span class="token comment" spellcheck="true">// true</span>Number<span class="token punctuation">.</span>MIN_SAFE_INTEGER <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">9007199254740991</span><span class="token comment" spellcheck="true">// true</span></code></pre><p>ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºjavaScriptå¯ä»¥ç²¾ç¡®è¡¨ç¤ºçš„æ•´æ•°çš„æé™</p><p>åç«¯è¿”å›çš„æ•°æ®ä¸€èˆ¬éƒ½æ˜¯JSONæ ¼å¼çš„å­—ç¬¦ä¸²</p><pre class=" language-js"><code class="language-js"><span class="token string">'&amp;#123; "id": 9007199254740995, "name": "Jack", "age": 18 &amp;#125;'</span></code></pre><p>å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸åšä»»ä½•å¤„ç†ï¼Œä½ èƒ½æ–¹ä¾¿çš„è·å–åˆ°å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šæ•°æ®å—ï¼Ÿéå¸¸éº»çƒ¦ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æŠŠå®ƒè½¬æ¢ä¸º JavaScript å¯¹è±¡æ¥ä½¿ç”¨å°±å¾ˆæ–¹ä¾¿äº†ã€‚</p><p>å¹¸è¿çš„æ˜¯ axios ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨æ•°æ®ï¼Œå®ƒä¼šåœ¨å†…éƒ¨ä½¿ç”¨ <code>JSON.parse()</code> æŠŠåç«¯è¿”å›çš„æ•°æ®è½¬ä¸º JavaScript å¯¹è±¡ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// &amp;#123; id: 9007199254740996, name: 'Jack', age: 18 &amp;#125;</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'&amp;#123; "id": 9007199254740995, "name": "Jack", "age": 18 &amp;#125;'</span><span class="token punctuation">)</span></code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¶…å‡ºå®‰å…¨æ•´æ•°èŒƒå›´çš„ id æ— æ³•ç²¾ç¡®è¡¨ç¤ºï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯ axios çš„é”™ã€‚</p><p>äº†è§£äº†ä»€ä¹ˆæ˜¯å¤§æ•´æ•°çš„æ¦‚å¿µï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯å¦‚ä½•è§£å†³ï¼Ÿ</p><p><a href="https://github.com/sidorares/json-bigint">json-bigint</a> æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬å¾ˆå¥½çš„å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä½¿ç”¨å®ƒçš„ç¬¬ä¸€æ­¥å°±æ˜¯æŠŠå®ƒå®‰è£…åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚</p><pre class=" language-sh"><code class="language-sh">npm i json-bigint</code></pre><p>ä¸‹é¢æ˜¯ä½¿ç”¨å®ƒçš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> jsonStr <span class="token operator">=</span> <span class="token string">'&amp;#123; "art_id": 1245953273786007552&amp;#125;'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// 1245953273786007600</span><span class="token comment" spellcheck="true">// JSON.stringify()</span><span class="token comment" spellcheck="true">// JSONBig å¯ä»¥å¤„æ•°æ®ä¸­è¶…è¿‡ JavaScript å®‰å…¨æ•´æ•°èŒƒå›´çš„é—®é¢˜</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSONBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æŠŠ JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬ä¸º JavaScript å¯¹è±¡</span><span class="token comment" spellcheck="true">// ä½¿ç”¨çš„æ—¶å€™éœ€è¦æŠŠ BigNumber ç±»å‹çš„æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSONBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">.</span>art_id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1245953273786007552</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>JSONBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSONBig<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>JSONBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// æŠŠ JavaScript å¯¹è±¡ è½¬ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬</span></code></pre><blockquote><p>json-bigint ä¼šæŠŠè¶…å‡º JS å®‰å…¨æ•´æ•°èŒƒå›´çš„æ•°å­—è½¬ä¸ºä¸€ä¸ª BigNumber ç±»å‹çš„å¯¹è±¡ï¼Œå¯¹è±¡æ•°æ®æ˜¯å®ƒå†…éƒ¨çš„ä¸€ä¸ªç®—æ³•å¤„ç†ä¹‹åçš„ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™è½¬ä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨ã€‚</p></blockquote><p>é€šè¿‡ Axios è¯·æ±‚å¾—åˆ°çš„æ•°æ®éƒ½æ˜¯ Axios å¤„ç†ï¼ˆJSON.parseï¼‰ä¹‹åçš„ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ Axios æ‰§è¡Œå¤„ç†ä¹‹å‰æ‰‹åŠ¨ä½¿ç”¨ json-bigint æ¥è§£æå¤„ç†ã€‚Axios æä¾›äº†è‡ªå®šä¹‰å¤„ç†åŸå§‹åç«¯è¿”å›æ•°æ®çš„ APIï¼š<code>transformResponse</code> ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token keyword">import</span> jsonBig <span class="token keyword">from</span> <span class="token string">'json-bigint'</span><span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token string">'&amp;#123; "value" : 9223372036854775807, "v2": 123 &amp;#125;'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jsonBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">const</span> request <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  baseURL<span class="token punctuation">:</span> <span class="token string">'http://ttapi.research.itcast.cn/'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ¥å£åŸºç¡€è·¯å¾„</span>  <span class="token comment" spellcheck="true">// transformResponse å…è®¸è‡ªå®šä¹‰åŸå§‹çš„å“åº”æ•°æ®ï¼ˆå­—ç¬¦ä¸²ï¼‰</span>  transformResponse<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// å¦‚æœè½¬æ¢æˆåŠŸåˆ™è¿”å›è½¬æ¢çš„æ•°æ®ç»“æœ</span>      <span class="token keyword">return</span> jsonBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// å¦‚æœè½¬æ¢å¤±è´¥ï¼Œåˆ™åŒ…è£…ä¸ºç»Ÿä¸€æ•°æ®æ ¼å¼å¹¶è¿”å›</span>      <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        data      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> request</code></pre><blockquote><p>æ‰©å±•ï¼šES2020 BigInt<br>ES2020 å¼•å…¥äº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼ˆå¤§æ•´æ•°ï¼‰ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚BigInt åªç”¨æ¥è¡¨ç¤ºæ•´æ•°ï¼Œæ²¡æœ‰ä½æ•°çš„é™åˆ¶ï¼Œä»»ä½•ä½æ•°çš„æ•´æ•°éƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚<br>å‚è€ƒé“¾æ¥ï¼š</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects&#x2F;BigInt</a></li><li><a href="http://es6.ruanyifeng.com/#docs/number#BigInt-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">http://es6.ruanyifeng.com/#docs/number#BigInt-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> åç«¯çš„å¤§æ•°å­— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœç´¢ç»†èŠ‚é—®é¢˜</title>
      <link href="/2022/10/28/guan-yu-sou-suo-shi-de-yi-xie-xi-jie/"/>
      <url>/2022/10/28/guan-yu-sou-suo-shi-de-yi-xie-xi-jie/</url>
      
        <content type="html"><![CDATA[<h2 id="é˜²æŠ–ä¼˜åŒ–"><a href="#é˜²æŠ–ä¼˜åŒ–" class="headerlink" title="é˜²æŠ–ä¼˜åŒ–"></a>é˜²æŠ–ä¼˜åŒ–</h2><p>é˜²æŠ–ï¼šé˜²æ­¢ç”¨æˆ·åœ¨è¾“å…¥å…³é”®è¯æ˜¯inputçš„changeäº‹ä»¶ä¸æ–­è§¦å‘ï¼Œå¯¼è‡´è¿‡å¤šä¸å¿…è¦çš„è¯·æ±‚</p><p>è§£å†³æ–¹æ¡ˆï¼š1ã€åŠ å®šæ—¶å™¨ 2ã€ä½¿ç”¨æ’ä»¶</p><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨lodashæ’ä»¶</p><p>1ã€å®‰è£…lodash</p><pre class=" language-sh"><code class="language-sh"># yarn add lodashnpm i lodash</code></pre><p>2ã€é˜²æŠ–å¤„ç†</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// lodash æ”¯æŒæŒ‰éœ€åŠ è½½ï¼Œæœ‰åˆ©äºæ‰“åŒ…ç»“æœä¼˜åŒ–</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> debounce <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'lodash'</span></code></pre><blockquote><p>ä¸å»ºè®®ä¸‹é¢è¿™æ ·å®ç”¨ï¼Œå› ä¸ºè¿™æ ·ä¼šåŠ è½½æ•´ä¸ªæ¨¡å—</p></blockquote><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span>_<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// debounceå‡½æ•°</span><span class="token comment" spellcheck="true">// å‚æ•°1ï¼šå‡½æ•°</span><span class="token comment" spellcheck="true">// å‚æ•°2ï¼šé˜²æŠ–æ—¶é—´</span><span class="token comment" spellcheck="true">// è¿”å›å€¼ï¼šé˜²æŠ–ä¹‹åçš„å‡½æ•°ï¼Œå’Œå‚æ•°1åŠŸèƒ½æ˜¯ä¸€æ ·çš„</span>onSearchInput<span class="token punctuation">:</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> searchContent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchContent    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>searchContent<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>     <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 1. è¯·æ±‚è·å–æ•°æ®</span>    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> data <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getSuggestions</span><span class="token punctuation">(</span>searchContent<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// 2. å°†æ•°æ®æ·»åŠ åˆ°ç»„ä»¶å®ä¾‹ä¸­</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>suggestions <span class="token operator">=</span> data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>options    <span class="token comment" spellcheck="true">// 3. æ¨¡æ¿ç»‘å®š</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span></code></pre><h2 id="æœç´¢å…³é”®å­—é«˜äº®"><a href="#æœç´¢å…³é”®å­—é«˜äº®" class="headerlink" title="æœç´¢å…³é”®å­—é«˜äº®"></a>æœç´¢å…³é”®å­—é«˜äº®</h2><p>å¦‚ä½•å°†å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šå­—ç¬¦åœ¨<strong>ç½‘é¡µ</strong>ä¸­é«˜äº®å±•ç¤ºï¼Ÿ<br>å°†éœ€è¦é«˜äº®çš„å­—ç¬¦åŒ…è£¹ HTML æ ‡ç­¾ï¼Œä¸ºå…¶å•ç‹¬è®¾ç½®é¢œè‰²ã€‚</p><pre class=" language-html"><code class="language-html">"Hello <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"</code></pre><p>åœ¨ Vue ä¸­å¦‚ä½•æ¸²æŸ“å¸¦æœ‰ HTML æ ‡ç­¾çš„å­—ç¬¦ä¸²ï¼Ÿ</p><pre class=" language-js"><code class="language-js">data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    htmlStr<span class="token punctuation">:</span> <span class="token string">'Hello &lt;span style="color: red">World&lt;/span>'</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span> htmlStr <span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>htmlStr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p><img src="/../img/image-20200112154732044.png" alt="æ˜¾ç¤ºç»“æœ"></p><p>å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­æŒ‡å®šå­—ç¬¦ç»Ÿä¸€æ›¿æ¢ä¸ºé«˜äº®ï¼ˆåŒ…è£¹äº† HTMLï¼‰çš„å­—ç¬¦ï¼Ÿ</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token comment" spellcheck="true">// ç»“æœï¼š&lt;span style="color: red">Hello&lt;/span> World</span><span class="token string">"Hello World"</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span><span class="token string">'&lt;span style="color: red">Hello&lt;/span>'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¦‚æœæƒ³å…¨æ–‡æ›¿æ¢ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span><span class="token comment" spellcheck="true">// g å…¨å±€</span><span class="token comment" spellcheck="true">// i å¿½ç•¥å¤§å°å†™</span><span class="token comment" spellcheck="true">// &lt;span style="color: red">Hello&lt;/span> World &lt;span style="color: red">Hello&lt;/span> abc</span><span class="token string">"Hello World Hello abc"</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/Hello/gi</span><span class="token punctuation">,</span> <span class="token string">'&lt;span style="color: red">Hello&lt;/span>'</span><span class="token punctuation">)</span></code></pre><blockquote><p>ä¸€ä¸ªå°æ‰©å±•ï¼šä½¿ç”¨å­—ç¬¦ä¸²çš„ split ç»“åˆæ•°ç»„çš„ join æ–¹æ³•å®ç°é«˜äº®</p></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"hello world ä½ å¥½ hello"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ["", " world ä½ å¥½ ", ""]</span><span class="token keyword">const</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// "&lt;span>hello&lt;/span> world ä½ å¥½ &lt;span>hello&lt;/span>"</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"&lt;span>hello&lt;/span>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸‹é¢æ˜¯å…·ä½“çš„å¤„ç†ã€‚</p><p>1ã€åœ¨methodä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•å¤„ç†é«˜äº®</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å‚æ•° sourceï¼šåŸå§‹å­—ç¬¦ä¸²</span><span class="token comment" spellcheck="true">// å‚æ•° keyword: éœ€è¦é«˜äº®çš„å…³é”®å­—</span><span class="token comment" spellcheck="true">// è¿”å›å€¼ï¼šæ›¿æ¢ä¹‹åçš„é«˜äº®å­—ç¬¦ä¸²</span>highlight <span class="token punctuation">(</span>source<span class="token punctuation">,</span> keyword<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// /searchContent/ æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ä¸€åˆ‡å†…å®¹éƒ½ä¼šå½“åšå­—ç¬¦ä¸²ä½¿ç”¨</span>  <span class="token comment" spellcheck="true">// è¿™é‡Œå¯ä»¥ new RegExp æ–¹å¼æ ¹æ®å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼</span>  <span class="token comment" spellcheck="true">// RegExp æ˜¯åŸç”Ÿ JavaScript çš„å†…ç½®æ„é€ å‡½æ•°</span>  <span class="token comment" spellcheck="true">// å‚æ•°1ï¼šå­—ç¬¦ä¸²ï¼Œæ³¨æ„ï¼Œè¿™é‡Œä¸è¦åŠ  //</span>  <span class="token comment" spellcheck="true">// å‚æ•°2ï¼šåŒ¹é…æ¨¡å¼ï¼Œg å…¨å±€ï¼Œi å¿½ç•¥å¤§å°å†™</span>  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>keyword<span class="token punctuation">,</span> <span class="token string">'gi'</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`&lt;span style="color: #3296fa">$&amp;#123;keyword&amp;#125;&lt;/span>`</span></span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span></code></pre><p>2ã€ç„¶ååœ¨è”æƒ³å»ºè®®åˆ—è¡¨é¡¹ä¸­ç»‘å®šè°ƒç”¨</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> è”æƒ³å»ºè®® <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>van<span class="token operator">-</span>cell<span class="token operator">-</span>group v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"searchContent"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>van<span class="token operator">-</span>cell    icon<span class="token operator">=</span><span class="token string">"search"</span>    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in suggestions"</span>    <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"index"</span>    @click<span class="token operator">=</span><span class="token string">"onSearch(item)"</span>  <span class="token operator">></span>    <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"title"</span> v<span class="token operator">-</span>html<span class="token operator">=</span><span class="token string">"highlight(item, searchContent)"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>cell<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>cell<span class="token operator">-</span>group<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">/</span>è”æƒ³å»ºè®® <span class="token operator">--</span><span class="token operator">></span></code></pre><h2 id="æ•°æ®æŒä¹…åŒ–"><a href="#æ•°æ®æŒä¹…åŒ–" class="headerlink" title="æ•°æ®æŒä¹…åŒ–"></a>æ•°æ®æŒä¹…åŒ–</h2><p>1ã€åˆ©ç”¨ watch ç›‘è§†ç»Ÿä¸€å­˜å‚¨æ•°æ®</p><pre class=" language-js"><code class="language-js">watch<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  searchHistories <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// åŒæ­¥åˆ°æœ¬åœ°å­˜å‚¨</span>    <span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'serach-histories'</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span></code></pre><p>2ã€åˆå§‹åŒ–çš„æ—¶å€™ä»æœ¬åœ°å­˜å‚¨è·å–æ•°æ®</p><pre class=" language-js"><code class="language-js">data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token operator">...</span>    searchHistories<span class="token punctuation">:</span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'serach-histories'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤„ç†ç›¸å¯¹æ—¶é—´</title>
      <link href="/2022/10/28/chu-li-xiang-dui-shi-jian/"/>
      <url>/2022/10/28/chu-li-xiang-dui-shi-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="å¤„ç†ç›¸å¯¹æ—¶é—´"><a href="#å¤„ç†ç›¸å¯¹æ—¶é—´" class="headerlink" title="å¤„ç†ç›¸å¯¹æ—¶é—´"></a>å¤„ç†ç›¸å¯¹æ—¶é—´</h2><p>æ¨èä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“ï¼š</p><ul><li><a href="https://momentjs.com/">Moment.js</a></li><li><a href="https://day.js.org/">Day.js</a></li></ul><p>ä¸¤è€…éƒ½æ˜¯ä¸“é—¨ç”¨äºå¤„ç†æ—¶é—´çš„ JavaScript åº“ï¼ŒåŠŸèƒ½å·®ä¸å¤šï¼Œå› ä¸º Day.js çš„è®¾è®¡å°±æ˜¯å‚è€ƒçš„ Moment.jsã€‚ä½†æ˜¯ Day.js ç›¸æ¯” Moment.js çš„åŒ…ä½“ç§¯è¦æ›´å°ä¸€äº›ï¼Œå› ä¸ºå®ƒé‡‡ç”¨äº†æ’ä»¶åŒ–çš„å¤„ç†æ–¹å¼ã€‚</p><p><a href="https://day.js.org/zh-CN/">Day.js</a> æ˜¯ä¸€ä¸ªè½»é‡çš„å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„ JavaScript åº“ï¼Œå’Œ <a href="https://momentjs.com/">Moment.js</a> çš„ API è®¾è®¡ä¿æŒå®Œå…¨ä¸€æ ·ï¼Œå¦‚æœæ‚¨æ›¾ç»ç”¨è¿‡ Moment.js, é‚£ä¹ˆæ‚¨å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨ Day.js ã€‚</p><ul><li>Day.jså¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨å’ŒNode.jsä¸­ã€‚</li><li>ğŸ•’å’ŒMoment.jsç›¸åŒçš„APIå’Œç”¨æ³•</li><li>ğŸ’ª ä¸å¯å˜æ•°æ®(Immutable)</li><li>ğŸ”¥æ”¯æŒé“¾å¼æ“ä½œ(Chainable)</li><li>ğŸŒå›½é™…åŒ–</li><li>ğŸ“¦ ä»…ä»…2kbå¤§å°çš„å¾®åº“</li><li>ğŸ‘«å…¨æµè§ˆå™¨å…¼å®¹</li></ul><p>1ã€å®‰è£…</p><pre class=" language-sh"><code class="language-sh">npm i dayjs</code></pre><p>2ã€åˆ›å»º <code>utils/dayjs.js</code></p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> daujs <span class="token keyword">from</span> <span class="token string">'dayjs'</span><span class="token comment" spellcheck="true">// åŠ è½½ä¸­æ–‡è¯­è¨€åŒ…</span><span class="token keyword">import</span> <span class="token string">'dayjs/local/zh-cn'</span><span class="token keyword">import</span> relativeTime <span class="token keyword">from</span> <span class="token string">'dayjs/plugin/relativeTime'</span><span class="token comment" spellcheck="true">// é…ç½®ä½¿ç”¨å¤„ç†ç›¸å¯¹æ—¶é—´çš„æ’ä»¶</span>dayjs<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>relativeTime<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// é…ç½®ä½¿ç”¨ä¸­æ–‡è¯­è¨€åŒ…</span>dayjs<span class="token punctuation">.</span><span class="token function">local</span><span class="token punctuation">(</span><span class="token string">'zh-cn'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// å…¨å±€æ³¨å†Œè¿‡æ»¤å™¨</span>Vue<span class="token punctuation">:</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'relativeTime'</span><span class="token punctuation">,</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token function">dayjs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><p>3ã€åœ¨main.jsä¸­åŠ è½½åˆå§‹åŒ–</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'./utils/dayjs'</span></code></pre><p>4ã€ä½¿ç”¨è¿‡æ»¤å™¨</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span> æ—¥æœŸæ•°æ® | relativeTime <span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> day.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡403çš„é—®é¢˜</title>
      <link href="/2022/10/28/guan-yu-di-san-fang-tu-pian-zi-yuan-403-de-wen-ti/"/>
      <url>/2022/10/28/guan-yu-di-san-fang-tu-pian-zi-yuan-403-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡èµ„æº403é—®é¢˜"><a href="#å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡èµ„æº403é—®é¢˜" class="headerlink" title="å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡èµ„æº403é—®é¢˜"></a><strong>å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡èµ„æº403é—®é¢˜</strong></h2><p>ä¸ºä»€ä¹ˆæ–‡ç« åˆ—è¡¨æ•°æ®ä¸­çš„å¥½å¤šå›¾ç‰‡èµ„æºè¯·æ±‚å¤±è´¥è¿”å› 403ï¼Ÿ</p><blockquote><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬é¡¹ç›®çš„æ¥å£æ•°æ®æ˜¯åç«¯é€šè¿‡çˆ¬è™«æŠ“å–çš„ç¬¬ä¸‰æ–¹å¹³å°å†…å®¹ï¼Œè€Œç¬¬ä¸‰æ–¹å¹³å°å¯¹å›¾ç‰‡èµ„æºåšäº†é˜²ç›—é“¾å¤„ç†</p></blockquote><p>ç¬¬ä¸‰æ–¹å¹³å°æ€ä¹ˆå¤„ç†å›¾ç‰‡çš„èµ„æºä¿æŠ¤çš„ï¼Ÿ</p><blockquote><p>æœåŠ¡ç«¯ä¸€èˆ¬ä½¿ç”¨Referer è¯·æ±‚å¤´è¯†åˆ«è®¿é—®æ¥æºï¼Œç„¶åå¤„ç†èµ„æºè®¿é—®</p></blockquote><p><img src="/../img/image-20200405134347749.png" alt="å›¾ç‰‡è¯·æ±‚"></p><p>Referer æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</p><blockquote><p>æ‰©å±•å‚è€ƒ:<a href="http://www.ruanyifeng.com/blog/2019/06/http-referer.html">http://www.ruanyifeng.com/blog/2019/06/http-referer.html</a></p></blockquote><pre class=" language-markdown"><code class="language-markdown">Referer æ˜¯ HTTP è¯·æ±‚å¤´çš„ä¸€éƒ¨åˆ†ï¼Œå½“æµè§ˆå™¨å‘ Web æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸Š Refererï¼Œå®ƒåŒ…å«äº†å½“å‰è¯·æ±‚èµ„æºçš„æ¥æºé¡µé¢çš„åœ°å€ã€‚æœåŠ¡ç«¯ä¸€èˆ¬ä½¿ç”¨ Referer è¯·æ±‚å¤´è¯†åˆ«è®¿é—®æ¥æºï¼Œå¯èƒ½ä¼šä»¥æ­¤è¿›è¡Œç»Ÿè®¡åˆ†æã€æ—¥å¿—è®°å½•ä»¥åŠç¼“å­˜ä¼˜åŒ–ç­‰ã€‚</code></pre><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯refererå®é™…ä¸Šæ˜¯â€™referrerâ€™è¯¯æ‹¼å†™ã€‚å‚è§<a href="https://zh.wikipedia.org/wiki/HTTP_referer">HTTP referer on Wikipedia</a> ï¼ˆHTTP referer åœ¨ç»´åŸºç™¾ç§‘ä¸Šçš„æ¡ç›®ï¼‰æ¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p></blockquote><p>æ€ä¹ˆè§£å†³ï¼Ÿ</p><pre class=" language-markdown"><code class="language-markdown">ä¸è¦å‘é€Referrerï¼Œå¯¹æ–¹æœåŠ¡ç«¯å°±ä¸çŸ¥é“ç¬”ä»å“ªé‡Œæ¥äº†ï¼Œå§‘ä¸”è®¤ä¸ºæ˜¯è‡ªå·±äºº</code></pre><p>å¦‚ä½•è®¾ç½®ä¸å‘é€referrerï¼Ÿ</p><p>ç”¨ <code>&lt;a&gt;</code>ã€<code>&lt;area&gt;</code>ã€<code>&lt;img&gt;</code>ã€<code>&lt;iframe&gt;</code>ã€<code>&lt;script&gt;</code> æˆ–è€… <code>&lt;link&gt;</code> å…ƒç´ ä¸Šçš„ <code>referrerpolicy</code> å±æ€§ä¸ºå…¶è®¾ç½®ç‹¬ç«‹çš„è¯·æ±‚ç­–ç•¥ï¼Œä¾‹å¦‚ï¼š</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://â€¦â€¦<span class="token punctuation">"</span></span> <span class="token attr-name">referrerPolicy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>æˆ–è€…ç›´æ¥åœ¨ HTMl é¡µé¢å¤´ä¸­é€šè¿‡ meta å±æ€§å…¨å±€é…ç½®ï¼š</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>referrer<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> ç¬¬ä¸‰æ–¹å›¾ç‰‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼˜åŒ–è®¾ç½®Token</title>
      <link href="/2022/10/27/you-hua-she-zhi-token/"/>
      <url>/2022/10/27/you-hua-she-zhi-token/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¼˜åŒ–è®¾ç½®Token"><a href="#ä¼˜åŒ–è®¾ç½®Token" class="headerlink" title="ä¼˜åŒ–è®¾ç½®Token"></a><strong>ä¼˜åŒ–è®¾ç½®Token</strong></h2><p>é¡¹ç›®ä¸­çš„æ¥å£å¤§éƒ¨åˆ†éœ€è¦æˆ‘ä»¬æä¾›tokenæ‰æœ‰è®¿é—®æƒé™<br>é€šè¿‡æ¥å£æ–‡æ¡£æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåç«¯æ¥å£è¦æ±‚æˆ‘ä»¬å°†tokenæ”¾åˆ°è¯·æ±‚å¤´headerä¸­å¹¶ä»¥ä¸‹é¢çš„æ ¼å¼å‘é€<br><img src="/../img/image-20200301214857543.png" alt="tokenå‘é€æ ¼å¼"></p><blockquote><p>å­—æ®µåç§°: Authorization<br>å­—æ®µå€¼: Bearer token</p></blockquote><p>æ–¹å¼ä¸€: åœ¨æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™æ‰‹åŠ¨æ·»åŠ (éº»çƒ¦)ã€‚</p><pre class=" language-javascript"><code class="language-javascript"><span class="token function">axios</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    method<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    url<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    header<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        Authorization<span class="token punctuation">:</span> <span class="token string">'Bearer token'</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><p>æ–¹å¼äºŒï¼šä½¿ç”¨è¯·æ±‚æ‹¦æˆªå™¨ç»Ÿä¸€æ·»åŠ (æ¨èï¼Œæ›´æ–¹ä¾¿)</p><p><img src="/../img/header.png" alt="è¯·æ±‚æ‹¦æˆªå™¨"></p><p>åœ¨ <code>src/utils/request.js</code> ä¸­æ·»åŠ æ‹¦æˆªå™¨ç»Ÿä¸€è®¾ç½® tokenï¼š</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">/** * è¯·æ±‚æ¨¡å— */</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span><span class="token keyword">const</span> request <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    baseURL<span class="token punctuation">:</span> <span class="token string">'http://toutiao.itheima.net'</span> <span class="token comment" spellcheck="true">// æ¥å£çš„åŸºå‡†åœ°å€</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// è¯·æ±‚æ‹¦æˆªå™¨</span>request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>config <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// config: æœ¬æ¬¡è¯·æ±‚çš„é…ç½®å¯¹è±¡</span>    <span class="token comment" spellcheck="true">// config é‡Œé¢æœ‰ä¸€ä¸ªå±æ€§ï¼šheader</span>    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> user <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> store<span class="token punctuation">.</span>state    <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        config<span class="token punctuation">.</span>header<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token template-string"><span class="token string">`Bearer $&amp;#123;user.token&amp;#125;`</span></span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> config<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> error <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å“åº”æ‹¦æˆªå™¨</span><span class="token keyword">export</span> <span class="token keyword">default</span> request</code></pre>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> token </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äº.postcssrc.jsé…ç½®æ–‡ä»¶</title>
      <link href="/2022/10/27/guan-yu.postcssrc.js-pei-zhi-wen-jian/"/>
      <url>/2022/10/27/guan-yu.postcssrc.js-pei-zhi-wen-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äº-postcssrc-jsé…ç½®æ–‡ä»¶"><a href="#å…³äº-postcssrc-jsé…ç½®æ–‡ä»¶" class="headerlink" title="å…³äº.postcssrc.jsé…ç½®æ–‡ä»¶"></a><strong>å…³äº<code>.postcssrc.js</code>é…ç½®æ–‡ä»¶</strong></h2><pre class=" language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    plugin<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token string">'autoprefixer'</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            browsers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Android >= 4.0'</span><span class="token punctuation">,</span> <span class="token string">'iOS >= 8'</span><span class="token punctuation">]</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>        <span class="token string">'postcss-pxtorem'</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            rootValue<span class="token punctuation">:</span> <span class="token number">37.5</span><span class="token punctuation">,</span>            propList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p><code>.postcssrc.js</code>æ˜¯ PostCSS çš„é…ç½®æ–‡ä»¶ã€‚</p><p>ï¼ˆ1ï¼‰PostCSS ä»‹ç»</p><p><a href="https://postcss.org/">PostCSS</a> æ˜¯ä¸€ä¸ªå¤„ç† CSS çš„å¤„ç†å·¥å…·ï¼Œæœ¬èº«åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œå®ƒä¸»è¦è´Ÿè´£è§£æ CSS ä»£ç ï¼Œå†äº¤ç”±æ’ä»¶æ¥è¿›è¡Œå¤„ç†ï¼Œå®ƒçš„æ’ä»¶ä½“ç³»éå¸¸å¼ºå¤§ï¼Œæ‰€èƒ½è¿›è¡Œçš„æ“ä½œæ˜¯å¤šç§å¤šæ ·çš„ï¼Œä¾‹å¦‚ï¼š</p><ul><li><a href="https://github.com/postcss/autoprefixer">Autoprefixer</a> æ’ä»¶å¯ä»¥å®ç°è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨ç›¸å…³çš„å£°æ˜å‰ç¼€</li><li><a href="https://github.com/csstools/postcss-preset-env">PostCSS Preset Env</a> æ’ä»¶å¯ä»¥è®©ä½ ä½¿ç”¨æ›´æ–°çš„CSSè¯­æ³•ç‰¹æ€§å¹¶å®ç°å‘ä¸‹å…¼å®¹</li><li><a href="https://github.com/cuth/postcss-pxtorem">postcss-pxtorem</a> å¯ä»¥å®ç°å°† px è½¬æ¢ä¸º rem</li><li>â€¦</li></ul><p>ç›®å‰ PostCSS å·²ç»æœ‰ <a href="https://github.com/postcss/postcss/blob/master/docs/plugins.md">200 å¤šä¸ªåŠŸèƒ½å„å¼‚çš„æ’ä»¶</a>ã€‚å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥æ ¹æ®é¡¹ç›®çš„éœ€è¦ï¼Œå¼€å‘å‡ºè‡ªå·±çš„ PostCSS æ’ä»¶ã€‚</p><p>PostCSS ä¸€èˆ¬ä¸å•ç‹¬ä½¿ç”¨ï¼Œè€Œæ˜¯ä¸å·²æœ‰çš„æ„å»ºå·¥å…·è¿›è¡Œé›†æˆã€‚</p><p><a href="https://cli.vuejs.org/zh/guide/css.html#postcss">Vue CLI é»˜è®¤é›†æˆäº† PostCSS</a>ï¼Œå¹¶ä¸”é»˜è®¤å¼€å¯äº† <a href="https://github.com/postcss/autoprefixer">autoprefixer</a> æ’ä»¶ã€‚</p><blockquote><p>Vue CLIå†…éƒ¨ä½¿ç”¨äº†PostCSSã€‚<br>ä½ å¯ä»¥é€šè¿‡<code>.postcssrc</code>æˆ–ä»»ä½• <a href="https://github.com/michael-ciniawsky/postcss-load-config">postcss-load-config</a>æ”¯æŒçš„é…ç½®èµ„æºæ¥é…ç½®PostCSS<br>ä¹Ÿå¯ä»¥é€šè¿‡vue.config.jsä¸­çš„css.loaderOptions.postcssé…ç½® <a href="https://github.com/postcss/postcss-loader">postcss-loader</a>ã€‚<br>æˆ‘ä»¬é»˜è®¤å¼€å¯äº†<a href="https://github.com/postcss/autoprefixer">autoprefixer</a>ã€‚å¦‚æœè¦é…ç½®ç›®æ ‡æµè§ˆå™¨ï¼Œå¯ä½¿ç”¨ <code>package.json</code> çš„ <a href="https://cli.vuejs.org/zh/guide/browser-compatibility.html#browserslist">browserslist</a> å­—æ®µã€‚</p></blockquote><p>ï¼ˆ2ï¼‰Autoprefixer æ’ä»¶çš„é…ç½®</p><p><img src="/../img/image-20200319104557718.png" alt="Autoprefixeræ’ä»¶çš„é…ç½®"></p><p><a href="https://github.com/postcss/autoprefixer">autoprefixer</a>æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€çš„ PostCss æ’ä»¶ï¼Œ<code>browsers</code> ç”¨æ¥é…ç½®å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ï¼Œä½†æ˜¯å†™åœ¨è¿™é‡Œçš„è¯ä¼šå¼•èµ·ç¼–è¯‘å™¨è­¦å‘Šã€‚</p><pre class=" language-error"><code class="language-error">Replace Autoprefixer browsers option to Browserslist config.Use browserslist key in package.json or .browserslistrc file.Using browsers option can cause errors. Browserslist configcan be used for Babel, Autoprefixer, postcss-normalize and other tools.If you really need to use option, rename it to overrideBrowserslist.Learn more at:https://github.com/browserslist/browserslist#readmehttps://twitter.com/browserslist</code></pre><p>è­¦å‘Šæ„æ€å°±æ˜¯è¯´ä½ åº”è¯¥å°† <code>browsers</code> é€‰é¡¹å†™åˆ° <code>package.json</code> æˆ– <code>.browserlistrc</code> æ–‡ä»¶ä¸­ã€‚</p><pre class=" language-default"><code class="language-default">[Android]>= 4.0[iOS]>= 8</code></pre><blockquote><p>å…·ä½“è¯­æ³•è¯·<a href="https://github.com/browserslist/browserslist">å‚è€ƒè¿™é‡Œ</a>ã€‚<br>ï¼ˆ3ï¼‰postcss-pxtorem æ’ä»¶çš„é…ç½®</p></blockquote><p><img src="/../img/image-20200319105610557.png" alt="postcss-pxtoremæ’ä»¶çš„é…ç½®"></p><ul><li><code>rootValue</code>: è¡¨ç¤ºæ ¹å…ƒç´ å­—ä½“å¤§å°ï¼Œå®ƒä¼šæ ¹æ®å…ƒç´ å¤§å°è¿›è¡Œå•ä½è½¬æ¢</li><li><code>propList</code>: ç”¨æ¥è®¾å®šå¯ä»¥ä»pxè½¬ä¸ºremçš„å±æ€§<ul><li>ä¾‹å¦‚<code>*</code>å°±æ˜¯æ‰€æœ‰çš„å±æ€§éƒ½è¦è½¬æ¢ï¼Œ<code>width</code>å°±æ˜¯ä»…ä»…è½¬æ¢<code>width</code>å±æ€§</li></ul></li></ul><p><code>rootValue</code> åº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ</p><pre class=" language-default"><code class="language-default">å¦‚æœä½ ä½¿ç”¨çš„æ˜¯åŸºäº lib-flexable çš„ REM é€‚é…æ–¹æ¡ˆï¼Œåˆ™åº”è¯¥è®¾ç½®ä¸ºä½ çš„è®¾è®¡ç¨¿çš„ååˆ†ä¹‹ä¸€ã€‚ä¾‹å¦‚è®¾è®¡ç¨¿æ˜¯ 750 å®½ï¼Œåˆ™åº”è¯¥è®¾ç½®ä¸º 75ã€‚</code></pre><p>å¤§å¤šæ•°è®¾è®¡ç¨¿çš„åŸå‹éƒ½æ˜¯ä»¥ iphone6 ä¸ºåŸå‹ï¼Œiphone6 è®¾å¤‡çš„å®½æ˜¯ 750ï¼Œæˆ‘ä»¬çš„è®¾è®¡ç¨¿ä¹Ÿæ˜¯è¿™æ ·ã€‚</p><p>ä½†æ˜¯ Vant å»ºè®®è®¾ç½®ä¸º 37.5ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><blockquote><p>å› ä¸º Vant æ˜¯åŸºäº 375 å†™çš„ï¼Œæ‰€ä»¥å¦‚æœä½ è®¾ç½®ä¸º 75 çš„è¯ï¼ŒVant çš„æ ·å¼å°±å°äº†ä¸€åŠã€‚</p></blockquote><p>æ‰€ä»¥å¦‚æœè®¾ç½®ä¸º<code>37.5</code>çš„è¯ï¼ŒVant çš„æ ·å¼æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æµ‹é‡è®¾è®¡ç¨¿çš„æ—¶å€™éƒ½å¿…é¡»é™¤2æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™å°±ä¼šå˜å¾—å¾ˆå¤§ã€‚</p><p>è¿™æ ·åšå…¶å®ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•å‘¢ï¼Ÿæˆ‘å°±æƒ³å®ç°æµ‹é‡å¤šå°‘å†™å¤šå°‘ï¼ˆä¸ç”¨æ¢ç®—ï¼‰ã€‚äºæ˜¯èªæ˜çš„ä½ å°±æƒ³ï¼Œå¯ä»¥ä¸å¯ä»¥è¿™æ ·æ¥åšï¼Ÿ</p><ul><li>å¦‚æœæ˜¯ Vant çš„æ ·å¼ï¼Œå°±æŠŠ <code>rootValue</code> è®¾ç½®ä¸º 37.5 æ¥è½¬æ¢</li><li>å¦‚æœæ˜¯æˆ‘ä»¬çš„æ ·å¼ï¼Œå°±æŒ‰ç…§ 75 çš„ <code>rootValue</code> æ¥è½¬æ¢</li></ul><p>é€šè¿‡<a href="https://github.com/cuth/postcss-pxtorem#options">æŸ¥é˜…æ–‡æ¡£</a>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>rootValue</code> æ”¯æŒä¸¤ç§å‚æ•°ç±»å‹ï¼š</p><ul><li>æ•°å­—ï¼šå›ºå®šå€¼</li><li>å‡½æ•°ï¼šåŠ¨æ€è®¡ç®—è¿”å›<ul><li>postcss-pxtoremå¤„ç†æ¯ä¸ª CSS æ–‡ä»¶çš„æ—¶å€™éƒ½ä¼šæ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°</li><li>å®ƒä¼šæŠŠè¢«å¤„ç†çš„ CSS æ–‡ä»¶ç›¸å…³çš„ä¿¡æ¯é€šè¿‡å‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•°</li></ul></li></ul><p>æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹é…ç½®å¦‚ä¸‹:</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">/** * PostCSSé…ç½®æ–‡ä»¶ */</span>module<span class="token punctuation">.</span>exports <span class="token operator">-</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// é…ç½®è¦æ˜¯ç”¨çš„PostCSSæ’ä»¶</span>    plugins<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// é…ç½®ä½¿ç”¨ postcss-pxtorem æ’ä»¶</span>        <span class="token comment" spellcheck="true">// ä½œç”¨ï¼šæŠŠpx è½¬ä¸º rem</span>        <span class="token string">'postcss-pxtorem'</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            rootValue <span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> file <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> file<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'vant'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token number">37.5</span> <span class="token punctuation">:</span> <span class="token number">75</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>            propList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>é…ç½®å®Œæ¯•ï¼ŒæŠŠæœåŠ¡é‡å¯ä¸€ä¸‹ï¼Œæœ€åæµ‹è¯•ï¼Œvery goodã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> postcssrcæ’ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºç”¨æˆ·tokençš„å¤„ç†</title>
      <link href="/2022/10/26/guan-yu-yong-hu-token-de-chu-li/"/>
      <url>/2022/10/26/guan-yu-yong-hu-token-de-chu-li/</url>
      
        <content type="html"><![CDATA[<h2 id="å¤„ç†ç”¨æˆ·-Token"><a href="#å¤„ç†ç”¨æˆ·-Token" class="headerlink" title="å¤„ç†ç”¨æˆ· Token"></a><strong>å¤„ç†ç”¨æˆ· Token</strong></h2><p><code>Token</code>æ˜¯ç”¨æˆ·ç™»å½•æˆåŠŸåæœåŠ¡ç«¯è¿”å›çš„ä¸€ä¸ªèº«ä»½ä»¤ç‰Œï¼Œåœ¨é¡¹ç›®ä¸­çš„å¤šä¸ªä¸šåŠ¡ä¸­éœ€è¦ä½¿ç”¨åˆ°:</p><ul><li>è®¿é—®éœ€è¦æˆæƒçš„API</li><li>æ ¡éªŒé¡µé¢çš„è®¿é—®æƒé™</li><li>â€¦</li></ul><p>ä½†æ˜¯æˆ‘ä»¬åªæœ‰åœ¨ç¬¬ä¸€æ¬¡ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åæ‰èƒ½æ‹¿åˆ°<code>Token</code>ã€‚<br>æ‰€ä»¥ä¸ºäº†èƒ½åœ¨å…¶å®ƒæ¨¡å—ä¸­è·å–åˆ°<code>Token</code>æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒå­˜å‚¨åˆ°ä¸€ä¸ªå…¬å…±çš„ä½ç½®ï¼Œæ–¹ä¾¿éšæ—¶å–ç”¨ã€‚<br>å¾€å“ªå„¿å­˜ï¼Ÿ</p><ul><li>æœ¬åœ°å‚¨å­˜<ul><li>è·å–éº»çƒ¦</li><li>æ•°æ®ä¸æ˜¯å“åº”å¼</li></ul></li><li>Vuexå®¹å™¨ï¼ˆæ¨èï¼‰<ul><li>è·å–æ–¹ä¾¿</li><li>å“åº”å¼çš„</li></ul></li></ul><p>ä½¿ç”¨å®¹å™¨å­˜å‚¨<code>Token</code>çš„æ€è·¯ï¼š</p><p><img src="/../img/image-20200109192157006.png" alt="å®¹å™¨å­˜å‚¨Token"></p><ul><li>ç™»å½•æˆåŠŸåï¼Œå°†<code>Token</code>å­˜å‚¨åˆ°<code>Vuex</code>å®¹å™¨ä¸­<ul><li>è·å–æ–¹ä¾¿</li><li>å“åº”å¼</li></ul></li><li>ä¸ºäº†æŒä¹…åŒ–ï¼Œè¿˜éœ€è¦æŠŠ<code>Token</code>å­˜åˆ°æœ¬åœ°å‚¨å­˜<ul><li>æŒä¹…åŒ–</li></ul></li></ul><p>ä¸‹é¢æ˜¯å…·ä½“å®ç°</p><p>1ã€åœ¨<code>src/store/index.js</code>ä¸­</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    state<span class="token punctuation">:</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// ç”¨æˆ·ç™»å½•çš„çŠ¶æ€ä¿¡æ¯</span>        user<span class="token punctuation">:</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"TOUTIAO_USER"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// user: null</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    mutations<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        setUser <span class="token punctuation">(</span>state<span class="token punctuation">,</span> user<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            state<span class="token punctuation">.</span>user <span class="token operator">=</span> user            window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'TOUTIAO_USER'</span><span class="token punctuation">,</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    action<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    modules<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><p>2ã€ç™»å½•æˆåŠŸä»¥åå°†åç«¯è¿”å›çš„ token ç›¸å…³æ•°æ®å­˜å‚¨åˆ°å®¹å™¨ä¸­</p><pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> onLogin <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>$toast<span class="token punctuation">.</span><span class="token function">loading</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        duration<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æŒç»­æ—¶é—´ï¼Œ0è¡¨ç¤ºæŒç»­å±•ç¤ºä¸åœæ­¢</span>        forbidClick<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ˜¯å¦ç¦æ­¢èƒŒæ™¯ç‚¹å‡»</span>        message<span class="token punctuation">:</span> <span class="token string">'ç™»å½•ä¸­...'</span> <span class="token comment" spellcheck="true">// æç¤ºæ¶ˆæ¯</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setUser'</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'ç™»é™†æˆåŠŸ'</span><span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç™»å½•å¤±è´¥'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$toast<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'ç™»å½•å¤±è´¥ï¼Œæ‰‹æœºå·æˆ–éªŒè¯ç é”™è¯¯'</span><span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// åœæ­¢ loadingï¼Œå®ƒä¼šæŠŠå½“å‰é¡µé¢ä¸­æ‰€æœ‰çš„ toast éƒ½ç»™æ¸…é™¤</span>    <span class="token comment" spellcheck="true">// loginToast.clear()</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h2 id="ä¼˜åŒ–å°è£…æœ¬åœ°å­˜å‚¨æ“ä½œæ¨¡å—"><a href="#ä¼˜åŒ–å°è£…æœ¬åœ°å­˜å‚¨æ“ä½œæ¨¡å—" class="headerlink" title="ä¼˜åŒ–å°è£…æœ¬åœ°å­˜å‚¨æ“ä½œæ¨¡å—"></a><strong>ä¼˜åŒ–å°è£…æœ¬åœ°å­˜å‚¨æ“ä½œæ¨¡å—</strong></h2><p>åˆ›å»º<code>src/utils/storage.js</code>æ¨¡å—ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> getItem <span class="token operator">=</span> name <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> data <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> data    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> setItem <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        value <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> removeItem <span class="token operator">=</span> name <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h2 id="å…³äº-Token-è¿‡æœŸé—®é¢˜"><a href="#å…³äº-Token-è¿‡æœŸé—®é¢˜" class="headerlink" title="å…³äº Token è¿‡æœŸé—®é¢˜"></a><strong>å…³äº Token è¿‡æœŸé—®é¢˜</strong></h2><p>ç™»å½•æˆåŠŸä¹‹ååç«¯ä¼šè¿”å›ä¸¤ä¸ª Tokenï¼š</p><ul><li><code>token</code>ï¼šè®¿é—®ä»¤ç‰Œï¼Œæœ‰æ•ˆæœŸ2å°æ—¶</li><li><code>refresh_token</code>ï¼šåˆ·æ–°ä»¤ç‰Œï¼Œæœ‰æ•ˆæœŸ14å¤©ï¼Œç”¨äºè®¿é—®ä»¤ç‰Œè¿‡æœŸä¹‹åé‡æ–°è·å–æ–°çš„è®¿é—®ä»¤ç‰Œ</li></ul><p>æˆ‘ä»¬çš„é¡¹ç›®æ¥å£ä¸­è®¾å®šçš„ <code>Token</code> æœ‰æ•ˆæœŸæ˜¯ <code>2 å°æ—¶</code>ï¼Œè¶…è¿‡æœ‰æ•ˆæœŸæœåŠ¡ç«¯ä¼šè¿”å› <code>401</code> è¡¨ç¤º Token æ— æ•ˆæˆ–è¿‡æœŸäº†ã€‚</p><p>ä¸ºä»€ä¹ˆè¿‡æœŸæ—¶é—´è¿™ä¹ˆçŸ­ï¼Ÿ</p><ul><li>ä¸ºäº†å®‰å…¨ï¼Œä¾‹å¦‚ Token è¢«åˆ«äººç›—ç”¨</li></ul><p>è¿‡æœŸäº†æ€ä¹ˆåŠï¼Ÿ</p><ul><li><del>è®©ç”¨æˆ·é‡æ–°ç™»å½•</del>ï¼Œç”¨æˆ·ä½“éªŒå¤ªå·®äº†</li><li>ä½¿ç”¨<code>refresh-token</code>è§£å†³<code>token</code>è¿‡æœŸ</li></ul><p>å¦‚ä½•ä½¿ç”¨ <code>refresh_token</code> è§£å†³ <code>token</code> è¿‡æœŸï¼Ÿ</p><p>åˆ°è¯¾ç¨‹çš„åé¢æˆ‘ä»¬å¼€å‘çš„ä¸šåŠ¡åŠŸèƒ½ä¸°å¯Œèµ·æ¥ä¹‹åï¼Œå†ç»™å¤§å®¶è®²è§£ Token è¿‡æœŸå¤„ç†ã€‚</p><p>å¤§å®¶éœ€è¦æ³¨æ„çš„æ˜¯<strong>åœ¨å­¦ä¹ æµ‹è¯•çš„æ—¶å€™å¦‚æœæ”¶åˆ° 401 å“åº”ç ï¼Œè¯·é‡æ–°ç™»å½•å†æµ‹è¯•</strong>ã€‚</p><p><img src="/../img/v2-8f29f24dd291ddf46abda5d5ab7bec6c_720w.jpg" alt="Token è¿‡æœŸå¤„ç†"></p><p>æ¦‚è¿°ï¼šæœåŠ¡å™¨ç”Ÿæˆ<code>token</code>çš„è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰ä¸¤ä¸ªæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯<code>token</code>å¤±æ•ˆæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯<code>token</code>åˆ·æ–°æ—¶é—´ï¼Œåˆ·æ–°æ—¶é—´è‚¯å®šæ¯”å¤±æ•ˆæ—¶é—´é•¿ï¼Œå½“ç”¨æˆ·çš„ <code>token</code> è¿‡æœŸæ—¶ï¼Œä½ å¯ä»¥æ‹¿ç€è¿‡æœŸçš„<code>token</code>å»æ¢å–æ–°çš„<code>token</code>ï¼Œæ¥ä¿æŒç”¨æˆ·çš„ç™»é™†çŠ¶æ€ï¼Œå½“ç„¶ä½ è¿™ä¸ªè¿‡æœŸ<code>token</code>çš„è¿‡æœŸæ—¶é—´å¿…é¡»åœ¨åˆ·æ–°æ—¶é—´ä¹‹å†…ï¼Œå¦‚æœè¶…å‡ºäº†åˆ·æ–°æ—¶é—´ï¼Œé‚£ä¹ˆè¿”å›çš„ä¾æ—§æ˜¯ 401ã€‚</p><p>å¤„ç†æµç¨‹:</p><ol><li>åœ¨axiosçš„æ‹¦æˆªå™¨ä¸­åŠ å…¥tokenåˆ·æ–°é€»è¾‘</li><li>å½“ç”¨æˆ·tokenè¿‡æœŸæ—¶ï¼Œå»å‘æœåŠ¡å™¨è¯·æ±‚æ–°çš„ token</li><li>æŠŠæ—§çš„tokenæ›¿æ¢ä¸ºæ–°çš„token</li><li>ç„¶åç»§ç»­ç”¨æˆ·å½“å‰çš„è¯·æ±‚</li></ol><p>åœ¨è¯·æ±‚çš„å“åº”æ‹¦æˆªå™¨ä¸­ç»Ÿä¸€å¤„ç† token è¿‡æœŸï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/** * å°è£… axios è¯·æ±‚æ¨¡å— */</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span><span class="token keyword">import</span> jsonBig <span class="token keyword">from</span> <span class="token string">"json-bigint"</span><span class="token punctuation">;</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">"@/store"</span><span class="token punctuation">;</span><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">"@/router"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// axios.create æ–¹æ³•ï¼šå¤åˆ¶ä¸€ä¸ª axios</span><span class="token keyword">const</span> request <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  baseURL<span class="token punctuation">:</span> <span class="token string">"http://ttapi.research.itcast.cn/"</span> <span class="token comment" spellcheck="true">// åŸºç¡€è·¯å¾„</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** * é…ç½®å¤„ç†åç«¯è¿”å›æ•°æ®ä¸­è¶…å‡º js å®‰å…¨æ•´æ•°èŒƒå›´é—®é¢˜ */</span>request<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>transformResponse <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> jsonBig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è¯·æ±‚æ‹¦æˆªå™¨</span>request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>  <span class="token keyword">function</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> user <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token template-string"><span class="token string">`Bearer $&amp;#123;user.token&amp;#125;`</span></span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Do something before request is sent</span>    <span class="token keyword">return</span> config<span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  <span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Do something with request error</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å“åº”æ‹¦æˆªå™¨</span>request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>  <span class="token comment" spellcheck="true">// å“åº”æˆåŠŸè¿›å…¥ç¬¬1ä¸ªå‡½æ•°</span>  <span class="token comment" spellcheck="true">// è¯¥å‡½æ•°çš„å‚æ•°æ˜¯å“åº”å¯¹è±¡</span>  <span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Any status code that lie within the range of 2xx cause this function to trigger</span>    <span class="token comment" spellcheck="true">// Do something with response data</span>    <span class="token keyword">return</span> response<span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// å“åº”å¤±è´¥è¿›å…¥ç¬¬2ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°æ˜¯é”™è¯¯å¯¹è±¡</span>  <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Any status codes that falls outside the range of 2xx cause this function to trigger</span>    <span class="token comment" spellcheck="true">// Do something with response error</span>    <span class="token comment" spellcheck="true">// å¦‚æœå“åº”ç æ˜¯ 401 ï¼Œåˆ™è¯·æ±‚è·å–æ–°çš„ token</span>    <span class="token comment" spellcheck="true">// å“åº”æ‹¦æˆªå™¨ä¸­çš„ error å°±æ˜¯é‚£ä¸ªå“åº”çš„é”™è¯¯å¯¹è±¡</span>    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// æ ¡éªŒæ˜¯å¦æœ‰ refresh_token</span>      <span class="token keyword">const</span> user <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user <span class="token operator">||</span> <span class="token operator">!</span>user<span class="token punctuation">.</span>refresh_token<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// ä»£ç ä¸è¦å¾€åæ‰§è¡Œäº†</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// å¦‚æœæœ‰refresh_tokenï¼Œåˆ™è¯·æ±‚è·å–æ–°çš„ token</span>      <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>          method<span class="token punctuation">:</span> <span class="token string">"PUT"</span><span class="token punctuation">,</span>          url<span class="token punctuation">:</span> <span class="token string">"http://ttapi.research.itcast.cn/app/v1_0/authorizations"</span><span class="token punctuation">,</span>          headers<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            Authorization<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`Bearer $&amp;#123;user.refresh_token&amp;#125;`</span></span>          <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// å¦‚æœè·å–æˆåŠŸï¼Œåˆ™æŠŠæ–°çš„ token æ›´æ–°åˆ°å®¹å™¨ä¸­</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"åˆ·æ–° token  æˆåŠŸ"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"setUser"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>          token<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>token<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æœ€æ–°è·å–çš„å¯ç”¨ token</span>          refresh_token<span class="token punctuation">:</span> user<span class="token punctuation">.</span>refresh_token <span class="token comment" spellcheck="true">// è¿˜æ˜¯åŸæ¥çš„ refresh_token</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æŠŠä¹‹å‰å¤±è´¥çš„ç”¨æˆ·è¯·æ±‚ç»§ç»­å‘å‡ºå»</span>        <span class="token comment" spellcheck="true">// config æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ¬æ¬¡å¤±è´¥è¯·æ±‚ç›¸å…³çš„é‚£äº›é…ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚ urlã€method éƒ½æœ‰</span>        <span class="token comment" spellcheck="true">// return æŠŠ request çš„è¯·æ±‚ç»“æœç»§ç»­è¿”å›ç»™å‘è¯·æ±‚çš„å…·ä½“ä½ç½®</span>        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// å¦‚æœè·å–å¤±è´¥ï¼Œç›´æ¥è·³è½¬ ç™»å½•é¡µ</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚åˆ·çº¿ token å¤±è´¥"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> request<span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é»‘é©¬å¤´æ¡é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> vue </tag>
            
            <tag> token </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘æ˜“äº‘éŸ³ä¹æ¡ˆä¾‹</title>
      <link href="/2022/10/12/10.11-10.12-you-xie-liao-yi-bian-wang-yi-yun-yin-le-an-li/"/>
      <url>/2022/10/12/10.11-10.12-you-xie-liao-yi-bian-wang-yi-yun-yin-le-an-li/</url>
      
        <content type="html"><![CDATA[<h2 id="ç½‘æ˜“äº‘æ¡ˆä¾‹æ€»ç»“-ä¸´è¿‘è€ƒè¯•è¯¥å¤ä¹ äº†åœæ›´ä¸€æ®µæ—¶é—´-TâŒ“T"><a href="#ç½‘æ˜“äº‘æ¡ˆä¾‹æ€»ç»“-ä¸´è¿‘è€ƒè¯•è¯¥å¤ä¹ äº†åœæ›´ä¸€æ®µæ—¶é—´-TâŒ“T" class="headerlink" title="ç½‘æ˜“äº‘æ¡ˆä¾‹æ€»ç»“(ä¸´è¿‘è€ƒè¯•è¯¥å¤ä¹ äº†åœæ›´ä¸€æ®µæ—¶é—´(TâŒ“T))"></a>ç½‘æ˜“äº‘æ¡ˆä¾‹æ€»ç»“(ä¸´è¿‘è€ƒè¯•è¯¥å¤ä¹ äº†åœæ›´ä¸€æ®µæ—¶é—´(TâŒ“T))</h2><h3 id="1-åˆç†Ÿæ‚‰ä¸€évantç»„ä»¶åº“çš„ä½¿ç”¨"><a href="#1-åˆç†Ÿæ‚‰ä¸€évantç»„ä»¶åº“çš„ä½¿ç”¨" class="headerlink" title="1.åˆç†Ÿæ‚‰ä¸€évantç»„ä»¶åº“çš„ä½¿ç”¨"></a>1.åˆç†Ÿæ‚‰ä¸€évantç»„ä»¶åº“çš„ä½¿ç”¨</h3><p>1.å±€éƒ¨å¼•å…¥é…ç½®</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  presets<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token string">'@vue/cli-plugin-babel/preset'</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token string">"import"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token string">"libraryName"</span><span class="token punctuation">:</span> <span class="token string">"vant"</span><span class="token punctuation">,</span>      <span class="token string">"libraryDirectory"</span><span class="token punctuation">:</span> <span class="token string">"es"</span><span class="token punctuation">,</span>      <span class="token string">"style"</span><span class="token punctuation">:</span> <span class="token boolean">true</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span><span class="token string">'vant'</span><span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>é€šè¿‡æ­¤é…ç½®å¯ä»¥å®ç°vantç»„ä»¶åº“çš„å±€éƒ¨å¼•å…¥å³<code>import &#123;&#125; from &#39;vant&#39;</code></p><h3 id="2-æ›´åŠ ç†Ÿæ‚‰å°è£…axiosè¯·æ±‚çš„æ“ä½œ"><a href="#2-æ›´åŠ ç†Ÿæ‚‰å°è£…axiosè¯·æ±‚çš„æ“ä½œ" class="headerlink" title="2.æ›´åŠ ç†Ÿæ‚‰å°è£…axiosè¯·æ±‚çš„æ“ä½œ"></a>2.æ›´åŠ ç†Ÿæ‚‰å°è£…axiosè¯·æ±‚çš„æ“ä½œ</h3><p>1.å…ˆåœ¨srcä¸‹æ–°å»ºutils&#x2F;request.js,å¯¹ç½‘ç»œè¯·æ±‚è¿›è¡ŒäºŒæ¬¡å°è£…</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ç½‘ç»œè¯·æ±‚ - äºŒæ¬¡å°è£…</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'http://localhost:3000'</span><span class="token keyword">export</span> <span class="token keyword">default</span> axios</code></pre><p>2.å†åœ¨srcä¸‹æ–°å»ºapiæ–‡ä»¶ï¼Œå…¶ä¸­æ–°å»ºindex.jsä½œä¸ºè¯·æ±‚æ€»æ±‡,åˆ†åˆ«æ–°å»ºHome.js,Play.js,Search.jsè¿›è¡Œå…·ä½“è¯·æ±‚æ“ä½œ</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Home.js</span><span class="token comment" spellcheck="true">// æ–‡ä»¶å-å°½é‡å’Œæ¨¡å—é¡µé¢æ–‡ä»¶åç»Ÿä¸€</span><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span><span class="token comment" spellcheck="true">//é¦–é¡µ-æ¨èæ­Œå•</span><span class="token keyword">export</span> <span class="token keyword">const</span> recommendMusic <span class="token operator">=</span> params <span class="token operator">=</span><span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    url<span class="token punctuation">:</span><span class="token string">'/personalized'</span><span class="token punctuation">,</span>    params    <span class="token comment" spellcheck="true">//å°†æ¥å¯èƒ½ä¼ å…¥paramsçš„å€¼&amp;#123;limit:20&amp;#125;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// é¦–é¡µ-æœ€æ–°éŸ³ä¹</span><span class="token keyword">export</span> <span class="token keyword">const</span> newMusic <span class="token operator">=</span> params <span class="token operator">=</span><span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    url<span class="token punctuation">:</span><span class="token string">'/personalized/newsong'</span><span class="token punctuation">,</span>    params<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Search.js</span><span class="token comment" spellcheck="true">// æœç´¢æ¨¡å—</span><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span><span class="token keyword">export</span> <span class="token keyword">const</span> hotSearch <span class="token operator">=</span> params <span class="token operator">=</span><span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    url<span class="token punctuation">:</span><span class="token string">'/search/hot'</span><span class="token punctuation">,</span>    params<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">const</span> searchResultList <span class="token operator">=</span> params <span class="token operator">=</span><span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    url<span class="token punctuation">:</span><span class="token string">'/cloudsearch'</span><span class="token punctuation">,</span>    params<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Play.js</span><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'../utils/request'</span><span class="token comment" spellcheck="true">// æ’­æ”¾é¡µ - è·å–æ­Œæ›²è¯¦æƒ…</span><span class="token keyword">export</span> <span class="token keyword">const</span> getSongById <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  url<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`/song/detail?ids=$&amp;#123;id&amp;#125;`</span></span><span class="token punctuation">,</span>  method<span class="token punctuation">:</span> <span class="token string">"GET"</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// æ’­æ”¾é¡µ - è·å–æ­Œè¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> getLyricById <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  url<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`/lyric?id=$&amp;#123;id&amp;#125;`</span></span><span class="token punctuation">,</span>  method<span class="token punctuation">:</span> <span class="token string">"GET"</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.jsä½œä¸ºè¯·æ±‚æ€»æ±‡</span><span class="token comment" spellcheck="true">// apiæ–‡ä»¶å¤¹ä¸‹ å„ä¸ªè¯·æ±‚æ¨¡å—jsï¼ŒåŒä¸€æ¥åˆ°index.jså†å‘å¤–å¯¼å‡º</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>recommendMusic<span class="token punctuation">,</span>newMusic<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./Home'</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> hotSearch<span class="token punctuation">,</span>searchResultList <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./Search'</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>getSongById<span class="token punctuation">,</span>getLyricById<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./Play'</span><span class="token keyword">export</span> <span class="token keyword">const</span> recommendMusicAPI <span class="token operator">=</span> recommendMusic <span class="token comment" spellcheck="true">//è¯·æ±‚æ¨èæ­Œå•çš„æ–¹æ³•å¯¼å‡º</span><span class="token keyword">export</span> <span class="token keyword">const</span> newMusicAPI <span class="token operator">=</span> newMusic <span class="token comment" spellcheck="true">//è¯·æ±‚æœ€æ–°éŸ³ä¹çš„æ–¹æ³•å¯¼å‡º</span><span class="token keyword">export</span> <span class="token keyword">const</span> hotSearchAPI <span class="token operator">=</span> hotSearch <span class="token comment" spellcheck="true">//æœç´¢-çƒ­æœå…³é”®è¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> searchResultListAPI <span class="token operator">=</span> searchResultList <span class="token comment" spellcheck="true">//æœç´¢-æœç´¢ç»“æœ</span><span class="token keyword">export</span> <span class="token keyword">const</span> getSongByIdAPI <span class="token operator">=</span> getSongById <span class="token comment" spellcheck="true">//æœç´¢-æœç´¢ç»“æœ</span><span class="token keyword">export</span> <span class="token keyword">const</span> getLyricByIdAPI <span class="token operator">=</span> getLyricById <span class="token comment" spellcheck="true">//æœç´¢-æœç´¢ç»“æœ</span></code></pre><p>ä½œç”¨ï¼šè¿™æ ·åšæ›´åˆ©äºä¸åŒè¯·æ±‚çš„è°ƒç”¨å’Œæ›´æ”¹ï¼Œæ›´ä¾¿äºç»´æŠ¤</p><h3 id="3-æ›´åŠ ç†Ÿæ‚‰vueä¸­è·¯ç”±çš„æ“ä½œ"><a href="#3-æ›´åŠ ç†Ÿæ‚‰vueä¸­è·¯ç”±çš„æ“ä½œ" class="headerlink" title="3.æ›´åŠ ç†Ÿæ‚‰vueä¸­è·¯ç”±çš„æ“ä½œ"></a>3.æ›´åŠ ç†Ÿæ‚‰vueä¸­è·¯ç”±çš„æ“ä½œ</h3><p>srcä¸‹æ–°å»ºrouter&#x2F;index.js</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> VueRouter  <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'@/view/Layout'</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/view/Home'</span><span class="token keyword">import</span> Search <span class="token keyword">from</span> <span class="token string">'@/view/Search'</span><span class="token keyword">import</span> Play <span class="token keyword">from</span> <span class="token string">'@/view/Play'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        path<span class="token punctuation">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>        redirect<span class="token punctuation">:</span><span class="token string">'/layout'</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        path<span class="token punctuation">:</span><span class="token string">'/layout'</span><span class="token punctuation">,</span>        component<span class="token punctuation">:</span>Layout<span class="token punctuation">,</span>        children<span class="token punctuation">:</span><span class="token punctuation">[</span>            <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                path<span class="token punctuation">:</span><span class="token string">'home'</span><span class="token punctuation">,</span>                component<span class="token punctuation">:</span>Home<span class="token punctuation">,</span>                meta<span class="token punctuation">:</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//metaä¿å­˜è·¯ç”±å¯¹è±¡é¢å¤–ä¿¡æ¯</span>                    title<span class="token punctuation">:</span><span class="token string">'é¦–é¡µ'</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>            <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                path<span class="token punctuation">:</span><span class="token string">'search'</span><span class="token punctuation">,</span>                component<span class="token punctuation">:</span>Search<span class="token punctuation">,</span>                meta<span class="token punctuation">:</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    title<span class="token punctuation">:</span><span class="token string">'æœç´¢'</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token punctuation">]</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        path<span class="token punctuation">:</span><span class="token string">'/play'</span><span class="token punctuation">,</span>        component<span class="token punctuation">:</span>Play    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    routes<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><p>å¯¹è·¯ç”±è·³è½¬ä¼ å‚ï¼Œé‡å®šå‘ï¼Œå­è·¯ç”±æ›´åŠ æ·±å…¥çš„äº†è§£</p><p>å…¥å£æ–‡ä»¶å¯¼å…¥</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// main.js</span><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span><span class="token keyword">import</span> <span class="token string">'@/mobile/flexible'</span><span class="token keyword">import</span> <span class="token string">'@/styles/reset.css'</span><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router'</span><span class="token comment" spellcheck="true">// æµ‹è¯•å°è£…apiçš„æ–¹æ³•</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> recommendMusicAPI <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">recommendMusicAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Tabbar<span class="token punctuation">,</span> TabbarItem <span class="token punctuation">,</span>NavBar<span class="token punctuation">,</span>Col<span class="token punctuation">,</span> Row<span class="token punctuation">,</span>Image <span class="token keyword">as</span> VanImage<span class="token punctuation">,</span>Cell<span class="token punctuation">,</span> CellGroup<span class="token punctuation">,</span>Icon<span class="token punctuation">,</span>Search<span class="token punctuation">,</span>List<span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'vant'</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Search<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Cell<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Icon<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>CellGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VanImage<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Col<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Row<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Tabbar<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>TabbarItem<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>NavBar<span class="token punctuation">)</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  router<span class="token punctuation">,</span>  render<span class="token punctuation">:</span> h <span class="token operator">=</span><span class="token operator">></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>reduxå­¦ä¹ ç¬”è®°</title>
      <link href="/2022/10/10/10.10redux-bi-ji/"/>
      <url>/2022/10/10/10.10redux-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="Reduxæ¦‚è¿°"><a href="#Reduxæ¦‚è¿°" class="headerlink" title="Reduxæ¦‚è¿°"></a><strong>Reduxæ¦‚è¿°</strong></h2><p>Reduxä¸ºä½•ç‰©</p><ul><li>Reduxæ˜¯ç”¨äºåšçŠ¶æ€ç®¡ç†çš„JSåº“</li><li>å¯ç”¨äºReactï¼ŒAngularï¼ŒVueç­‰é¡¹ç›®ä¸­ï¼Œå¸¸ç”¨äºReact</li><li>é›†ä¸­å¼ç®¡ç†Reactåº”ç”¨å¤šä¸ªç»„ä»¶å…±äº«çš„çŠ¶æ€</li></ul><p>ä½•æ—¶ç”¨Redux</p><ul><li>æŸä¸ªç»„ä»¶çš„çŠ¶æ€éœ€è¦è®©å…¶ä»–ç»„ä»¶æ‹¿åˆ°</li><li>ä¸€ä¸ªç»„ä»¶è¦æ”¹å˜å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€</li><li>ä½¿ç”¨åŸåˆ™ï¼šä¸åˆ°ä¸‡ä¸å¾—å·²ä¸è¦è½»æ˜“ä½¿ç”¨</li></ul><p>Redux å·¥ä½œæµç¨‹</p><p><img src="https://brucecai55520.gitee.io/bruceblog/assets/img/redux.4afb4200.png" alt="reduxå·¥ä½œæµç¨‹"></p><ul><li>ç»„ä»¶æƒ³ç”¨Reduxä¸­çš„çŠ¶æ€ï¼šæŠŠåŠ¨ä½œç±»å‹å’Œæ•°æ®å‘Šè¯‰<code>Action Creators</code></li><li><code>Action Creators</code>åˆ›å»º<code>actions</code>:åŒæ­¥<code>action</code>æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå¼‚æ­¥<code>action</code>æ˜¯ä¸€ä¸ªå‡½æ•°</li><li><code>Store</code>è°ƒç”¨<code>dispatch()</code>åˆ†å‘ç»™<code>Reducers</code>æ‰§è¡Œ</li><li><code>Reducers</code>æ¥æ”¶<code>previousState</code>,<code>action</code>ä¸¤ä¸ªå‚æ•°ï¼Œå¯¹çŠ¶æ€è¿›è¡ŒåŠ å·¥åè¿”å›æ–°çŠ¶æ€</li><li><code>Store</code>è°ƒç”¨<code>getState()</code>æŠŠçŠ¶æ€ä¼ ç»™ç»„ä»¶</li></ul><h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a><strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h2><p><code>action</code>:</p><ul><li>è¡¨ç¤ºåŠ¨ä½œçš„å¯¹è±¡ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§</li><li><code>type</code>:è¡¨ç¤ºå±æ€§ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå”¯ä¸€ï¼Œå¿…é¡»å±æ€§</li><li><code>data</code>:æ•°æ®å±æ€§ï¼Œç±»å‹ä»»æ„ï¼Œå¯é€‰å±æ€§</li><li>{type:â€™stringâ€™,data:data}</li></ul><p><code>reducer</code>:</p><ul><li>ç”¨äºåˆå§‹åŒ–çŠ¶æ€ã€åŠ å·¥çŠ¶æ€</li><li>æ ¹æ®æ—§çŠ¶æ€å’Œ<code>action</code>äº§ç”Ÿæ–°çŠ¶æ€</li><li>æ˜¯<strong>çº¯å‡½æ•°</strong></li></ul><p>çº¯å‡½æ•°ï¼šè¾“å…¥åŒæ ·çš„å®å‚ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡º</p><ul><li>ä¸èƒ½æ”¹å†™å‚æ•°æ•°æ®</li><li>ä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼Œå¦‚ç½‘ç»œè¯·æ±‚ã€è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼ˆç½‘ç»œè¯·æ±‚ä¸ç¨³å®šï¼‰</li><li>ä¸èƒ½è°ƒç”¨ Date.now() ã€Math.random() ç­‰ä¸çº¯æ–¹æ³•</li></ul><p><code>store</code>:</p><ul><li>Reduxæ ¸å¿ƒå¯¹è±¡ï¼Œå†…éƒ¨ç»´æŠ¤ç€stateå’Œreducer</li><li>æ ¸å¿ƒAPI<ul><li><code>store.getState()</code>:è·å–çŠ¶æ€</li><li><code>store.dispatch(action)</code>:åˆ†å‘ä»»åŠ¡ï¼Œè§¦å‘reducerè°ƒç”¨ï¼Œäº§ç”Ÿæ–°çŠ¶æ€</li><li><code>store.subscribe(func)</code>:æ³¨å†Œç›‘å¬å‡½æ•°ï¼Œå½“çŠ¶æ€æ”¹å˜è‡ªåŠ¨è°ƒç”¨</li></ul></li></ul><h2 id="ä¸€ä¸ªæ±‚å’Œæ¡ˆä¾‹"><a href="#ä¸€ä¸ªæ±‚å’Œæ¡ˆä¾‹" class="headerlink" title="ä¸€ä¸ªæ±‚å’Œæ¡ˆä¾‹"></a>ä¸€ä¸ªæ±‚å’Œæ¡ˆä¾‹</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// App.jsx</span><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> Count <span class="token keyword">from</span> <span class="token string">'./components/Count'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>Count <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.js</span><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./redux/store'</span>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// çŠ¶æ€æ”¹å˜é‡æ–°æ¸²æŸ“ App ç»„ä»¶</span>store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// redux/constant.js</span><span class="token comment" spellcheck="true">// ä¿å­˜å¸¸é‡å€¼</span><span class="token keyword">export</span> <span class="token keyword">const</span> INCREMENT <span class="token operator">=</span> <span class="token string">'increment'</span><span class="token keyword">export</span> <span class="token keyword">const</span> DECREMENT <span class="token operator">=</span> <span class="token string">'decrement'</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// redux/count_reducer.js</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> INCREMENT<span class="token punctuation">,</span> DECREMENT <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./constant'</span><span class="token comment" spellcheck="true">//åˆå§‹åŒ–çŠ¶æ€</span><span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">countReducer</span><span class="token punctuation">(</span>preState <span class="token operator">=</span> initState<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> type<span class="token punctuation">,</span> data <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> action  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> INCREMENT<span class="token punctuation">:</span>      <span class="token keyword">return</span> preState <span class="token operator">+</span> data    <span class="token keyword">case</span> DECREMENT<span class="token punctuation">:</span>      <span class="token keyword">return</span> preState <span class="token operator">-</span> data    <span class="token keyword">default</span><span class="token punctuation">:</span>      <span class="token keyword">return</span> preState  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// redux/store.js</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> createStore <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token comment" spellcheck="true">//å¼•å…¥ä¸º Count ç»„ä»¶æœåŠ¡çš„ reducer</span><span class="token keyword">import</span> countReducer <span class="token keyword">from</span> <span class="token string">'./count_reducer'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>countReducer<span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// redux/count_action.js</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> INCREMENT<span class="token punctuation">,</span> DECREMENT <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./constant'</span><span class="token keyword">export</span> <span class="token keyword">const</span> createIncrementAction <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> type<span class="token punctuation">:</span> INCREMENT<span class="token punctuation">,</span> data <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">const</span> createDecrementAction <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> type<span class="token punctuation">:</span> DECREMENT<span class="token punctuation">,</span> data <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// components/Count/index.jsx</span><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'../../redux/store'</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> createIncrementAction<span class="token punctuation">,</span> createDecrementAction <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'../../redux/count_action'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Count</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//   å¯åœ¨ç»„ä»¶å•ç‹¬ç›‘å¬ Redux çŠ¶æ€å˜åŒ–</span><span class="token comment" spellcheck="true">//   componentDidMount() &amp;#123;</span><span class="token comment" spellcheck="true">//      store.subscribe(() => &amp;#123;</span><span class="token comment" spellcheck="true">//             this.setState(&amp;#123;&amp;#125;)</span><span class="token comment" spellcheck="true">//         &amp;#125;)</span><span class="token comment" spellcheck="true">//   &amp;#125;</span>  increment <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> value <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber    <span class="token comment" spellcheck="true">// å°† value è½¬ä¸ºæ•°å€¼</span>    <span class="token comment" spellcheck="true">// æ‰‹åŠ¨å†™ Action å¯¹è±¡</span>    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> type<span class="token punctuation">:</span> <span class="token string">'increment'</span><span class="token punctuation">,</span> data<span class="token punctuation">:</span> value <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// ä¸“é—¨åˆ›å»º Action å¯¹è±¡</span>    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createIncrementAction</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  decrement <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> value <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createDecrementAction</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  incrementAsync <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> value <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createIncrementAction</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>h1<span class="token operator">></span>å½“å‰æ±‚å’Œä¸ºï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>        <span class="token operator">&lt;</span>select ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber <span class="token operator">=</span> c<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"2"</span><span class="token operator">></span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"3"</span><span class="token operator">></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span>        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>increment<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>decrement<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>incrementAsync<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>å¼‚æ­¥åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><ul><li>Reduxåªè´Ÿè´£ç®¡ç†çŠ¶æ€ï¼ŒçŠ¶æ€æ”¹å˜åé¡µé¢çš„æ›´æ–°éœ€è¦è‡ªå·±å†™</li><li>å¯ä»¥åœ¨<code>index.js</code>ä¸­ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œä¸èƒ½ç›´æ¥è°ƒ<code>render()</code>,è¦ç”¨<code>this.setState(&#123;&#125;)</code>é—´æ¥è°ƒç”¨</li><li><code>reducer</code>ç”±<code>store</code>é¦–æ¬¡è°ƒç”¨æ—¶ä¼ é€’çš„<code>previousState</code>æ˜¯<code>undefined</code>ï¼Œ<code>action</code>ä¸º<code>&#123;type:&#39;@@REDUX/INIT_a.5.v.9&#39;&#125;</code>ç±»ä¼¼çš„ä¸œè¥¿ï¼Œæ²¡æœ‰ä¼ <code>data</code></li></ul><h2 id="Reduxå¼‚æ­¥ç¼–ç¨‹"><a href="#Reduxå¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="Reduxå¼‚æ­¥ç¼–ç¨‹"></a><strong>Reduxå¼‚æ­¥ç¼–ç¨‹</strong></h2><p>å®‰è£…å¼‚æ­¥ä¸­é—´ä»¶ï¼š</p><pre class=" language-sh"><code class="language-sh">npm install redux-thunk -S</code></pre><p>è¦ç‚¹ï¼š</p><ul><li>å»¶è¿Ÿçš„åŠ¨ä½œä¸æƒ³äº¤ç»™ç»„ä»¶ï¼Œè€Œæ˜¯ <code>action</code></li><li>å½“æ“ä½œçŠ¶æ€æ‰€éœ€æ•°æ®è¦é å¼‚æ­¥ä»»åŠ¡è¿”å›æ—¶ï¼Œå¯ç”¨å¼‚æ­¥ <code>action</code></li><li>åˆ›å»º <code>action</code> çš„å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸­å†™å¼‚æ­¥ä»»åŠ¡</li><li>å¼‚æ­¥ä»»åŠ¡å®Œæˆåï¼Œåˆ†å‘ä¸€ä¸ªåŒæ­¥ <code>action</code> æ“ä½œçŠ¶æ€</li><li>å¼‚æ­¥ <code>action</code> ä¸æ˜¯å¿…è¦çš„ï¼Œå®Œå…¨å¯ä»¥åœ¨ç»„ä»¶ä¸­ç­‰å¾…å¼‚æ­¥ä»»åŠ¡ç»“æœè¿”å›åœ¨åˆ†å‘åŒæ­¥ <code>action</code></li></ul><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// store.js</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token keyword">import</span> countReducer <span class="token keyword">from</span> <span class="token string">'./count_reducer'</span><span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>countReducer<span class="token punctuation">,</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// count_action.js</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> INCREMENT<span class="token punctuation">,</span> DECREMENT <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'./constant.js'</span><span class="token keyword">export</span> <span class="token keyword">const</span> createIncrementAction <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> type<span class="token punctuation">:</span> INCREMENT<span class="token punctuation">,</span> data <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">const</span> createDecrementAction <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> type<span class="token punctuation">:</span> DECREMENT<span class="token punctuation">,</span> data <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// å¼‚æ­¥ action è¿”å›ä¸€ä¸ªå‡½æ•°</span><span class="token keyword">export</span> <span class="token keyword">const</span> createIncrementAsyncAction <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>dispatch<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createIncrementAction</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Count.jsx</span>incrementAsync <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> value <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createIncrementAsyncAction</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>æ•´ä¸ªè¿‡ç¨‹ç®€å•ç†è§£ï¼š<code>store</code> åœ¨åˆ†å‘ <code>action</code> æ—¶ï¼Œå‘ç°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œé‚£å®ƒçŸ¥é“è¿™æ˜¯ä¸ªå¼‚æ­¥ <code>action</code> ã€‚å› æ­¤ <code>store</code> å‹‰ä¸ºå…¶éš¾åœ°å¸®å¿™æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼ŒåŒæ—¶ç»™è¿™ä¸ªå‡½æ•°ä¼ é€’ <code>dispatch</code> æ–¹æ³•ï¼Œç­‰å¾…å¼‚æ­¥ä»»åŠ¡å®Œæˆå–åˆ°æ•°æ®åï¼Œç›´æ¥è°ƒç”¨ <code>dispatch</code> æ–¹æ³•åˆ†å‘åŒæ­¥ <code>action</code> ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢ä¸»é¢˜ä¸ä¿®æ”¹</title>
      <link href="/2022/10/09/hexo-bo-ke-zhu-ti-an-zhuang-yu-xiu-gai/"/>
      <url>/2022/10/09/hexo-bo-ke-zhu-ti-an-zhuang-yu-xiu-gai/</url>
      
        <content type="html"><![CDATA[<h2 id="hexoåšå®¢ä¸»é¢˜å®‰è£…ä¸ä¿®æ”¹"><a href="#hexoåšå®¢ä¸»é¢˜å®‰è£…ä¸ä¿®æ”¹" class="headerlink" title="hexoåšå®¢ä¸»é¢˜å®‰è£…ä¸ä¿®æ”¹"></a>hexoåšå®¢ä¸»é¢˜å®‰è£…ä¸ä¿®æ”¹</h2><h3 id="1-ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…"><a href="#1-ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="1.ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…"></a><strong>1.ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…</strong></h3><p>ç‚¹å‡»<a href="https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master">ä¸‹è½½åœ°å€</a>ä¸‹è½½masteråˆ†æ”¯çš„æœ€æ–°ç¨³å®šç‰ˆçš„ä»£ç ï¼Œè§£å‹ç¼©åï¼Œå°†hexo-theme-materyçš„æ–‡ä»¶å¤åˆ¶åˆ°hexoçš„themeæ–‡ä»¶å¤¹ä¸­å³å¯</p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ä½ çš„ç«™ç‚¹ç›®å½•æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨ git clone å‘½ä»¤æ¥ä¸‹è½½ï¼šç›´æ¥åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå³å¯è¿›è¡Œä¸»é¢˜çš„ä¸‹è½½ï¼Œä¸»é¢˜æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç¨³å®šç‰ˆæœ¬å’Œæœ€æ–°ç‰ˆæœ¬(ä¸å®šæœŸæ›´æ–°ä¼˜åŒ–)ï¼Œè‡ªä¸»é€‰æ‹©ç‰ˆæœ¬ã€‚</p><pre class=" language-js"><code class="language-js">git clone https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>blinkfox<span class="token operator">/</span>hexo<span class="token operator">-</span>theme<span class="token operator">-</span>matery themes<span class="token operator">/</span>matery     # ç¨³å®šç‰ˆgit clone <span class="token operator">-</span>b develop https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>blinkfox<span class="token operator">/</span>hexo<span class="token operator">-</span>theme<span class="token operator">-</span>matery themes<span class="token operator">/</span>matery   #<span class="token function">æœ€æ–°ç‰ˆ</span><span class="token punctuation">(</span>ä¸å®šæœŸè¿›è¡Œä¼˜åŒ–æ›´æ–°<span class="token punctuation">)</span></code></pre><h3 id="2-ä¸»é¢˜é…ç½®"><a href="#2-ä¸»é¢˜é…ç½®" class="headerlink" title="2.ä¸»é¢˜é…ç½®"></a><strong>2.ä¸»é¢˜é…ç½®</strong></h3><p>2.1 <strong>åˆ‡æ¢ä¸»é¢˜</strong></p><p>è¿›å…¥æ ¹ç›®å½•ä¸‹çš„_config.ymlä¸­ï¼Œå¾€ä¸‹æ»‘åˆ°å¤§æ¦‚101è¡Œæœ‰ä¸€ä¸ªthemeï¼Œå°†å®ƒæ”¹ä¸ºåˆšæ‰ä½ å¼•å…¥åˆ°æ ¹ç›®å½•themeä¸‹çš„æ–‡ä»¶å¤¹çš„åå­—å°±è¡Œï¼Œè®°å¾—theme:ååŠ ä¸€ä¸ªç©ºæ ¼<br>å³theme: ä½ å¼•å…¥çš„æ–‡ä»¶å¤¹çš„åå­—ï¼ˆä¸ç”¨åŠ å¼•å·ï¼‰</p><p>è¯­è¨€é€‰æ‹©ï¼šå¦‚æœä¸ºä¸­æ–‡ç”¨æˆ·ï¼Œåˆ™åœ¨language:åæ·»åŠ å€¼zh-CNï¼Œå¦‚æœä¸ä¿®æ”¹ï¼Œé»˜è®¤ä¸ºè‹±è¯­ï¼›<br>ç½‘å€ä¿®æ”¹ï¼šurl:çš„å€¼ä¸ºä½ çš„ç½‘å€åï¼Œå¦‚<code>http://xxxx.github.io</code>ï¼Œå¦‚æœæœ‰åŸŸåï¼Œåˆ™ä¿®æ”¹ä¸ºä½ çš„åŸŸåå³å¯<br>ç‚¹é…ç½®æ–‡ä»¶æœ‰ä¸ªper_pageå±æ€§ï¼Œå»ºè®®ä¿®æ”¹ä¸º6çš„å€æ•°ï¼Œè¿™æ ·ç½‘ç«™åœ¨é€‚åº”è®¾å¤‡æ—¶ï¼Œæœ‰è¾ƒå¥½çš„æ˜¾ç¤ºæ•ˆæœã€‚</p><p>2.2 <strong>æ–°å»ºé¡µé¢</strong></p><p>æœ¬æ¬¡æ“ä½œéœ€è¦æ–°å»ºâ€™tagsâ€™,â€™categoriesâ€™,â€™aboutâ€™,â€™contactâ€™(ç•™è¨€æ¿ï¼ˆå¯é€‰ï¼‰),â€™friendsâ€™(å‹æƒ…é“¾æ¥(å¯é€‰))<br>åŸºæœ¬æ“ä½œéƒ½æ˜¯ä¸€æ ·<br>ä»¥â€™tagsâ€™ä¸ºä¾‹</p><p>tags é¡µæ˜¯ç”¨æ¥å±•ç¤ºæ‰€æœ‰æ ‡ç­¾çš„é¡µé¢ï¼Œå¦‚æœåœ¨ä½ çš„åšå®¢ source ç›®å½•ä¸‹è¿˜æ²¡æœ‰ tags&#x2F;index.md æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æ–°å»ºä¸€ä¸ªï¼Œå‘½ä»¤å¦‚ä¸‹</p><pre class=" language-js"><code class="language-js">hexo <span class="token keyword">new</span> <span class="token class-name">page</span> <span class="token string">"tags"</span></code></pre><p>ç¼–è¾‘ä½ åˆšåˆšæ–°å»ºçš„é¡µé¢æ–‡ä»¶ &#x2F;source&#x2F;tags&#x2F;index.mdï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token operator">--</span><span class="token operator">-</span>title<span class="token punctuation">:</span> tagsdate<span class="token punctuation">:</span> <span class="token number">2018</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">30</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">38</span>type<span class="token punctuation">:</span> <span class="token string">"tags"</span>layout<span class="token punctuation">:</span> <span class="token string">"tags"</span><span class="token operator">--</span><span class="token operator">-</span></code></pre><p>å…¶ä»–é¡µé¢çš„æ–°å»ºä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå°†tagsæ”¹ä¸ºå¯¹åº”çš„å°±è¡Œï¼Œå¦‚aboutï¼ŒæŠŠä¸Šé¢çš„tagséƒ½æ”¹ä¸ºaboutå°±è¡Œ</p><p>tagså’Œcategoryç”¨æ³•<br>ä½ æ–°å»ºç©tagså’Œcategoryé¡µé¢ä»¥å</p><p>åœ¨ä½ å†™postä¸­çš„mdæ–‡ä»¶æ—¶åœ¨é¡¶éƒ¨åŠ å…¥ä»¥ä¸‹ä»£ç </p><pre class=" language-js"><code class="language-js">title<span class="token punctuation">:</span> <span class="token number">10.5</span><span class="token punctuation">(</span>Reactè„šæ‰‹æ¶<span class="token punctuation">)</span>categories<span class="token punctuation">:</span> Reacttags<span class="token punctuation">:</span>  <span class="token operator">-</span> React  <span class="token operator">-</span> ç¬”è®°</code></pre><p>å°±ä¼šç”Ÿæˆä»¥ä¸‹æ•ˆæœ</p><p><img src="/source%5Cimg%5CSnipaste_2022-10-09_23-16-03.png" alt="å›¾ç‰‡"></p><p>æ–°å»ºfriendé¡µé¢ååŒæ—¶ï¼Œåœ¨ä½ çš„åšå®¢<code>source</code>ç›®å½•ä¸‹æ–°å»º<code>_data</code>ç›®å½•ï¼Œåœ¨<code>_data</code>ç›®å½•ä¸­æ–°å»º<code>friends.json</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"../avatars/1.jpg"</span><span class="token punctuation">,</span>    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"ç°è‰²çš„å°ä¼Š"</span><span class="token punctuation">,</span>    <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"æ¥bilibiliäº†è§£æ›´å¤šè¿½ç•ªï¼Œå†²å†²å†²"</span><span class="token punctuation">,</span>    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://space.bilibili.com/244375982?spm_id_from=333.1007.0.0"</span><span class="token punctuation">,</span>    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"å‰å»å­¦ä¹ "</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"../avatars/0.png"</span><span class="token punctuation">,</span>    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"å¤ªé˜³"</span><span class="token punctuation">,</span>    <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"æ›´å¤šçŸ¥è¯†ç¬”è®°ï¼Œæ¥è¯­é›€ä¸€èµ·å­¦ä¹ "</span><span class="token punctuation">,</span>    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://www.yuque.com/dashboard/my_books"</span><span class="token punctuation">,</span>    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"å‰å»å­¦ä¹ "</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://avatars.githubusercontent.com/u/100678707?v=4"</span><span class="token punctuation">,</span>    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"engravesunny"</span><span class="token punctuation">,</span>    <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"å¹³å‡¡çš„è„šæ­¥ä¹Ÿå¯ä»¥èµ°å‡ºä¼Ÿå¤§çš„è¡Œç¨‹"</span><span class="token punctuation">,</span>    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://github.com/Engravesunny"</span><span class="token punctuation">,</span>    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"å‰å»å­¦ä¹ "</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span></code></pre><p>2.3<strong>èœå•å¯¼èˆªé…ç½®</strong></p><p>1.èœå•å¯¼èˆªåç§°å¯ä»¥æ˜¯ä¸­æ–‡ä¹Ÿå¯ä»¥æ˜¯è‹±æ–‡(å¦‚ï¼šIndexæˆ–ä¸»é¡µ)<br>2.å›¾æ ‡icon å¯ä»¥åœ¨Font Awesome ä¸­æŸ¥æ‰¾</p><p>åœ¨ä½ å¼•å…¥çš„ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„_config.ymlä¸­æ›´æ”¹ä»¥ä¸‹ä»£ç </p><pre class=" language-js"><code class="language-js">  menu<span class="token punctuation">:</span>  Index<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>home  Tags<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>tags    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>tags  Categories<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>categories    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>bookmark  Archives<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>archives    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>archive  About<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>about    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>user<span class="token operator">-</span>circle  Friends<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>friends    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>address<span class="token operator">-</span>book</code></pre><p>ä»¥ä¸Šæ˜¯ä¸€çº§èœå•<br>äºŒçº§èœå•é…ç½®æ–¹æ³•ï¼š<br>1.åœ¨éœ€è¦æ·»åŠ äºŒçº§èœå•çš„ä¸€çº§èœå•ä¸‹æ·»åŠ childrenå…³é”®å­—(å¦‚:Aboutèœå•ä¸‹æ·»åŠ children)<br>2.åœ¨childrenä¸‹åˆ›å»ºäºŒçº§èœå•çš„ åç§°name,è·¯å¾„urlå’Œå›¾æ ‡icon.<br>3.æ³¨æ„æ¯ä¸ªäºŒçº§èœå•æ¨¡å—å‰è¦åŠ  -.<br>4.æ³¨æ„ç¼©è¿›æ ¼å¼</p><pre class=" language-js"><code class="language-js">  menu<span class="token punctuation">:</span>  Index<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>home  Tags<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>tags    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>tags  Categories<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>categories    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>bookmark  Archives<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>archives    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>archive  About<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>about    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>user<span class="token operator">-</span>circle<span class="token operator">-</span>o  Friends<span class="token punctuation">:</span>    url<span class="token punctuation">:</span> <span class="token operator">/</span>friends    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>address<span class="token operator">-</span>book  Medias<span class="token punctuation">:</span>    icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>list    children<span class="token punctuation">:</span>      <span class="token operator">-</span> name<span class="token punctuation">:</span> Musics        url<span class="token punctuation">:</span> <span class="token operator">/</span>musics        icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>music      <span class="token operator">-</span> name<span class="token punctuation">:</span> Movies        url<span class="token punctuation">:</span> <span class="token operator">/</span>movies        icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>film      <span class="token operator">-</span> name<span class="token punctuation">:</span> Books        url<span class="token punctuation">:</span> <span class="token operator">/</span>books        icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>book      <span class="token operator">-</span> name<span class="token punctuation">:</span> Galleries        url<span class="token punctuation">:</span> <span class="token operator">/</span>galleries        icon<span class="token punctuation">:</span> fas fa<span class="token operator">-</span>image</code></pre><p>2.4<strong>ä»£ç é«˜äº®</strong><br>ç”±äº Hexo è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜æ˜¾ç¤ºä¸å¥½çœ‹ï¼Œæ‰€ä»¥ä¸»é¢˜ä¸­ä½¿ç”¨åˆ°äº† hexo-prism-plugin çš„ Hexo æ’ä»¶æ¥åšä»£ç é«˜äº®ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js">npm i <span class="token operator">-</span>S hexo<span class="token operator">-</span>prism<span class="token operator">-</span>plugin</code></pre><pre class=" language-js"><code class="language-js">prism_plugin<span class="token punctuation">:</span>  mode<span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    # realtime<span class="token operator">/</span>preprocess  theme<span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>  line_number<span class="token punctuation">:</span> <span class="token boolean">false</span>    # <span class="token keyword">default</span> <span class="token boolean">false</span>  custom_css<span class="token punctuation">:</span></code></pre><p>2.5 <strong>æœç´¢</strong></p><p>æœ¬ä¸»é¢˜ä¸­è¿˜ä½¿ç”¨åˆ°äº† hexo-generator-search çš„ Hexo æ’ä»¶æ¥åšå†…å®¹æœç´¢ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js">npm install hexo<span class="token operator">-</span>generator<span class="token operator">-</span>search <span class="token operator">--</span>save</code></pre><pre class=" language-js"><code class="language-js">search<span class="token punctuation">:</span>  path<span class="token punctuation">:</span> search<span class="token punctuation">.</span>xml  field<span class="token punctuation">:</span> post</code></pre><p>2.6<strong>ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³ï¼ˆå¯é€‰çš„ï¼‰</strong><br>â€ƒâ€ƒå¦‚æœä½ çš„æ–‡ç« åç§°æ˜¯ä¸­æ–‡çš„ï¼Œé‚£ä¹ˆ Hexo é»˜è®¤ç”Ÿæˆçš„æ°¸ä¹…é“¾æ¥ä¹Ÿä¼šæœ‰ä¸­æ–‡ï¼Œè¿™æ ·ä¸åˆ©äº SEOï¼Œä¸” gitment è¯„è®ºå¯¹ä¸­æ–‡é“¾æ¥ä¹Ÿä¸æ”¯æŒã€‚æˆ‘ä»¬å¯ä»¥ç”¨ â€ƒâ€ƒhexo-permalink-pinyin Hexo æ’ä»¶ä½¿åœ¨ç”Ÿæˆæ–‡ç« æ—¶ç”Ÿæˆä¸­æ–‡æ‹¼éŸ³çš„æ°¸ä¹…é“¾æ¥ã€‚</p><pre class=" language-js"><code class="language-js">npm i hexo<span class="token operator">-</span>permalink<span class="token operator">-</span>pinyin <span class="token operator">--</span>save</code></pre><pre class=" language-js"><code class="language-js">permalink_pinyin<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span>  separator<span class="token punctuation">:</span> <span class="token string">'-'</span> # <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'-'</span></code></pre><p><strong>æ³¨</strong>ï¼šé™¤äº†æ­¤æ’ä»¶å¤–ï¼Œhexo-abbrlink æ’ä»¶ä¹Ÿå¯ä»¥ç”Ÿæˆéä¸­æ–‡çš„é“¾æ¥ã€‚</p><p>2.7 <strong>æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰çš„ï¼‰</strong><br>â€ƒâ€ƒå¦‚æœä½ æƒ³è¦åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºæ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ä¿¡æ¯ï¼Œå¯ä»¥å®‰è£… hexo-wordcountæ’ä»¶ã€‚</p><p>â€ƒâ€ƒå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js">npm i <span class="token operator">--</span>save hexo<span class="token operator">-</span>wordcount</code></pre><p>ç„¶ååªéœ€åœ¨æœ¬ä¸»é¢˜ä¸‹çš„ _config.yml æ–‡ä»¶ä¸­ï¼Œæ¿€æ´»ä»¥ä¸‹é…ç½®é¡¹å³å¯ï¼š</p><pre class=" language-js"><code class="language-js">wordCount<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">false</span> # å°†è¿™ä¸ªå€¼è®¾ç½®ä¸º <span class="token boolean">true</span> å³å¯<span class="token punctuation">.</span>  postWordCount<span class="token punctuation">:</span> <span class="token boolean">true</span>  min2read<span class="token punctuation">:</span> <span class="token boolean">true</span>  totalCount<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><p>2.8 <strong>æ·»åŠ  DaoVoice åœ¨çº¿èŠå¤©åŠŸèƒ½ï¼ˆå¯é€‰çš„ï¼‰</strong><br>â€ƒâ€ƒå‰å¾€ <a href="https://www.daocloud.io/">DaoVoice</a>å®˜ç½‘æ³¨å†Œå¹¶ä¸”è·å–app_idï¼Œå¹¶å°†app_idå¡«å…¥ä¸»é¢˜çš„_config.yml æ–‡ä»¶ä¸­</p><p>2.9 <strong>æ·»åŠ  Tidio åœ¨çº¿èŠå¤©åŠŸèƒ½ï¼ˆå¯é€‰çš„ï¼‰</strong><br>â€ƒâ€ƒå‰å¾€ <a href="https://www.tidio.com/">Tidio</a>å®˜ç½‘æ³¨å†Œå¹¶ä¸”è·å–Public Keyï¼Œå¹¶å°†Public Keyå¡«å…¥ä¸»é¢˜çš„_config.yml æ–‡ä»¶ä¸­ã€‚</p><p>2.10 <strong>ä¿®æ”¹é¡µè„š</strong><br>â€ƒâ€ƒé¡µè„šä¿¡æ¯å¯èƒ½éœ€è¦åšå®šåˆ¶åŒ–ä¿®æ”¹ï¼Œè€Œä¸”å®ƒä¸ä¾¿äºåšæˆé…ç½®ä¿¡æ¯ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦ä½ è‡ªå·±å»å†ä¿®æ”¹å’ŒåŠ å·¥ã€‚ä¿®æ”¹çš„åœ°æ–¹åœ¨ä¸»é¢˜æ–‡ä»¶çš„ &#x2F;layout&#x2F;_partial&#x2F;footer.ejs æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ç«™ç‚¹ã€ä½¿ç”¨çš„ä¸»é¢˜ã€è®¿é—®é‡ç­‰ã€‚</p><p>2.11 <strong>ä¿®æ”¹ç¤¾äº¤é“¾æ¥</strong></p><p>åœ¨ä¸»é¢˜çš„ _config.yml æ–‡ä»¶ä¸­ï¼Œé»˜è®¤æ”¯æŒ QQã€GitHub å’Œé‚®ç®±ç­‰çš„é…ç½®ï¼Œä½ å¯ä»¥åœ¨ä¸»é¢˜æ–‡ä»¶çš„ &#x2F;layout&#x2F;_partial&#x2F;social-link.ejs æ–‡ä»¶ä¸­ï¼Œæ–°å¢ã€ä¿®æ”¹ä½ éœ€è¦çš„ç¤¾äº¤é“¾æ¥åœ°å€ï¼Œå¢åŠ é“¾æ¥å¯å‚è€ƒå¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>socialLink<span class="token punctuation">.</span>github<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"&lt;%= theme.socialLink.github %>"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tooltipped"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span> data<span class="token operator">-</span>tooltip<span class="token operator">=</span><span class="token string">"è®¿é—®æˆ‘çš„GitHub"</span> data<span class="token operator">-</span>position<span class="token operator">=</span><span class="token string">"top"</span> data<span class="token operator">-</span>delay<span class="token operator">=</span><span class="token string">"50"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fab fa-github"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><p>å…¶ä¸­ï¼Œç¤¾äº¤å›¾æ ‡ï¼ˆå¦‚ï¼šfa-githubï¼‰ä½ å¯ä»¥åœ¨ Font Awesome ä¸­æœç´¢æ‰¾åˆ°ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨ç¤¾äº¤å›¾æ ‡çš„æ ‡è¯†ï¼Œä¾›ä½ å‚è€ƒï¼š</p><p>Facebook: fab fa-facebook<br>Twitter: fab fa-twitter<br>Google-plus: fab fa-google-plus<br>Linkedin: fab fa-linkedin<br>Tumblr: fab fa-tumblr<br>Medium: fab fa-medium<br>Slack: fab fa-slack<br>Sina Weibo: fab fa-weibo<br>Wechat: fab fa-weixin<br>QQ: fab fa-qq<br>Zhihu: fab fa-zhihu<br>â€ƒâ€ƒ<strong>æ³¨æ„</strong>: æœ¬ä¸»é¢˜ä¸­ä½¿ç”¨çš„ Font Awesome ç‰ˆæœ¬ä¸º 5.11.0</p><p>2.12 <strong>ä¿®æ”¹æ‰“èµçš„äºŒç»´ç å›¾ç‰‡</strong><br>â€ƒâ€ƒåœ¨ä¸»é¢˜æ–‡ä»¶çš„ source&#x2F;medias&#x2F;reward æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æ›¿æ¢æˆä½ çš„çš„å¾®ä¿¡å’Œæ”¯ä»˜å®çš„æ‰“èµäºŒç»´ç å›¾ç‰‡.<br>2.13 <strong>é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰</strong><br>â€ƒâ€ƒè¦æ”¯æŒéŸ³ä¹æ’­æ”¾ï¼Œå°±å¿…é¡»å¼€å¯éŸ³ä¹çš„æ’­æ”¾é…ç½®å’ŒéŸ³ä¹æ•°æ®çš„æ–‡ä»¶ã€‚</p><p>â€ƒâ€ƒé¦–å…ˆï¼Œåœ¨ä½ çš„åšå®¢ source ç›®å½•ä¸‹çš„ _data ç›®å½•ï¼ˆæ²¡æœ‰çš„è¯å°±æ–°å»ºä¸€ä¸ªï¼‰ä¸­æ–°å»º musics.json æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"äº”æœˆé›¨å˜å¥ç”µéŸ³"</span><span class="token punctuation">,</span>    <span class="token string">"artist"</span><span class="token punctuation">:</span> <span class="token string">"AnimeVibe"</span><span class="token punctuation">,</span>    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"http://xxx.com/music1.mp3"</span><span class="token punctuation">,</span>    <span class="token string">"cover"</span><span class="token punctuation">:</span> <span class="token string">"http://xxx.com/music-cover1.png"</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Take me hand"</span><span class="token punctuation">,</span>    <span class="token string">"artist"</span><span class="token punctuation">:</span> <span class="token string">"DAISHI DANCE,Cecile Corbel"</span><span class="token punctuation">,</span>    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"/medias/music/music2.mp3"</span><span class="token punctuation">,</span>    <span class="token string">"cover"</span><span class="token punctuation">:</span> <span class="token string">"/medias/music/cover2.png"</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Shape of You"</span><span class="token punctuation">,</span>    <span class="token string">"artist"</span><span class="token punctuation">:</span> <span class="token string">"J.Fla"</span><span class="token punctuation">,</span>    <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"http://xxx.com/music3.mp3"</span><span class="token punctuation">,</span>    <span class="token string">"cover"</span><span class="token punctuation">:</span> <span class="token string">"http://xxx.com/music-cover3.png"</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span></code></pre><p><strong>æ³¨</strong>ï¼šä»¥ä¸Š JSON ä¸­çš„å±æ€§ï¼šnameã€artistã€urlã€cover åˆ†åˆ«è¡¨ç¤ºéŸ³ä¹çš„åç§°ã€ä½œè€…ã€éŸ³ä¹æ–‡ä»¶åœ°å€ã€éŸ³ä¹å°é¢</p><p>ç„¶åï¼Œåœ¨ä¸»é¢˜çš„ _config.yml é…ç½®æ–‡ä»¶ä¸­æ¿€æ´»é…ç½®å³å¯ï¼š</p><pre class=" language-py"><code class="language-py"># æ˜¯å¦åœ¨é¦–é¡µæ˜¾ç¤ºéŸ³ä¹.music:  enable: true  showTitle: false  title: å¬å¬éŸ³ä¹  fixed: false # æ˜¯å¦å¼€å¯å¸åº•æ¨¡å¼  autoplay: false # æ˜¯å¦è‡ªåŠ¨æ’­æ”¾  theme: '#42b983'  loop: 'all' # éŸ³é¢‘å¾ªç¯æ’­æ”¾, å¯é€‰å€¼: 'all', 'one', 'none'  order: 'list' # éŸ³é¢‘å¾ªç¯é¡ºåº, å¯é€‰å€¼: 'list', 'random'  preload: 'auto' # é¢„åŠ è½½ï¼Œå¯é€‰å€¼: 'none', 'metadata', 'auto'  volume: 0.7 # é»˜è®¤éŸ³é‡ï¼Œè¯·æ³¨æ„æ’­æ”¾å™¨ä¼šè®°å¿†ç”¨æˆ·è®¾ç½®ï¼Œç”¨æˆ·æ‰‹åŠ¨è®¾ç½®éŸ³é‡åé»˜è®¤éŸ³é‡å³å¤±æ•ˆ  listFolded: false # åˆ—è¡¨é»˜è®¤æŠ˜å   listMaxHeight: # åˆ—è¡¨æœ€å¤§é«˜åº¦</code></pre><p>3.<strong>æ–‡ç«  Front-matter ä»‹ç»</strong><br>â€ƒâ€ƒFront-matter é€‰é¡¹è¯¦è§£<br>â€ƒâ€ƒFront-matter é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸ºéå¿…å¡«çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ title å’Œ date çš„å€¼ã€‚</p><p>â€ƒâ€ƒæ‚¨å¯ä»¥åœ¨æ–‡ç« mdæ–‡ä»¶çš„ front-matter ä¸­æŒ‡å®š reprintPolicy æ¥ç»™å•ä¸ªæ–‡ç« é…ç½®è½¬è½½è§„åˆ™<br>â€ƒâ€ƒä»¥ä¸‹ä¸ºæ–‡ç« çš„ Front-matter ç¤ºä¾‹ã€‚</p><p>â€ƒâ€ƒæœ€ç®€ç¤ºä¾‹</p><pre class=" language-markdown"><code class="language-markdown"><span class="token hr punctuation">---</span>title: typora-vue-themeä¸»é¢˜ä»‹ç»<span class="token title important">date: 2018-09-07 09:25:00<span class="token punctuation">---</span></span></code></pre><p>â€ƒæœ€å…¨ç¤ºä¾‹</p><pre class=" language-md"><code class="language-md">---title: typora-vue-themeä¸»é¢˜ä»‹ç»date: 2022-05-02 09:25:00author: CrazyYuimg: /source/images/xxx.jpgtop: truecover: truecoverImg: /images/1.jpgpassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92toc: falsemathjax: falsesummary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦categories: Markdowntags:  - Typora  - Markdown---</code></pre><p>4.<strong>æ•ˆæœæˆªå›¾</strong></p><p>æœ€æ–°ç‰ˆæœ¬è¿›è¡Œäº†ä¼˜åŒ–æ›´æ–°ï¼Œæ•ˆæœå›¾ä¸æœ€åˆçš„æ•ˆæœå›¾æœ‰å·®åˆ«ï¼Œä¸‹é¢çš„å›¾ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ã€‚</p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/46.jpg" alt="ç¤ºä¾‹1"></p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/47.jpg" alt="ç¤ºä¾‹2"></p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/48.jpg" alt="ç¤ºä¾‹3"></p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/49.jpg" alt="ç¤ºä¾‹4"></p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/50.jpg" alt="ç¤ºä¾‹5"></p><p>ä»Šå¤©å…ˆåˆ°è¿™ï¼Œæˆ‘ä¹Ÿè¦æ´—æ¾¡ç¡è§‰äº†(23:44)</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ä¿®æ”¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> åšå®¢ä¿®æ”¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºhexoåšå®¢</title>
      <link href="/2022/10/09/10.8-10.9-bi-ji/"/>
      <url>/2022/10/09/10.8-10.9-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€å•åšå®¢æ­å»ºæµç¨‹"><a href="#ç®€å•åšå®¢æ­å»ºæµç¨‹" class="headerlink" title="ç®€å•åšå®¢æ­å»ºæµç¨‹"></a>ç®€å•åšå®¢æ­å»ºæµç¨‹</h2><p>è¿™ä¸¤å¤©ä¸»è¦å°±æ˜¯åœ¨æ­å»ºå’Œé…ç½®è‡ªå·±çš„å°åšå®¢(ä»¥åä¼šå‘ä¸€ç‚¹åšæ–‡ï¼Œä¸è¿‡æˆ‘å¤§å¤šä¼šæ˜¯ç¬”è®°æœ¬æ¥ç”¨)</p><h3 id="æœ¬åœ°å®‰è£…ä»¥åŠå‘å¸ƒ"><a href="#æœ¬åœ°å®‰è£…ä»¥åŠå‘å¸ƒ" class="headerlink" title="æœ¬åœ°å®‰è£…ä»¥åŠå‘å¸ƒ"></a>æœ¬åœ°å®‰è£…ä»¥åŠå‘å¸ƒ</h3><ol><li><strong>å®‰è£…åˆ°æœ¬åœ°</strong></li></ol><p>é¦–å…ˆé€‰æ‹©ä¸€ä¸ªç£ç›˜ä½œä¸ºä½ åšå®¢æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œç„¶åæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚åä¸ºblogtestçš„æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºå®Œåï¼Œå…ˆä¸è¦ç‚¹è¿›å»ï¼Œåœ¨æ­¤å¤„ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©Git Bash Hereï¼Œç„¶åä¾æ¬¡è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class=" language-js"><code class="language-js"># hexoæ¡†æ¶çš„å®‰è£…npm install <span class="token operator">-</span>g hexo<span class="token operator">-</span>cli# ç­‰ä¸Šä¸€ä¸ªå‘½ä»¤å®Œæˆåï¼Œåœ¨è¾“å…¥ä¸‹é¢çš„å‘½ä»¤hexo init <span class="token operator">&lt;</span>æ–°å»ºæ–‡ä»¶å¤¹çš„åç§°<span class="token operator">></span>  #åˆå§‹åŒ–æ–‡ä»¶å¤¹cd <span class="token operator">&lt;</span>æ–°å»ºæ–‡ä»¶å¤¹çš„åç§°<span class="token operator">></span>npm install  # å®‰è£…åšå®¢æ‰€éœ€è¦çš„ä¾èµ–æ–‡ä»¶</code></pre><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/38.jpg" alt="å›¾ç‰‡1"></p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/39.jpg" alt="å›¾ç‰‡2"></p><p>ç­‰å¾…è¿è¡Œå®Œçš„æ—¶å€™ï¼Œæ­¤æ—¶æ–‡ä»¶å¤¹é‡Œå¤šäº†å¾ˆå¤šæ–‡ä»¶<br>æ³¨æ„ï¼šåç»­çš„å‘½ä»¤éƒ½åœ¨ç«™ç‚¹ç›®å½•ä¸‹ä½¿ç”¨Git Bashè¿è¡Œ<br>æ­¤æ—¶Hexoæ¡†æ¶çš„æœ¬åœ°æ­å»ºå·²ç»å®Œæˆäº†ã€‚å‘½ä»¤è¡Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤:</p><pre class=" language-js"><code class="language-js">hexo ghexo s</code></pre><p>æµè§ˆå™¨ä¸­æ‰“å¼€å®ƒæ‰§è¡Œå®Œåç»™ä½ çš„åœ°å€ï¼ˆé»˜è®¤ä¸º<code>http://localhost:4000/</code>ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªç½‘é¡µï¼Œè¯´æ˜Hexoå·²ç»æˆåŠŸåœ¨æœ¬åœ°è¿è¡Œ</p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/41.jpg" alt="è¿è¡ŒæˆåŠŸå›¾ç‰‡"></p><p>2.æœ¬åœ°åšå®¢å‘å¸ƒåˆ°Github Pages</p><p>é¦–å…ˆå®‰è£…å¯ä»¥ç”¨æ¥å‘å¸ƒçš„æ’ä»¶ï¼Œåœ¨ç«™ç‚¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class=" language-js"><code class="language-js">npm install hexo<span class="token operator">-</span>deployer<span class="token operator">-</span>git <span class="token operator">--</span>save</code></pre><p>ç„¶åæŠŠæœ¬åœ°ç›®å½•ä¸GitHubå…³è”èµ·æ¥ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¡Œ:</p><pre class=" language-js"><code class="language-js">ssh<span class="token operator">-</span>keygen <span class="token operator">-</span>t rsa <span class="token operator">-</span>C <span class="token string">'ä½ çš„é‚®ç®±åœ°å€'</span></code></pre><p>ç„¶åä¸€ç›´å›è½¦æ‰¾åˆ°C:&#x2F;Users&#x2F;[username]ç›®å½•ä¸‹åä¸º.sshçš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å†…ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªid_rsa.pubä¸€ä¸ªid_rsaï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„çš„å†…å®¹ã€‚ ç„¶åæ‰“å¼€Githubï¼Œç‚¹å‡»å³ä¸Šè§’çš„å¤´åƒ Settings é€‰æ‹©SSH and GPG keys</p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/42.jpg" alt="githubæŒ‡å¼•"></p><p>ç‚¹å‡»New SSH key å°†ä¹‹å‰å¤åˆ¶çš„å†…å®¹ç²˜å¸–åˆ°Keyçš„æ¡†ä¸­ã€‚ ä¸Šé¢çš„Titleå¯ä»¥éšæ„ï¼Œç‚¹å‡»Add SSH key å®Œæˆæ·»åŠ ã€‚</p><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/43.jpg" alt="githubæŒ‡å¼•2"></p><p>ç„¶åå›åˆ°å‘½ä»¤è¡Œç•Œé¢ï¼Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦ä¸githubè¿æ¥æˆåŠŸ</p><pre class=" language-js"><code class="language-js">ssh <span class="token operator">-</span>T git@github<span class="token punctuation">.</span>com</code></pre><p>ç‚¹å‡»å›è½¦ï¼Œç„¶åä¼šå‡ºç°ä¸€ä¸ªè¯¢é—®å†…å®¹ï¼Œè¾“å…¥yesï¼Œå›è½¦ï¼Œä¼šå‡ºç°ä¸€æ®µå†…å®¹ï¼ŒHi ! Youâ€™ve successfully authenticated, but GitHub doesnot provide shell access.ã€‚ è¯´æ˜è¿æ¥æˆåŠŸã€‚æ­¤å¤„è¿™ä¸ªåº”è¯¥æ˜¯ä½ Githubçš„ç”¨æˆ·åã€‚</p><p>è¿›å…¥åšå®¢ç«™ç‚¹ç›®å½•ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€_config.ymlï¼Œè¿™ä¸ª_config.ymlæ˜¯åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ä»¥åçš„åšå®¢ä¿®æ”¹ï¼Œå¦‚ä¸ªæ€§åŒ–ä¿®æ”¹ï¼Œåšå®¢SEOä¼˜åŒ–ç­‰éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œâ€ƒâ€ƒä¿®æ”¹å¦‚ä¸‹å›¾çš„å‡ ä¸ªåœ°æ–¹ï¼š</p><pre class=" language-js"><code class="language-js">title<span class="token punctuation">:</span> ä½ çš„åšå®¢åsubtitle<span class="token punctuation">:</span> åšå®¢çš„å‰¯æ ‡é¢˜ï¼Œæœ‰äº›ä¸»é¢˜æ”¯æŒdescription<span class="token punctuation">:</span> åšå®¢æè¿°keywords<span class="token punctuation">:</span> åšå®¢å…³é”®è¯author<span class="token punctuation">:</span> ä½œè€…ï¼Œåœ¨æ–‡ç« ä¸­æ˜¾ç¤ºlanguage<span class="token punctuation">:</span> åšå®¢è¯­è¨€è¯­ç§   timezone<span class="token punctuation">:</span> æ—¶åŒº</code></pre><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/44.jpg" alt="æŒ‡å¼•"></p><p>æ»‘åˆ°æ–‡ä»¶æœ€åº•éƒ¨ï¼Œæœ‰ä¸€ä¸ªdeployï¼Œåœ¨deployä¸‹é¢æ·»åŠ ä¸€ä¸ªrepoé¡¹ ï¼Œä¸€ä¸ªbranché¡¹ã€‚å¡«å…¥å¦‚ä¸‹ä»£ç ï¼Œå¹¶å¦‚ä¸‹å›¾æ‰€ç¤º</p><pre class=" language-js"><code class="language-js">type<span class="token punctuation">:</span> gitrepo<span class="token punctuation">:</span> git@github<span class="token punctuation">.</span>com<span class="token punctuation">:</span>Githubç”¨æˆ·å<span class="token operator">/</span>githubç”¨æˆ·å<span class="token punctuation">.</span>github<span class="token punctuation">.</span>io<span class="token punctuation">.</span>git  <span class="token comment" spellcheck="true">//ä¹Ÿå¯ä½¿ç”¨httpsåœ°å€ï¼Œå¦‚ï¼šhttps://github.com/Githubç”¨æˆ·å/Githubç”¨æˆ·å.github.io.git            </span>branch<span class="token punctuation">:</span> master</code></pre><p><img src="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/45.jpg" alt="æŒ‡å¼•"></p><p>æœ€åå°±æ˜¯ç”Ÿæˆé¡µé¢ï¼Œå¹¶å‘å¸ƒè‡³Github Pagesï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class=" language-py"><code class="language-py"># Hexoä¼šæ ¹æ®é…ç½®æ–‡ä»¶æ¸²æŸ“å‡ºä¸€å¥—é™æ€é¡µé¢hexo g# å°†ä¸Šä¸€æ­¥æ¸²æŸ“å‡ºçš„ä¸€ç³»åˆ—æ–‡ä»¶ä¸Šä¼ è‡³è‡³Github Pageshexo d# ä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥æ­¤å‘½ä»¤ï¼Œç›´æ¥å®Œæˆæ¸²æŸ“å’Œä¸Šä¼ hexo g -d</code></pre><p>hexoåšå®¢ä¸»é¢˜çš„å®‰è£…äºä¿®æ”¹ä¼šåœ¨å¦ä¸€ç¯‡é‡Œä¸“é—¨è®²</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.1-3ç¬”è®°</title>
      <link href="/2022/10/09/10.1-3-bi-ji/"/>
      <url>/2022/10/09/10.1-3-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»ä»Šå¤©å¼€å§‹å­¦ä¹ Reactäº†ï¼ï¼ï¼ˆ2022-10-01ï¼‰"><a href="#ä»ä»Šå¤©å¼€å§‹å­¦ä¹ Reactäº†ï¼ï¼ï¼ˆ2022-10-01ï¼‰" class="headerlink" title="ä»ä»Šå¤©å¼€å§‹å­¦ä¹ Reactäº†ï¼ï¼ï¼ˆ2022.10.01ï¼‰"></a>ä»ä»Šå¤©å¼€å§‹å­¦ä¹ Reactäº†ï¼ï¼ï¼ˆ2022.10.01ï¼‰</h2><h2 id="jsxè¯­æ³•è§„åˆ™"><a href="#jsxè¯­æ³•è§„åˆ™" class="headerlink" title="jsxè¯­æ³•è§„åˆ™"></a>jsxè¯­æ³•è§„åˆ™</h2><ul><li><strong>1.å®šä¹‰è™šæ‹ŸDOMæ—¶ï¼Œä¸è¦ç”¨å¼•å·</strong></li><li><strong>2.æ ‡ç­¾ä¸­æ··ç”¨JSè¡¨è¾¾å¼æ—¶è¦ç”¨<code>&#123;&#125;</code></strong></li><li><strong>3.æ ·å¼çš„ç±»åæŒ‡å®šä¸è¦ç”¨<code>class</code>ï¼Œè¦ç”¨<code>className</code></strong></li><li><strong>4.å†…è”æ ·å¼ï¼Œè¦ç”¨<code>style=&#123;&#123;key:value&#125;&#125;</code>çš„å½¢å¼å»å†™</strong></li><li><strong>5.åªæœ‰ä¸€ä¸ªè·Ÿæ ‡ç­¾</strong></li><li><strong>6.æ ‡ç­¾å¿…é¡»é—­åˆ</strong></li><li><strong>7.æ ‡ç­¾é¦–å­—æ¯</strong><ul><li><strong>(1).è‹¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å°†è¯¥æ ‡ç­¾è½¬ä¸ºhtmlä¸­åŒåå…ƒç´ ï¼Œè‹¥htmlä¸­æ²¡æœ‰è¯¥æ ‡ç­¾ï¼Œå°±æŠ¥é”™</strong></li><li><strong>(2).å¦‚æœæ˜¯å¤§å†™å­—æ¯å¼€å¤´ï¼ŒReactå°±å»æ¸²æŸ“è¿™ä¸ªç»„ä»¶ï¼Œæ²¡æœ‰å®šä¹‰çš„è¯å°±æŠ¥é”™</strong></li></ul></li></ul><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">        <span class="token number">.</span>pink&amp;<span class="token hexcode">#123</span><span class="token punctuation">;</span>            <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>        &amp;<span class="token hexcode">#125</span><span class="token punctuation">;</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react/16.4.0/umd/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"> <span class="token comment" spellcheck="true">/* æ­¤å¤„ä¸€å®šè¦å†™babel */</span>    <span class="token comment" spellcheck="true">//1.åˆ›å»ºè™šæ‹ŸDOM</span>    <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token string">'å¤–éƒ¨å®šä¹‰çš„å˜é‡'</span>    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token string">'title'</span>    <span class="token keyword">const</span> VDOM <span class="token operator">=</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span>h1 id<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>id<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> className<span class="token operator">=</span><span class="token string">"pink"</span> style<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>color<span class="token punctuation">:</span><span class="token string">'white'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>Hello<span class="token punctuation">,</span>React<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>            <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>x<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸²</span>            <span class="token comment" spellcheck="true">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span>    <span class="token comment" spellcheck="true">// ReactDOM.render(è™šæ‹ŸDOM,å®¹å™¨)</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>VDOM<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="2-stateå±æ€§"><a href="#2-stateå±æ€§" class="headerlink" title="2.stateå±æ€§"></a><strong>2.stateå±æ€§</strong></h2><h2 id="ç»„ä»¶å†…å®šä¹‰stateå±æ€§"><a href="#ç»„ä»¶å†…å®šä¹‰stateå±æ€§" class="headerlink" title="ç»„ä»¶å†…å®šä¹‰stateå±æ€§"></a>ç»„ä»¶å†…å®šä¹‰stateå±æ€§</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react/16.4.0/umd/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token comment" spellcheck="true">//åˆ›å»ºä¸€ä¸ªç»„ä»¶</span>            <span class="token keyword">class</span> <span class="token class-name">Wether</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                        isHot<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>                        wind<span class="token punctuation">:</span><span class="token string">'å¤§é£'</span>                    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>ä»Šå¤©å¤©æ°”å¾ˆ<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot<span class="token operator">?</span><span class="token string">'ç‚çƒ­'</span><span class="token punctuation">:</span><span class="token string">'å‡‰çˆ½'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>ä»Šå¤©æœ‰<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>wind<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Wether<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="stateäº‹ä»¶ç»‘å®š"><a href="#stateäº‹ä»¶ç»‘å®š" class="headerlink" title="stateäº‹ä»¶ç»‘å®š"></a>stateäº‹ä»¶ç»‘å®š</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react/16.4.0/umd/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token comment" spellcheck="true">//åˆ›å»ºä¸€ä¸ªç»„ä»¶</span>            <span class="token keyword">class</span> <span class="token class-name">Wether</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// æ„é€ å™¨è°ƒç”¨1æ¬¡</span>                <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'constructor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                        isHot<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>                        wind<span class="token punctuation">:</span><span class="token string">'å¤§é£'</span>                    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//è§£å†³clickFnä¸­thisæŒ‡å‘é—®é¢˜</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>clickFn<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickFn<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// renderè°ƒç”¨1+næ¬¡ 1æ˜¯åˆå§‹åŒ–é‚£æ¬¡ï¼Œnæ˜¯çŠ¶æ€æ›´æ–°çš„æ¬¡æ•°</span>                <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickFn<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>ä»Šå¤©å¤©æ°”å¾ˆ<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot<span class="token operator">?</span><span class="token string">'ç‚çƒ­'</span><span class="token punctuation">:</span><span class="token string">'å‡‰çˆ½'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>ä»Šå¤©æœ‰<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>wind<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// ç±»å†…å®šä¹‰å‡½æ•°</span>                <span class="token function">clickFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// clickFnæ”¾åœ¨äº†Weatherçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›ç¤ºä¾‹ä½¿ç”¨</span>                    <span class="token comment" spellcheck="true">// ç”±äºclickFnæ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œæ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨çš„ï¼Œæ˜¯ç›´æ¥è°ƒç”¨</span>                    <span class="token comment" spellcheck="true">// ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥clickFnä¸­çš„thisä¸ºundefined</span>                    <span class="token keyword">let</span> isHot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot                    <span class="token comment" spellcheck="true">// ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€(state)ä¸å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œä¸‹é¢è¿™è¡Œå°±æ˜¯ç›´æ¥æ›´æ”¹ï¼ï¼ï¼</span>                    <span class="token comment" spellcheck="true">// this.state.isHot = !isHot</span>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€å¿…é¡»é€šè¿‡setStateè¿›è¡Œæ›´æ–°,ä¸”æ›´æ–°æ˜¯ä¸€ç§åˆå¹¶ï¼Œä¸æ˜¯æ›¿æ¢</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token punctuation">:</span><span class="token operator">!</span>isHot<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Wether<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">// ç±»å¤–å®šä¹‰å‡½æ•°</span>            <span class="token comment" spellcheck="true">// let clickFn = function()&amp;#123;</span>            <span class="token comment" spellcheck="true">//     alert('è¢«ç‚¹å‡»äº†')</span>            <span class="token comment" spellcheck="true">// &amp;#125;</span>            <span class="token comment" spellcheck="true">// console.log(clickFn);</span>            <span class="token comment" spellcheck="true">// let clickFn = ()=>&amp;#123;</span>            <span class="token comment" spellcheck="true">//     alert('è¢«ç‚¹å‡»äº†')</span>            <span class="token comment" spellcheck="true">// &amp;#125;</span>            <span class="token comment" spellcheck="true">// console.log(clickFn);</span>            <span class="token comment" spellcheck="true">// æµ‹è¯•äº†ä¸€ä¸‹ï¼Œä¸Šé¢ä¸¤ç§æ–¹å¼æ²¡åŠæ³•æ‰§è¡Œï¼Œä¸çŸ¥é“æ˜¯jsxçš„é—®é¢˜è¿˜æ˜¯æˆ‘å“ªé‡Œçš„çŸ¥è¯†ç‚¹è½ä¸‹äº† â€”_â€”</span>            <span class="token comment" spellcheck="true">// function clickFn()&amp;#123;</span>            <span class="token comment" spellcheck="true">//     alert('h1è¢«ç‚¹å‡»äº†')</span>            <span class="token comment" spellcheck="true">// &amp;#125;</span>            <span class="token comment" spellcheck="true">// //ä¸Šé¢è¿™ç§æ˜¯å¯ä»¥çš„</span>                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="stateç®€å†™"><a href="#stateç®€å†™" class="headerlink" title="stateç®€å†™"></a>stateç®€å†™</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react/16.4.0/umd/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token comment" spellcheck="true">//åˆ›å»ºä¸€ä¸ªç»„ä»¶</span>            <span class="token keyword">class</span> <span class="token class-name">Wether</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//ç›´æ¥æ”¾åˆ°å®ä¾‹è‡ªèº«ä¸Š</span>                state<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                        isHot<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>                        wind<span class="token punctuation">:</span><span class="token string">'å¤§é£'</span>                    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// renderè°ƒç”¨1+næ¬¡ 1æ˜¯åˆå§‹åŒ–é‚£æ¬¡ï¼Œnæ˜¯çŠ¶æ€æ›´æ–°çš„æ¬¡æ•°</span>                <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickFn<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>ä»Šå¤©å¤©æ°”å¾ˆ<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot<span class="token operator">?</span><span class="token string">'ç‚çƒ­'</span><span class="token punctuation">:</span><span class="token string">'å‡‰çˆ½'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>ä»Šå¤©æœ‰<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>wind<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                                <span class="token comment" spellcheck="true">// è‡ªå®šä¹‰æ–¹æ³•â€”â€”è¦ç”¨èµ‹å€¼è¯­å¥çš„å½¢å¼+ç®­å¤´å‡½æ•°</span>                clickFn <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">let</span> isHot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token punctuation">:</span><span class="token operator">!</span>isHot<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Wether<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="stateæ€»ç»“"><a href="#stateæ€»ç»“" class="headerlink" title="stateæ€»ç»“"></a>stateæ€»ç»“</h2><p>1.stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§ï¼Œå€¼æ˜¯å¯¹è±¡<br>2.é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º</p><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><strong>æ³¨æ„</strong></h2><p>1.ç»„ä»¶ä¸­çš„renderæ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å®ä¾‹å¯¹è±¡<br>2.ç»„ä»¶è‡ªå®šä¹‰æ–¹æ³•ä¸­çš„thisä¸ºundefinedï¼Œå¦‚ä½•è§£å†³ï¼Ÿ<br>  1)å¼ºåˆ¶ç»‘å®šthisï¼šé€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()<br>  2)ç®­å¤´å‡½æ•°<br>3.çŠ¶æ€æ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–°</p><h2 id="propså±æ€§"><a href="#propså±æ€§" class="headerlink" title="propså±æ€§"></a>propså±æ€§</h2><h3 id="propsåŸºæœ¬ä½¿ç”¨"><a href="#propsåŸºæœ¬ä½¿ç”¨" class="headerlink" title="propsåŸºæœ¬ä½¿ç”¨"></a>propsåŸºæœ¬ä½¿ç”¨</h3><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react/16.4.0/umd/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- prop-typesåº“ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props                <span class="token keyword">return</span> <span class="token operator">&lt;</span>ul<span class="token operator">></span>                    <span class="token operator">&lt;</span>li<span class="token operator">></span>å§“åï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                        <span class="token operator">&lt;</span>li<span class="token operator">></span>å¹´é¾„ï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>age<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                        <span class="token operator">&lt;</span>li<span class="token operator">></span>æ€§åˆ«ï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>sex<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶</span>        Person<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            name<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>            sex<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>            age<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>            speak<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>func        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span>        Person<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            sex<span class="token punctuation">:</span><span class="token string">'ä¸ç”·ä¸å¥³'</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person name<span class="token operator">=</span><span class="token string">'jerry'</span> age<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token number">19</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person name<span class="token operator">=</span><span class="token string">'tom'</span> age<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token number">18</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> sex<span class="token operator">=</span><span class="token string">'ç”·'</span>  <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//æ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§</span>        <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span><span class="token string">'jane'</span> <span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">19</span><span class="token punctuation">,</span> sex<span class="token punctuation">:</span><span class="token string">'å¥³'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span>p<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="propsçš„ç®€å†™æ–¹æ³•"><a href="#propsçš„ç®€å†™æ–¹æ³•" class="headerlink" title="propsçš„ç®€å†™æ–¹æ³•"></a>propsçš„ç®€å†™æ–¹æ³•</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react/16.4.0/umd/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- prop-typesåº“ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶</span>        <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            name<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>            sex<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>            age<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>            speak<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>func        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span>        <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            sex<span class="token punctuation">:</span><span class="token string">'ä¸ç”·ä¸å¥³'</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props                <span class="token keyword">return</span> <span class="token operator">&lt;</span>ul<span class="token operator">></span>                    <span class="token operator">&lt;</span>li<span class="token operator">></span>å§“åï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                        <span class="token operator">&lt;</span>li<span class="token operator">></span>å¹´é¾„ï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>age<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                        <span class="token operator">&lt;</span>li<span class="token operator">></span>æ€§åˆ«ï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>sex<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person name<span class="token operator">=</span><span class="token string">'jerry'</span> age<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token number">19</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person name<span class="token operator">=</span><span class="token string">'tom'</span> age<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token number">18</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> sex<span class="token operator">=</span><span class="token string">'ç”·'</span>  <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//æ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§</span>        <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span><span class="token string">'jane'</span> <span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">19</span><span class="token punctuation">,</span> sex<span class="token punctuation">:</span><span class="token string">'å¥³'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span>p<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.4(props)ç¬”è®°</title>
      <link href="/2022/10/09/10.4-bi-ji/"/>
      <url>/2022/10/09/10.4-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="props-ç»§ç»­å­¦ä¹ "><a href="#props-ç»§ç»­å­¦ä¹ " class="headerlink" title="props(ç»§ç»­å­¦ä¹ )"></a><strong>props(ç»§ç»­å­¦ä¹ )</strong></h2><h2 id="ç±»å¼ç»„ä»¶çš„æ„é€ å™¨ä¸props"><a href="#ç±»å¼ç»„ä»¶çš„æ„é€ å™¨ä¸props" class="headerlink" title="ç±»å¼ç»„ä»¶çš„æ„é€ å™¨ä¸props"></a><strong>ç±»å¼ç»„ä»¶çš„æ„é€ å™¨ä¸props</strong></h2><p>æ„é€ å‡½æ•°ä¸€èˆ¬ç”¨åœ¨ä¸¤ç§æƒ…å†µ:</p><ul><li>1.é€šè¿‡ç»™this.stateèµ‹å€¼å¯¹è±¡æ¥åˆå§‹åŒ–å†…éƒ¨state</li><li>2.ä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šå®ä¾‹</li></ul><pre class=" language-js"><code class="language-js">    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//åˆå§‹åŒ–state</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>wind<span class="token punctuation">:</span><span class="token string">'å¾®é£'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// è§£å†³ this æŒ‡å‘é—®é¢˜</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>å› æ­¤æ„é€ å™¨ä¸€èˆ¬ä¸éœ€è¦å†™ï¼Œå¦‚æœè¦åœ¨æ„é€ å™¨å†…ä½¿ç”¨this.propsæ‰å£°æ˜æ„é€ å™¨,å¹¶ä¸”éœ€è¦åœ¨æœ€å¼€å§‹è°ƒç”¨super(props)</p><pre class=" language-js"><code class="language-js">    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h2 id="å‡½æ•°å¼ç»„ä»¶ä¸props"><a href="#å‡½æ•°å¼ç»„ä»¶ä¸props" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶ä¸props"></a><strong>å‡½æ•°å¼ç»„ä»¶ä¸props</strong></h2><p>ç”±äºå‡½æ•°å¯ä»¥ä¼ é€’å‚æ•°ï¼Œå› æ­¤å‡½æ•°å¼ç»„ä»¶å¯ä»¥ä½¿ç”¨ props ã€‚</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token comment" spellcheck="true">// å› ä¸ºå‡½æ•°å¯ä»¥ä¼ å‚æ•°ï¼Œå› æ­¤å‡½æ•°å¼ç»„ä»¶å¯ä»¥ä½¿ç”¨props</span>        <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> props            <span class="token keyword">return</span> <span class="token punctuation">(</span>                <span class="token operator">&lt;</span>ul<span class="token operator">></span>                    <span class="token operator">&lt;</span>li<span class="token operator">></span>å§“åï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> name <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                        <span class="token operator">&lt;</span>li<span class="token operator">></span>å¹´é¾„ï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> age <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                        <span class="token operator">&lt;</span>li<span class="token operator">></span>æ€§åˆ«ï¼š<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> sex <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>            <span class="token punctuation">)</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        Person<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            name<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>            age<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>            sex<span class="token punctuation">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        Person<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            sex<span class="token punctuation">:</span><span class="token string">'ç”·'</span><span class="token punctuation">,</span>            age<span class="token punctuation">:</span><span class="token number">18</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person name<span class="token operator">=</span><span class="token string">"tom"</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="ç»„ä»¶å®ä¾‹æ ¸å¿ƒå±æ€§3â€“ref"><a href="#ç»„ä»¶å®ä¾‹æ ¸å¿ƒå±æ€§3â€“ref" class="headerlink" title="ç»„ä»¶å®ä¾‹æ ¸å¿ƒå±æ€§3â€“ref"></a><strong>ç»„ä»¶å®ä¾‹æ ¸å¿ƒå±æ€§3â€“ref</strong></h2><h2 id="å­—ç¬¦ä¸²ç±»å‹çš„ref"><a href="#å­—ç¬¦ä¸²ç±»å‹çš„ref" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹çš„ref"></a>å­—ç¬¦ä¸²ç±»å‹çš„ref</h2><p>è¿™ç§å½¢å¼å·²è¿‡æ—¶ï¼Œæ•ˆç‡ä¸é«˜ï¼Œå®˜æ–¹ä¸å»ºè®®ä½¿ç”¨</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            showLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>ipt1<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs                <span class="token function">alert</span><span class="token punctuation">(</span>ipt1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            showRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>ipt2<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs                <span class="token function">alert</span><span class="token punctuation">(</span>ipt2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token string">'ipt1'</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"ç‚¹æˆ‘æç¤ºå·¦ä¾§ä¿¡æ¯"</span><span class="token operator">/</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>showLeft<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>ç‚¹æˆ‘æç¤ºå·¦ä¾§ä¿¡æ¯<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                        <span class="token operator">&lt;</span>input onBlur<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>showRight<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> ref<span class="token operator">=</span><span class="token string">'ipt2'</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"å¤±å»ç„¦ç‚¹æç¤ºå³ä¾§ä¿¡æ¯"</span><span class="token operator">/</span><span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="å›è°ƒç±»å‹çš„ref"><a href="#å›è°ƒç±»å‹çš„ref" class="headerlink" title="å›è°ƒç±»å‹çš„ref"></a>å›è°ƒç±»å‹çš„ref</h2><p>è¦ç‚¹ï¼š</p><ul><li><code>c =&gt; this.ipt1 = c</code>å°±æ˜¯ç»™ç»„ä»¶å®ä¾‹æ·»åŠ <code>ipt1</code>å±æ€§ï¼Œå€¼ä¸ºèŠ‚ç‚¹</li><li>ç”±äºæ˜¯ç®­å¤´å‡½æ•°ï¼Œå› æ­¤<code>this</code>æ˜¯<code>render</code>å‡½æ•°é‡Œçš„å®ä¾‹ï¼Œå³ä¸ºç»„ä»¶å®ä¾‹</li></ul><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            showLeft<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>ipt1<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span>                    <span class="token function">alert</span><span class="token punctuation">(</span>ipt1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            showRight<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>ipt2<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span>                <span class="token function">alert</span><span class="token punctuation">(</span>ipt2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>ipt1<span class="token operator">=</span>c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">'ç‚¹å‡»è·å–å·¦ä¾§ä¿¡æ¯'</span> <span class="token operator">/</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>showLeft<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>ç‚¹æˆ‘è·å–å·¦ä¾§ä¿¡æ¯<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                        <span class="token operator">&lt;</span>input onBlur<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>showRight<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>ipt2<span class="token operator">=</span>c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">'å¤±å»ç„¦ç‚¹æç¤ºå³ä¾§ä¿¡æ¯'</span><span class="token operator">/</span><span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>å…³äºå›è°ƒ ref æ‰§è¡Œæ¬¡æ•°çš„é—®é¢˜ï¼Œå®˜ç½‘ (opens new window)æè¿°ï¼š</p><p>TIP<br>å¦‚æœ ref å›è°ƒå‡½æ•°æ˜¯ä»¥å†…è”å‡½æ•°çš„æ–¹å¼å®šä¹‰çš„ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­å®ƒä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼ å…¥å‚æ•° nullï¼Œç„¶åç¬¬äºŒæ¬¡ä¼šä¼ å…¥å‚æ•° DOM å…ƒç´ ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å®ä¾‹ï¼Œæ‰€ä»¥ React æ¸…ç©ºæ—§çš„ ref å¹¶ä¸”è®¾ç½®æ–°çš„ã€‚é€šè¿‡å°† ref çš„å›è°ƒå‡½æ•°å®šä¹‰æˆ class çš„ç»‘å®šå‡½æ•°çš„æ–¹å¼å¯ä»¥é¿å…ä¸Šè¿°é—®é¢˜ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹å®ƒæ˜¯æ— å…³ç´§è¦çš„ã€‚</p><p>å³å†…è”å‡½æ•°å½¢å¼ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ ref å›è°ƒä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼ å…¥ null ï¼Œç¬¬äºŒæ¬¡ä¼ å…¥ DOM å…ƒç´ ã€‚è‹¥æ˜¯ä¸‹è¿°å½¢å¼ï¼Œåˆ™åªæ‰§è¡Œä¸€æ¬¡ã€‚ä½†æ˜¯å¯¹åŠŸèƒ½å®ç°æ²¡æœ‰å½±å“ï¼Œå› æ­¤ä¸€èˆ¬ä¹Ÿæ˜¯ç”¨å†…è”å‡½æ•°å½¢å¼ã€‚</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            state<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                isHot<span class="token punctuation">:</span><span class="token boolean">true</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            changeWeather <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> isHot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token punctuation">:</span><span class="token operator">!</span>isHot<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            showMsg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>ipt<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span>                <span class="token function">alert</span><span class="token punctuation">(</span>ipt<span class="token punctuation">.</span>value<span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            saveRefs <span class="token operator">=</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>h2<span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isHot<span class="token operator">?</span><span class="token string">'ç‚çƒ­'</span><span class="token punctuation">:</span><span class="token string">'å‡‰çˆ½'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>                        <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*&lt;input ref=&amp;#123;c=>&amp;#123;this.ipt=c;console.log('@',c)&amp;#125;&amp;#125; type="text"/> &lt;br/>&lt;br/>*/</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//ä¸Šé¢å›è°ƒåœ¨renderæ›´æ–°æ¸²æŸ“æ—¶ä¼šè°ƒç”¨ä¸¤æ¬¡</span>                        <span class="token comment" spellcheck="true">//è§£å†³ï¼šå¤–å±‚å®šä¹‰ä¸€ä¸ªsaveå‡½æ•°ï¼Œrefå›è°ƒé‡Œè°ƒç”¨saveï¼Œsaveé‡Œæå–çœŸå®DOM</span>                        <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>saveRefs<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span> <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>showMsg<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>åˆ‡æ¢<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="createRef-API"><a href="#createRef-API" class="headerlink" title="createRef API"></a>createRef API</h2><p>è¯¥æ–¹å¼é€šè¿‡è°ƒç”¨<code>React.CreateRef</code>è¿”å›ä¸€ä¸ªå®¹å™¨ç”¨äºå‚¨å­˜èŠ‚ç‚¹ï¼Œä¸”ä¸€ä¸ªå®¹å™¨åªèƒ½å­˜å‚¨ä¸€ä¸ªèŠ‚ç‚¹</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        showMsg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>                <span class="token operator">&lt;</span>div<span class="token operator">></span>                    <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span>                    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>showMsg<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>ç‚¹å‡»æç¤ºä¿¡æ¯<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>            <span class="token punctuation">)</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><ul><li>React ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶ï¼Œè€ŒéåŸç”Ÿ DOM äº‹ä»¶ï¼Œå³ <code>onClickã€onBlur</code> ï¼šä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§</li><li>React çš„äº‹ä»¶é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼è¿›è¡Œå¤„ç†ï¼šä¸ºäº†é«˜æ•ˆ</li><li>é€šè¿‡ <code>event.target</code> å¯è·å–è§¦å‘äº‹ä»¶çš„DOMå…ƒç´ ï¼šå‹¿è¿‡åº¦ä½¿ç”¨ <code>ref</code></li></ul><p>å½“è§¦å‘äº‹ä»¶çš„å…ƒç´ å’Œéœ€è¦æ“ä½œçš„å…ƒç´ ä¸ºåŒä¸€å…ƒç´ æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨<code>ref</code>:</p><pre class=" language-html"><code class="language-html">class Demo extends React.Component <span class="token entity" title="&#123;">&amp;#123;</span>  showData2 = (event) => <span class="token entity" title="&#123;">&amp;#123;</span>    alert(event.target.value)  <span class="token entity" title="&#125;">&amp;#125;</span>  render() <span class="token entity" title="&#123;">&amp;#123;</span>    return (      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onBlur</span><span class="token attr-value"><span class="token punctuation">=</span>&amp;#123;this.showData2&amp;#125;</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token entity" title="&nbsp;">&amp;nbsp;</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    )  <span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.5(Reactè„šæ‰‹æ¶)</title>
      <link href="/2022/10/08/10.5-2/"/>
      <url>/2022/10/08/10.5-2/</url>
      
        <content type="html"><![CDATA[<h2 id="Reactè„šæ‰‹æ¶"><a href="#Reactè„šæ‰‹æ¶" class="headerlink" title="Reactè„šæ‰‹æ¶"></a>Reactè„šæ‰‹æ¶</h2><h2 id="Reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><a href="#Reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„" class="headerlink" title="Reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></a>Reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„</h2><p><code>public</code>:é™æ€èµ„æºæ–‡ä»¶</p><ul><li><code>manifest.json</code>:åº”ç”¨åŠ å£³(æŠŠç½‘é¡µå˜æˆå®‰å“&#x2F;iosè½¯ä»¶)çš„é…ç½®æ–‡ä»¶</li><li><code>robots.txt</code>:çˆ¬è™«åè®®æ–‡ä»¶</li></ul><p><code>src</code>:æºç æ–‡ä»¶</p><ul><li><code>App.test.js</code>:ç”¨äºç»™<code>App</code>ç»„ä»¶åšæµ‹è¯•</li><li><code>index.js</code>:å…¥å£æ–‡ä»¶</li><li><code>reportWebVitals.js</code>:é¡µé¢æ€§èƒ½åˆ†ææ–‡ä»¶ï¼Œéœ€è¦<code>web-vitals</code>æ”¯æŒ</li><li><code>setupTests.js</code>:ç»„ä»¶å•å…ƒæµ‹è¯•æ–‡ä»¶ï¼Œéœ€è¦<code>jest-dom</code>æ”¯æŒ</li></ul><p><img src="https://brucecai55520.gitee.io/bruceblog/assets/img/React-cli.5baa9e94.png" alt="å›¾åƒ"></p><p><code>index.js</code>ä»£ç åˆ†æ:</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!-- %PUBLIC_URL% ä»£è¡¨ public æ–‡ä»¶å¤¹çš„è·¯å¾„ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/favicon.ico<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!-- å¼€å¯ç†æƒ³è§†å£ï¼Œç”¨äºåšç§»åŠ¨ç«¯ç½‘é¡µçš„é€‚é… --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!-- ç”¨äºé…ç½®æµè§ˆå™¨é¡µç­¾+åœ°å€æ çš„é¢œè‰²(ä»…æ”¯æŒå®‰å“æ‰‹æœºæµè§ˆå™¨) --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>theme-color<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!-- ç½‘ç«™æè¿° --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Web site created using create-react-app<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!-- ç”¨äºæŒ‡å®šç½‘é¡µæ·»åŠ åˆ°æ‰‹æœºä¸»å±å¹•åçš„å›¾æ ‡ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>apple-touch-icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/logo192.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment" spellcheck="true">&lt;!-- åº”ç”¨åŠ å£³æ—¶çš„é…ç½®æ–‡ä»¶ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>manifest<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>%PUBLIC_URL%/manifest.json<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>React App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- è‹¥æµè§ˆå™¨ä¸æ”¯æŒ js åˆ™å±•ç¤ºæ ‡ç­¾ä¸­çš„å†…å®¹ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">></span></span>You need to enable JavaScript to run this app.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="æ ·å¼çš„æ¨¡å—åŒ–"><a href="#æ ·å¼çš„æ¨¡å—åŒ–" class="headerlink" title="æ ·å¼çš„æ¨¡å—åŒ–"></a>æ ·å¼çš„æ¨¡å—åŒ–</h2><p>æ ·å¼çš„æ¨¡å—åŒ–å¯ç”¨äºè§£å†³æ ·å¼å†²çªçš„é—®é¢˜ã€‚è¯¥æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå®é™…å¼€å‘ç”¨çš„æ¯”è¾ƒå°‘ã€‚ç”¨ less å°±èƒ½è§£å†³äº†ã€‚<br><code>component/Hello</code>æ–‡ä»¶ä¸‹çš„<code>index.css</code>æ”¹åä¸º<code>index.module.css</code></p><pre class=" language-css"><code class="language-css"><span class="token number">.</span>title&amp;<span class="token hexcode">#123</span><span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span>pink<span class="token punctuation">;</span>&amp;<span class="token hexcode">#125</span><span class="token punctuation">;</span></code></pre><p><code>Hello</code>ç»„ä»¶å¯¼å…¥æ ·å¼:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> hello <span class="token keyword">from</span> <span class="token string">'./index.module.css'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>hello<span class="token punctuation">.</span>title<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>Hello<span class="token punctuation">,</span>React<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h2 id="Reactç½‘ç»œè¯·æ±‚"><a href="#Reactç½‘ç»œè¯·æ±‚" class="headerlink" title="Reactç½‘ç»œè¯·æ±‚"></a>Reactç½‘ç»œè¯·æ±‚</h2><h3 id="Reactè„šæ‰‹æ¶é…ç½®ä»£ç†"><a href="#Reactè„šæ‰‹æ¶é…ç½®ä»£ç†" class="headerlink" title="Reactè„šæ‰‹æ¶é…ç½®ä»£ç†"></a>Reactè„šæ‰‹æ¶é…ç½®ä»£ç†</h3><p>æ–¹æ³•ä¸€ï¼š</p><p>åœ¨<code>package.json</code>æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®:</p><pre class=" language-js"><code class="language-js"><span class="token string">"proxy"</span><span class="token punctuation">:</span><span class="token string">"http://localhost:5000"</span>  <span class="token comment" spellcheck="true">//è¦è®¿é—®çš„url</span></code></pre><ul><li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå‰ç«¯è¯·æ±‚èµ„æºä¸åŠ å‰ç¼€</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†</li><li>å·¥ä½œæ–¹å¼ï¼šå½“è¯·æ±‚äº†3000ç«¯å£ï¼ˆæœ¬æœºï¼‰ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œå°±ä¼šæŠŠè¯·æ±‚è½¬å‘ç»™5000ç«¯å£å·æœåŠ¡å™¨</li></ul><p>æ–¹æ³•äºŒï¼š</p><p>åœ¨srcç›®å½•ä¸‹åˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶setupProxy.jsï¼Œè¿›è¡Œé…ç½®ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>    <span class="token comment" spellcheck="true">//api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000)</span>    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api1'</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€)</span>      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">//æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼</span>      <span class="token comment" spellcheck="true">/*      changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000      changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:3000      changeOriginé»˜è®¤å€¼ä¸ºfalseï¼Œä½†ä¸€èˆ¬å°†changeOriginæ”¹ä¸ºtrue      */</span>      changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">//å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®)</span>      pathRewrite<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token string">'^/api1'</span><span class="token punctuation">:</span> <span class="token string">''</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api2'</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:5001'</span><span class="token punctuation">,</span>      changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      pathRewrite<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token string">'^/api2'</span><span class="token punctuation">:</span> <span class="token string">''</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.7(Reactè·¯ç”±)</title>
      <link href="/2022/10/08/10.7/"/>
      <url>/2022/10/08/10.7/</url>
      
        <content type="html"><![CDATA[<h2 id="Reactè·¯ç”±"><a href="#Reactè·¯ç”±" class="headerlink" title="Reactè·¯ç”±"></a><strong>Reactè·¯ç”±</strong></h2><h2 id="è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…"><a href="#è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…"></a><strong>è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…</strong></h2><ul><li>é»˜è®¤ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…ï¼ˆè¾“å…¥è·¯å¾„å¿…é¡»åŒ…å«è¦åŒ¹é…çš„è·¯å¾„ï¼Œä¸”é¡ºåºä¸€è‡´</li><li>å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼š<code>&lt;Route exact path=&#39;/about&#39; component=&#123;About&#125;/&gt;</code></li><li>ä¸¥æ ¼åŒ¹é…å¼€å¯å¯èƒ½ä¼šå¯¼è‡´æ— æ³•ç»§ç»­åŒ¹é…äºŒçº§è·¯ç”±</li></ul><h2 id="Redirectçš„ä½¿ç”¨"><a href="#Redirectçš„ä½¿ç”¨" class="headerlink" title="Redirectçš„ä½¿ç”¨"></a>Redirectçš„ä½¿ç”¨</h2><ul><li>ä¸€èˆ¬å†™åœ¨æ‰€æœ‰è·¯ç”±æ³¨å†Œçš„æœ€ä¸‹æ–¹ï¼Œå½“æ‰€æœ‰è·¯ç”±æ— æ³•åŒ¹é…æ—¶ï¼Œè·³è½¬åˆ°RedirectæŒ‡å®šçš„è·¯ç”±</li></ul><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Switch<span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token string">"&amp;#123;About&amp;#125;"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token string">"&amp;#123;Home&amp;#125;"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/about"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span></code></pre><h2 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a><strong>åµŒå¥—è·¯ç”±</strong></h2><ul><li>æ³¨å†Œå­è·¯ç”±ä¸Šéœ€è¦å†™çˆ¶è·¯ç”±çš„path</li><li>è·¯ç”±çš„åŒ¹é…æ˜¯æŒ‰ç…§æ³¨å†Œè·¯ç”±çš„é¡ºåºè¿›è¡Œçš„</li></ul><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> çˆ¶ç»„ä»¶ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span><span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span><span class="token operator">&lt;</span>Switch<span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token string">"&amp;#123;About&amp;#125;"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token string">"&amp;#123;Home&amp;#125;"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/about"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span></code></pre><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å­ç»„ä»¶ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>ul className<span class="token operator">=</span><span class="token string">"nav nav-tabs"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>li<span class="token operator">></span>    <span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/home/news"</span><span class="token operator">></span>News<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>  <span class="token operator">&lt;</span>li<span class="token operator">></span>    <span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/home/message"</span><span class="token operator">></span>Message<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span><span class="token operator">&lt;</span>Switch<span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/news"</span> component<span class="token operator">=</span><span class="token string">"&amp;#123;News&amp;#125;"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home/message"</span> component<span class="token operator">=</span><span class="token string">"&amp;#123;Message&amp;#125;"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/home/news"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span></code></pre><h2 id="è·¯ç”±ä¼ å‚"><a href="#è·¯ç”±ä¼ å‚" class="headerlink" title="è·¯ç”±ä¼ å‚"></a><strong>è·¯ç”±ä¼ å‚</strong></h2><p>ä¸‰ç§æ–¹å¼ï¼šparams,search,state<br>ä¸‰ç§æ–¹å¼å¯¹æ¯”ï¼š</p><ul><li>state:åœ¨å½“å‰é¡µé¢åˆ·æ–°å¯ä»¥ä¿ç•™å‚æ•°ï¼Œä½†åœ¨æ–°é¡µé¢åˆ·æ–°ä¸èƒ½ä¿ç•™ã€‚å‰ä¸¤ç§æ–¹å¼å› ä¸ºæ˜¯åœ¨urlåœ°å€ä¸Šä¿å­˜å‚æ•°ï¼Œå› æ­¤åœ°å€éƒ½èƒ½ä¿ç•™</li><li>paramså’Œsearchå‚æ•°éƒ½ä¼šå˜æˆå­—ç¬¦ä¸²</li></ul><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> è·¯ç”±é“¾æ¥ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/home/message/detail/Bruce/21'</span><span class="token operator">></span>params<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token template-string"><span class="token string">`/home/message/detail/$&amp;#123;item.name&amp;#125;/$&amp;#123;item.age&amp;#125;`</span></span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>name<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/home/message/detail/?name=Bruce&amp;age=21'</span><span class="token operator">></span>search<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token template-string"><span class="token string">`/home/message/detail/?id=$&amp;#123;item.name&amp;#125;&amp;title=$&amp;#123;item.age&amp;#125;`</span></span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>name<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>pathname<span class="token punctuation">:</span> <span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span> <span class="token string">'Bruce'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">21</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>state<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ³¨å†Œè·¯ç”± <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home/message/detail/:name/:age'</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Detail<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> search å’Œ state æŒ‰æ­£å¸¸æ³¨å†Œå³å¯ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home/message/detail'</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Detail<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//æ¥æ”¶å‚æ•°</span><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> name<span class="token punctuation">,</span> age <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">'querystring'</span><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> search <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> name<span class="token punctuation">,</span> age <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> qs<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> name<span class="token punctuation">,</span> age <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state</code></pre><h2 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h2><p>ç¼–ç¨‹å¼å¯¼èˆªæ˜¯ä½¿ç”¨è·¯ç”±ç»„ä»¶<code>this.props.history</code>æä¾›çš„APIè¿›è¡Œè·¯ç”±è·³è½¬</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">gopBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>å‚æ•°ä¸ºè´Ÿæ•°æ—¶æ˜¯åé€€</code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//ç¼–ç¨‹å¼å¯¼èˆªä¼ å‚æ•°</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`/home/message/detail/$&amp;#123;id&amp;#125;/$&amp;#123;title&amp;#125;`</span></span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//paramsä¼ å‚</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`/home/message/detail?id=&amp;#123;id&amp;#125;&amp;title=&amp;#123;title&amp;#125;`</span></span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//searchä¼ å‚</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`/home/message/detail`</span></span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>id<span class="token punctuation">,</span>title<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//stateä¼ å‚</span></code></pre><p>withRouterçš„ä½¿ç”¨<br><code>withRouter</code>çš„ä½œç”¨ï¼šåŠ å·¥ä¸€èˆ¬ç»„ä»¶ï¼Œä½¿å…¶åƒè·¯ç”±ç»„ä»¶ä¸€æ ·æœ‰è·¯ç”±ç»„ä»¶çš„APIï¼Œå¦‚<code>this.props.history</code>ç­‰ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Component<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>withRouter<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token operator">...</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Header<span class="token punctuation">)</span></code></pre><h2 id="BrowserRouterå’ŒHashRouter"><a href="#BrowserRouterå’ŒHashRouter" class="headerlink" title="BrowserRouterå’ŒHashRouter"></a>BrowserRouterå’ŒHashRouter</h2><p>åº•å±‚åŸç†ä¸ä¸€æ ·</p><ul><li>BrowserRouterä½¿ç”¨çš„æ˜¯H5çš„history APIï¼Œä¸å…¼å®¹IE9åŠä»¥ä¸‹ç‰ˆæœ¬</li><li>HashRouterä½¿ç”¨çš„æ˜¯URLçš„å“ˆå¸Œå€¼</li></ul><p>è·¯å¾„è¡¨ç°ä¸ä¸€æ ·</p><ul><li>BrowserRouterçš„è·¯å¾„ä¸­æ²¡æœ‰#ï¼Œå¦‚ï¼šlocalhost:3000&#x2F;demo&#x2F;test</li><li>HashRouterçš„è·¯å¾„åŒ…å«#ï¼Œå¦‚ï¼šlocalhost:3000&#x2F;demo&#x2F;test</li></ul><p>åˆ·æ–°ä¼šå¯¹è·¯ç”±stateå‚æ•°çš„å½±å“</p><ul><li>BrowserRouteræ²¡æœ‰å½±å“ï¼Œå› ä¸ºstateä¿å­˜åœ¨historyå¯¹è±¡ä¸­</li><li>HashRouteråˆ·æ–°åä¼šå¯¼è‡´è·¯ç”±stateå‚æ•°çš„ä¸¢å¤±</li></ul><p>å¤‡æ³¨:HashRouterå¯ä»¥è§£å†³ä¸€äº›è·¯å¾„é”™è¯¯ç›¸å…³çš„é—®é¢˜</p><h2 id="React-UI-ç»„ä»¶åº“"><a href="#React-UI-ç»„ä»¶åº“" class="headerlink" title="React UI ç»„ä»¶åº“"></a>React UI ç»„ä»¶åº“</h2><h3 id="Ant-Design-é…ç½®æŒ‰éœ€å¼•å…¥å’Œè‡ªå®šä¹‰ä¸»é¢˜"><a href="#Ant-Design-é…ç½®æŒ‰éœ€å¼•å…¥å’Œè‡ªå®šä¹‰ä¸»é¢˜" class="headerlink" title="Ant Design é…ç½®æŒ‰éœ€å¼•å…¥å’Œè‡ªå®šä¹‰ä¸»é¢˜"></a>Ant Design é…ç½®æŒ‰éœ€å¼•å…¥å’Œè‡ªå®šä¹‰ä¸»é¢˜</h3><p>ä»¥ä¸‹é…ç½®æ˜¯ 3.x ç‰ˆæœ¬ï¼Œ4.x ç‰ˆæœ¬è§<a href="https://3x.ant.design/index-cn">å®˜ç½‘</a></p><p>1.å®‰è£…ä¾èµ–ï¼š</p><pre class=" language-git"><code class="language-git">npm install react-app-rewired customize-cra babel-plugin-import less less-loader</code></pre><p>2.ä¿®æ”¹ <code>package.json</code></p><pre class=" language-js"><code class="language-js"><span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"react-app-rewired start"</span><span class="token punctuation">,</span>  <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"react-app-rewired build"</span><span class="token punctuation">,</span>  <span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token string">"react-app-rewired test"</span><span class="token punctuation">,</span>  <span class="token string">"eject"</span><span class="token punctuation">:</span> <span class="token string">"react-scripts eject"</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>3.æ ¹ç›®å½•ä¸‹åˆ›å»º <code>config-overrides.js</code></p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//é…ç½®å…·ä½“çš„ä¿®æ”¹è§„åˆ™</span><span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> override<span class="token punctuation">,</span> fixBabelImports<span class="token punctuation">,</span> addLessLoader <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'customize-cra'</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>  <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    libraryName<span class="token punctuation">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>    libraryDirectory<span class="token punctuation">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>    style<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">addLessLoader</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    lessOptions<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>      javascriptEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      modifyVars<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token string">'@primary-color'</span><span class="token punctuation">:</span> <span class="token string">'green'</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å¤‡æ³¨ï¼šä¸ç”¨åœ¨ç»„ä»¶é‡Œå¼•å…¥æ ·å¼ï¼Œimport â€˜antd&#x2F;dist&#x2F;antd.cssâ€™ åˆ æ‰</p>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.6(Githubæ¡ˆä¾‹æ€»ç»“)</title>
      <link href="/2022/10/08/10.6/"/>
      <url>/2022/10/08/10.6/</url>
      
        <content type="html"><![CDATA[<h2 id="Githubæœç´¢æ¡†æ¡ˆä¾‹çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#Githubæœç´¢æ¡†æ¡ˆä¾‹çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="Githubæœç´¢æ¡†æ¡ˆä¾‹çŸ¥è¯†ç‚¹æ€»ç»“"></a><strong>Githubæœç´¢æ¡†æ¡ˆä¾‹çŸ¥è¯†ç‚¹æ€»ç»“</strong></h2><ol><li>è®¾è®¡çŠ¶æ€æ—¶è¦è€ƒè™‘å…¨é¢ï¼Œä¾‹å¦‚å¸¦æœ‰ç½‘ç»œè¯·æ±‚çš„ç»„ä»¶ï¼Œè¦è€ƒè™‘è¯·æ±‚å¤±è´¥æ€ä¹ˆåŠ</li><li>ES6çŸ¥è¯†ç‚¹ï¼šè§£æ„èµ‹å€¼+é‡å‘½å</li></ol><pre class=" language-js"><code class="language-js">    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> a<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> b<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//ä¼ ç»Ÿè§£æ„èµ‹å€¼</span>   <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> a <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> obj   <span class="token comment" spellcheck="true">//è¿ç»­è§£æ„èµ‹å€¼</span>   <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>     a<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> b <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>   <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> obj   <span class="token comment" spellcheck="true">//è¿ç»­è§£æ„èµ‹å€¼ + é‡å‘½å</span>   <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>     a<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> b<span class="token punctuation">:</span> value <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>   <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> obj</code></pre><h2 id="åˆå§‹ä»£ç "><a href="#åˆå§‹ä»£ç " class="headerlink" title="åˆå§‹ä»£ç "></a><strong>åˆå§‹ä»£ç </strong></h2><h3 id="Searchç»„ä»¶"><a href="#Searchç»„ä»¶" class="headerlink" title="Searchç»„ä»¶"></a><strong>Searchç»„ä»¶</strong></h3><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Search</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    search <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–ç”¨æˆ·çš„è¾“å…¥</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> keyword <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">.</span>value        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isFirst<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>isLoading<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//å‘é€ç½‘ç»œè¯·æ±‚</span>        axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://api.github.com/search/users?q=$&amp;#123;keyword&amp;#125;`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>            res <span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                 <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>users<span class="token punctuation">:</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items<span class="token punctuation">,</span>isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>            err <span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>err<span class="token punctuation">:</span>err<span class="token punctuation">.</span>message<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'search'</span><span class="token operator">></span>                <span class="token operator">&lt;</span>h1<span class="token operator">></span>Search Github Users<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token operator">=</span>c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>search<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>æœç´¢<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h3 id="Listç»„ä»¶"><a href="#Listç»„ä»¶" class="headerlink" title="Listç»„ä»¶"></a><strong>Listç»„ä»¶</strong></h3><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> <span class="token string">'./Index.css'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>users<span class="token punctuation">,</span>isFirst<span class="token punctuation">,</span>isLoading<span class="token punctuation">,</span>err<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>ul<span class="token operator">></span>                    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                        isFirst <span class="token operator">?</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>æ¬¢è¿ä½¿ç”¨ï¼Œè¾“å…¥å…³é”®å­—å¼€å§‹æœç´¢<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">:</span>                        isLoading <span class="token operator">?</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>Loading<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">:</span>                        err <span class="token operator">?</span> <span class="token operator">&lt;</span>h2 style<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>color<span class="token punctuation">:</span><span class="token string">'red'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>err<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">:</span>                        users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item<span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                            <span class="token keyword">return</span> <span class="token punctuation">(</span>                                <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>id<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>                                    <span class="token operator">&lt;</span>a rel<span class="token operator">=</span><span class="token string">'noreferrer'</span> href<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>html_url<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> target<span class="token operator">=</span><span class="token string">'_blank'</span><span class="token operator">></span>                                    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>avatar_url<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> alt<span class="token operator">=</span><span class="token string">"head_portrait"</span><span class="token operator">/</span><span class="token operator">></span>                                    <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>login<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>                                    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>                                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                            <span class="token punctuation">)</span>                        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h3 id="App-js"><a href="#App-js" class="headerlink" title="App.js"></a><strong>App.js</strong></h3><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">import</span> Search <span class="token keyword">from</span> <span class="token string">'./components/Search'</span><span class="token punctuation">;</span><span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'./components/List'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        users<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        isFirst<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>        isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>        err<span class="token punctuation">:</span><span class="token string">''</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    updateState <span class="token operator">=</span> <span class="token punctuation">(</span>stateObj<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>                 <span class="token operator">&lt;</span>Search updateState<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>updateState<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Search<span class="token operator">></span>                <span class="token operator">&lt;</span>List <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h2 id="3-æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"><a href="#3-æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ" class="headerlink" title="3. æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"></a>3. æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</h2><ul><li>é™å®šæœˆï¼Œå†å‘å¸ƒ</li><li>é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</li><li>è¦åœ¨<code>componentWillUnmount</code>ä¸­å–æ¶ˆè®¢é˜…</li></ul><h2 id="ä½¿ç”¨PubSubä»£ç "><a href="#ä½¿ç”¨PubSubä»£ç " class="headerlink" title="ä½¿ç”¨PubSubä»£ç "></a>ä½¿ç”¨PubSubä»£ç </h2><h3 id="Searchç»„ä»¶-pubsub"><a href="#Searchç»„ä»¶-pubsub" class="headerlink" title="Searchç»„ä»¶(pubsub)"></a><strong>Searchç»„ä»¶(pubsub)</strong></h3><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span><span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Search</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    search <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–ç”¨æˆ·çš„è¾“å…¥</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> keyword <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">.</span>value        <span class="token comment" spellcheck="true">// this.props.updateState(&amp;#123;isFirst:false,isLoading:true&amp;#125;)</span>        PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'updateState'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isFirst<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>isLoading<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//å‘é€ç½‘ç»œè¯·æ±‚</span>        axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://api.github.com/search/users?q=$&amp;#123;keyword&amp;#125;`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>            res <span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">// this.props.updateState(&amp;#123;users:res.data.items,isLoading:false&amp;#125;)</span>                PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'updateState'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>users<span class="token punctuation">:</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items<span class="token punctuation">,</span>isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>            err <span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// this.props.updateState(&amp;#123;isLoading:false,err:err.message&amp;#125;)</span>                PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'updateState'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>err<span class="token punctuation">:</span>err<span class="token punctuation">.</span>message<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'search'</span><span class="token operator">></span>                <span class="token operator">&lt;</span>h1<span class="token operator">></span>Search Github Users<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token operator">=</span>c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>search<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>æœç´¢<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h3 id="Listç»„ä»¶-pubsub"><a href="#Listç»„ä»¶-pubsub" class="headerlink" title="Listç»„ä»¶(pubsub)"></a><strong>Listç»„ä»¶(pubsub)</strong></h3><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span><span class="token keyword">import</span> <span class="token string">'./Index.css'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        users<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        isFirst<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>        isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>        err<span class="token punctuation">:</span><span class="token string">''</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'updateState'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        PubSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>users<span class="token punctuation">,</span>isFirst<span class="token punctuation">,</span>isLoading<span class="token punctuation">,</span>err<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>ul<span class="token operator">></span>                    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                        isFirst <span class="token operator">?</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>æ¬¢è¿ä½¿ç”¨ï¼Œè¾“å…¥å…³é”®å­—å¼€å§‹æœç´¢<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">:</span>                        isLoading <span class="token operator">?</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>Loading<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">:</span>                        err <span class="token operator">?</span> <span class="token operator">&lt;</span>h2 style<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>color<span class="token punctuation">:</span><span class="token string">'red'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>err<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">:</span>                        users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item<span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                            <span class="token keyword">return</span> <span class="token punctuation">(</span>                                <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>id<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>                                    <span class="token operator">&lt;</span>a rel<span class="token operator">=</span><span class="token string">'noreferrer'</span> href<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>html_url<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> target<span class="token operator">=</span><span class="token string">'_blank'</span><span class="token operator">></span>                                    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>avatar_url<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> alt<span class="token operator">=</span><span class="token string">"head_portrait"</span><span class="token operator">/</span><span class="token operator">></span>                                    <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>item<span class="token punctuation">.</span>login<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>                                    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>                                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                            <span class="token punctuation">)</span>                        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h3 id="App-js-pubsub"><a href="#App-js-pubsub" class="headerlink" title="App.js(pubsub)"></a><strong>App.js(pubsub)</strong></h3><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">import</span> Search <span class="token keyword">from</span> <span class="token string">'./components/Search'</span><span class="token punctuation">;</span><span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'./components/List'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>                 <span class="token operator">&lt;</span>Search<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Search<span class="token operator">></span>                <span class="token operator">&lt;</span>List<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p>4.<code>fetch</code>å‘é€è¯·æ±‚(<strong>å…³æ³¨åˆ†ç¦»</strong>çš„è®¾è®¡æ€æƒ³)</p><pre class=" language-js"><code class="language-js">    <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//å…ˆçœ‹çœ‹æœåŠ¡å™¨èƒ½ä¸èƒ½è¿ä¸Š</span>            <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://api.github.com/search/users?q=$&amp;#123;keyword&amp;#125;`</span></span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">//åœ¨è·å–æ•°æ®</span>            <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'updateState'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>users<span class="token punctuation">:</span>data<span class="token punctuation">.</span>items<span class="token punctuation">,</span>isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¯·æ±‚å‡ºé”™'</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>            PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'updateState'</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>isLoading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>err<span class="token punctuation">:</span>error<span class="token punctuation">.</span>message<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h2 id="React-è·¯ç”±"><a href="#React-è·¯ç”±" class="headerlink" title="React è·¯ç”±"></a><strong>React</strong> <strong>è·¯ç”±</strong></h2><h3 id="è·¯ç”±çš„ç†è§£"><a href="#è·¯ç”±çš„ç†è§£" class="headerlink" title="è·¯ç”±çš„ç†è§£"></a><strong>è·¯ç”±çš„ç†è§£</strong></h3><p>ä½•ä¸ºè·¯ç”±</p><ul><li>ä¸€ä¸ªè·¯ç”±æ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³»</li><li><code>key</code> ä¸ºè·¯å¾„ï¼Œ<code>value</code> å¯èƒ½æ˜¯ <code>function</code> æˆ– ç»„ä»¶</li></ul><p>åç«¯è·¯ç”±ï¼š</p><ul><li><code>value</code> æ˜¯ <code>function</code> ï¼Œç”¨äºå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚</li><li>æ³¨å†Œè·¯ç”±ï¼š<code>router.get(path, function(req, res))</code></li><li>å·¥ä½œè¿‡ç¨‹ï¼šNode æ¥æ”¶åˆ°è¯·æ±‚ï¼Œæ ¹æ®è·¯å¾„åŒ¹é…è·¯ç”±ï¼Œè°ƒç”¨å¯¹åº”å‡½æ•°å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”æ•°æ®</li></ul><p>å‰ç«¯è·¯ç”±ï¼š</p><ul><li>value æ˜¯ç»„ä»¶</li><li>æ³¨å†Œè·¯ç”±ï¼š<code>&lt;Route path=&quot;/test&quot; component=&#123;Test&#125;&gt;</code></li><li>å·¥ä½œè¿‡ç¨‹ï¼šæµè§ˆå™¨è·¯å¾„å˜ä¸º<code>/test</code> ï¼Œå±•ç¤º <code>Test</code> ç»„ä»¶</li></ul><h2 id="è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨"><a href="#è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨"></a><strong>è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨</strong></h2><p>å¯¼èˆªåŒºç”¨<code>&lt;Link&gt;</code>,å±•ç¤ºåŒºç”¨<code>&lt;Route&gt;</code></p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Link <span class="token punctuation">,</span> Route <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'./components/Home'</span><span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'./components/About'</span><span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>                 <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"header"</span><span class="token operator">></span>                    <span class="token operator">&lt;</span>h1<span class="token operator">></span>React Router Demo<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"native"</span><span class="token operator">></span>                    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/* &lt;a href="#">About&lt;/a>                    &lt;a href="#">Home&lt;/a> */</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"linkArea"</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>Link className<span class="token operator">=</span><span class="token string">'link1 active'</span> to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>                            <span class="token operator">&lt;</span>Link className<span class="token operator">=</span><span class="token string">'link2'</span> to<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"view"</span><span class="token operator">></span>                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>                    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/home"</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><p><code>&lt;App&gt;</code>æœ€å¤–ä¾§åŒ…è£¹<code>&lt;BrowserRouter&gt;</code>æˆ–<code>&lt;HashRouter&gt;</code>:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> BrowserRouter <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span><span class="token punctuation">;</span><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App"</span><span class="token punctuation">;</span>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">></span><span class="token operator">&lt;</span>App<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">></span><span class="token punctuation">,</span>    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h2 id="è·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶"><a href="#è·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶" class="headerlink" title="è·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶"></a><strong>è·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶</strong></h2><p>1.å†™æ³•ä¸åŒï¼š</p><ul><li>ä¸€èˆ¬ç»„ä»¶ï¼š<code>&lt;Demo/&gt;</code></li><li>è·¯ç”±ç»„ä»¶ï¼š<code>&lt;Route path=&quot;/demo&quot; component=&#123;Demo&#125;/&gt;</code></li></ul><p>2.å­˜æ”¾ä½ç½®ä¸åŒï¼š</p><ul><li>ä¸€èˆ¬ç»„ä»¶ï¼š<code>components</code></li><li>è·¯ç”±ç»„ä»¶ï¼š<code>pages</code></li></ul><p>3.æ¥æ”¶åˆ°çš„<code>props</code>ä¸åŒï¼š</p><ul><li>ä¸€èˆ¬ç»„ä»¶ï¼šæ ‡ç­¾å±æ€§ä¼ é€’</li><li>è·¯ç”±ç»„ä»¶ï¼šæ¥æ”¶åˆ°ä¸‰ä¸ªå›ºå®šçš„å±æ€§</li></ul><pre class=" language-js"><code class="language-js">history<span class="token punctuation">:</span>  go<span class="token punctuation">:</span> Æ’ <span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  goBack<span class="token punctuation">:</span> Æ’ <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  goForward<span class="token punctuation">:</span> Æ’ <span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  push<span class="token punctuation">:</span> Æ’ <span class="token function">push</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">)</span>  replace<span class="token punctuation">:</span> Æ’ <span class="token function">replace</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">)</span>location<span class="token punctuation">:</span>  pathname<span class="token punctuation">:</span> <span class="token string">"/home/message/detail/2/hello"</span>  search<span class="token punctuation">:</span> <span class="token string">""</span>  state<span class="token punctuation">:</span> undefinedmatch<span class="token punctuation">:</span>  params<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  path<span class="token punctuation">:</span> <span class="token string">"/home/message/detail/:id/:title"</span>  url<span class="token punctuation">:</span> <span class="token string">"/home/message/detail/2/hello"</span></code></pre><h3 id="NavLink"><a href="#NavLink" class="headerlink" title="NavLink"></a><strong>NavLink</strong></h3><p><code>NavLink</code>å¯ä»¥å®ç°ç”±é“¾æ¥çš„é«˜äº®ï¼Œé€šè¿‡<code>activeCassName</code>æŒ‡å®šæ ·å¼åï¼Œé»˜è®¤è¿½åŠ ç±»åä¸º<code>active</code></p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>NavLink activeClassName<span class="token operator">=</span><span class="token string">"demo"</span> to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">></span><span class="token operator">&lt;</span>NavLink activeClassName<span class="token operator">=</span><span class="token string">"demo"</span> to<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">></span></code></pre><p>å°è£…<code>NavLink</code>ç»„ä»¶:ç”±äº<code>NavLink</code>ç»„ä»¶ä¸­çš„é‡å¤ä»£ç å¤ªå¤šï¼Œå› æ­¤è¿›è¡ŒäºŒæ¬¡å°è£…<br>â€» ç»†èŠ‚ç‚¹ï¼šç»„ä»¶æ ‡ç­¾çš„å†…å®¹ä¼šä¼ é€’åˆ° <code>this.props.children</code>å±æ€§ä¸­ï¼Œåè¿‡æ¥é€šè¿‡æŒ‡å®šæ ‡ç­¾çš„ <code>children</code> å±æ€§å¯ä»¥ä¿®æ”¹ç»„ä»¶æ ‡ç­¾å†…å®¹</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// MyNavLink ç»„ä»¶</span><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> Component <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> NavLink <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyNavLink</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// this.props.children å¯ä»¥å–åˆ°æ ‡ç­¾å†…å®¹ï¼Œå¦‚ About, Home</span>    <span class="token comment" spellcheck="true">// åè¿‡æ¥é€šè¿‡æŒ‡å®šæ ‡ç­¾çš„ children å±æ€§å¯ä»¥ä¿®æ”¹æ ‡ç­¾å†…å®¹</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>NavLink activeClassName<span class="token operator">=</span><span class="token string">"demo"</span> className<span class="token operator">=</span><span class="token string">"list-group-item"</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span><span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">></span></code></pre><h3 id="Switch-çš„ä½¿ç”¨"><a href="#Switch-çš„ä½¿ç”¨" class="headerlink" title="Switch çš„ä½¿ç”¨"></a><strong>Switch</strong> <strong>çš„ä½¿ç”¨</strong></h3><p>Switchå¯ä»¥æé«˜è·¯ç”±åŒ¹é…æ•ˆç‡ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™ä¸å†ç»§ç»­åŒ¹é…åé¢çš„è·¯ç”±ï¼Œå³ä¸ºå•ä¸€åŒ¹é…</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Switch<span class="token operator">></span>    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about'</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>About<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Home<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>Test<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span></code></pre><h3 id="è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜"><a href="#è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜" class="headerlink" title="è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜"></a><strong>è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜</strong></h3><ul><li><code>public/index.html</code> ä¸­å¼•å…¥æ ·å¼æ—¶ä¸å†™<code>./</code>å†™<code>/</code>ï¼ˆå¸¸ç”¨ï¼‰</li><li><code>public/index.html</code>ä¸­å¼•å…¥æ ·å¼æ—¶ä¸å†™<code>./</code>å†™<code>%PUBLIC_URL%</code>ï¼ˆå¸¸ç”¨ï¼‰</li><li>ä½¿ç”¨<code>HashRouter</code></li></ul><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"/css/bootstrap.css"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"%PUBLIC_URL%/css/bootstrap.css"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.5(å—æ§éå—æ§ç»„ä»¶)</title>
      <link href="/2022/10/08/10.5/"/>
      <url>/2022/10/08/10.5/</url>
      
        <content type="html"><![CDATA[<h2 id="å—æ§-amp-éå—æ§ç»„ä»¶"><a href="#å—æ§-amp-éå—æ§ç»„ä»¶" class="headerlink" title="å—æ§ &amp; éå—æ§ç»„ä»¶"></a>å—æ§ &amp; éå—æ§ç»„ä»¶</h2><p>åŒ…å«è¡¨å•çš„ç»„ä»¶åˆ†ç±»ï¼š</p><ul><li>éå—æ§ç»„ä»¶ï¼šç°ç”¨ç°å–ã€‚å³éœ€è¦æ—¶ä½¿ç”¨ï¼Œå†è·å–èŠ‚ç‚¹å¾—åˆ°æ•°æ®</li><li>å—æ§ç»„ä»¶ï¼šç±»ä¼¼äºVueåŒå‘ç»‘å®šçš„ä»è§†å›¾å±‚ç»‘å®šåˆ°æ•°æ®</li></ul><p>å°½é‡ä½¿ç”¨å—æ§ç»„ä»¶ï¼Œå› ä¸ºéå—æ§ç»„ä»¶è¦ä½¿ç”¨å¤§é‡çš„ref</p><pre class=" language-html"><code class="language-html">//éå—æ§ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            handleSubmit <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>username<span class="token punctuation">,</span>password<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span>                <span class="token function">alert</span><span class="token punctuation">(</span>                    <span class="token template-string"><span class="token string">`æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123;username.value&amp;#125;ï¼Œå¯†ç ä¸º$&amp;#123;password.value&amp;#125;`</span></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>                            ç”¨æˆ·åï¼š<span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token operator">=</span>c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">'username'</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">></span>                                å¯†ç  ï¼š<span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>c<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token operator">=</span>c<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"password"</span> name<span class="token operator">=</span><span class="token string">'password'</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>button<span class="token operator">></span>ç™»å½•<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                            <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>                       <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span> <span class="token operator">&lt;</span>Demo<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Demo<span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html">//å—æ§ç»„ä»¶        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    username<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>                    password<span class="token punctuation">:</span><span class="token string">''</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                saveUserName <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>username<span class="token punctuation">:</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                savePassword <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>password<span class="token punctuation">:</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                handleSubmit <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>username<span class="token punctuation">,</span>password<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>                    <span class="token function">alert</span><span class="token punctuation">(</span>                        <span class="token template-string"><span class="token string">`æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123; username &amp;#125;,å¯†ç ä¸º$&amp;#123; password &amp;#125;`</span></span>                    <span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>                <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> <span class="token punctuation">(</span>                        <span class="token operator">&lt;</span>div<span class="token operator">></span>                            <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>                                <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>saveUserName<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span>                                <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>savePassword<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">/</span><span class="token operator">></span>                                <span class="token operator">&lt;</span>button<span class="token operator">></span>ç™»å½•<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                                <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>                        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                    <span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="é«˜é˜¶å‡½æ•°-å‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#é«˜é˜¶å‡½æ•°-å‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="é«˜é˜¶å‡½æ•°_å‡½æ•°æŸ¯é‡ŒåŒ–"></a>é«˜é˜¶å‡½æ•°_å‡½æ•°æŸ¯é‡ŒåŒ–</h2><p>å¯¹ä¸Šè¿°å—æ§ç»„ä»¶ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå¸Œæœ›æŠŠ<code>saveUserName</code>å’Œ<code>savePassword</code>åˆå¹¶ä¸ºä¸€ä¸ªå‡½æ•°<br>è¦ç‚¹ï¼š</p><ul><li>é«˜é˜¶å‡½æ•°ï¼šå‚æ•°ä¸ºå‡½æ•°æˆ–è€…è¿”å›ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ï¼Œå¦‚<code>Promiseã€setTimeoutã€Array.map()</code></li><li>å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šé€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œå®ç°å¤šæ¬¡æ¥æ”¶å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç å½¢å¼</li></ul><pre class=" language-html"><code class="language-html">//å‡½æ•°æŸ¯é‡ŒåŒ–function sum(a)<span class="token entity" title="&#123;">&amp;#123;</span>    return (b)=><span class="token entity" title="&#123;">&amp;#123;</span>        return (c)<span class="token entity" title="&#123;">&amp;#123;</span>            return a + b + c;        <span class="token entity" title="&#125;">&amp;#125;</span>    <span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span></code></pre><pre class=" language-html"><code class="language-html">//ä½¿ç”¨é«˜é˜¶å‡½æ•°å’Œå‡½æ•°æŸ¯é‡ŒåŒ–    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                username<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>                password<span class="token punctuation">:</span><span class="token string">''</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            saveFormData <span class="token operator">=</span> <span class="token punctuation">(</span>dataType<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token punctuation">[</span>dataType<span class="token punctuation">]</span><span class="token punctuation">:</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            handleSubmit <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>username<span class="token punctuation">,</span>password<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>                <span class="token function">alert</span><span class="token punctuation">(</span>                    <span class="token template-string"><span class="token string">`æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123; username &amp;#125;,å¯†ç ä¸º$&amp;#123; password &amp;#125;`</span></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">/</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>button<span class="token operator">></span>ç™»å½•<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                            <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><pre class=" language-html"><code class="language-html">//ä¸ä½¿ç”¨æŸ¯é‡ŒåŒ–å†™æ³•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>            state <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                username<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>                password<span class="token punctuation">:</span><span class="token string">''</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            saveFormData <span class="token operator">=</span> <span class="token punctuation">(</span>dataType<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token punctuation">[</span>dataType<span class="token punctuation">]</span><span class="token punctuation">:</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            handleSubmit <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">const</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>username<span class="token punctuation">,</span>password<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>                <span class="token function">alert</span><span class="token punctuation">(</span>                    <span class="token template-string"><span class="token string">`æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123; username &amp;#125;,å¯†ç ä¸º$&amp;#123; password &amp;#125;`</span></span>                <span class="token punctuation">)</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>event<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>event<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">/</span><span class="token operator">></span>                            <span class="token operator">&lt;</span>button<span class="token operator">></span>ç™»å½•<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                            <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>                <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Demo<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a><strong>ç”Ÿå‘½å‘¨æœŸ</strong></h2><h3 id="ç”Ÿå‘½å‘¨æœŸæ—§ç‰ˆ"><a href="#ç”Ÿå‘½å‘¨æœŸæ—§ç‰ˆ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸæ—§ç‰ˆ"></a><strong>ç”Ÿå‘½å‘¨æœŸæ—§ç‰ˆ</strong></h3><p><strong>åˆå§‹åŒ–é˜¶æ®µï¼š</strong><code>ReactDOM.render()</code>è§¦å‘çš„åˆæ¬¡æ¸²æŸ“</p><ul><li><code>constructor</code></li><li><code>componentWillMount</code></li><li><code>render</code></li><li><code>componentDidMount</code> &#x3D;&#x3D;&#x3D;&gt; å¸¸ç”¨ ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼šå¦‚ï¼šå¼€å¯å®šæ—¶å™¨ï¼Œå‘é€ç½‘ç»œè¯·æ±‚ï¼Œè®¢é˜…æ¶ˆæ¯</li></ul><p><strong>æ›´æ–°é˜¶æ®µï¼š</strong></p><p>1.çˆ¶ç»„ä»¶é‡æ–°<code>render</code>è§¦å‘çš„æ›´æ–°</p><ul><li><code>componentWillReceiveProps</code></li><li><code>shouldComponentUpdate</code> ï¼šæ§åˆ¶ç»„ä»¶æ˜¯å¦æ›´æ–°çš„é˜€é—¨ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º<code>true</code>ã€‚è‹¥è¿”å› <code>false</code> ï¼Œåˆ™åç»­æµç¨‹ä¸ä¼šè¿›è¡Œã€‚</li><li><code>componentWillUpdate</code></li><li><code>render</code></li><li><code>componentDidUpdate</code></li></ul><p>2.ç»„ä»¶å†…éƒ¨è°ƒç”¨<code>this.setState()</code>ä¿®æ”¹çŠ¶æ€</p><ul><li><code>shouldComponentUpdate</code></li><li><code>componentWillUpdate</code></li><li><code>render</code></li><li><code>componentDidUpdate</code></li></ul><p>3.ç»„ä»¶å†…éƒ¨è°ƒç”¨<code>this.forceUpdate()</code>å¼ºåˆ¶æ›´æ–°</p><ul><li><code>componentWillUpdate</code></li><li><code>render</code></li><li><code>componentDidUpdate</code>  &#x3D;&#x3D;&#x3D;&gt; å¸¸ç”¨  ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­é‡Œåšä¸€äº›æ”¶å°¾çš„äº‹ï¼Œä¾‹å¦‚ï¼šå…³é—­å®šæ—¶å™¨ï¼Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯</li></ul><p><strong>å¸è½½é˜¶æ®µ</strong>:<code>ReactDOM.unmountComponentAtNode()</code>è§¦å‘</p><ul><li><code>componentWillUnmount</code></li></ul><p><img src="https://brucecai55520.gitee.io/bruceblog/assets/img/react-lifecyle-old.5c4592bd.png" alt="å›¾åƒ">  </p><h3 id="ç”Ÿå‘½å‘¨æœŸæ–°ç‰ˆ"><a href="#ç”Ÿå‘½å‘¨æœŸæ–°ç‰ˆ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸæ–°ç‰ˆ"></a><strong>ç”Ÿå‘½å‘¨æœŸæ–°ç‰ˆ</strong></h3><h3 id="æ›´æ”¹å†…å®¹"><a href="#æ›´æ”¹å†…å®¹" class="headerlink" title="æ›´æ”¹å†…å®¹"></a><strong>æ›´æ”¹å†…å®¹</strong></h3><ul><li>åºŸå¼ƒä¸‰ä¸ªé’©å­ï¼š<code>componentWillMount</code>ã€<code>componentWillReceiveProps</code>ã€<code>componentWillUpdate</code>ã€‚åœ¨æ–°ç‰ˆæœ¬ä¸­è¿™ä¸‰ä¸ªé’©å­éœ€è¦åŠ <code>UNSAFE_</code>å‰ç¼€ï¼Œåç»­å¯èƒ½ä¼šåºŸå¼ƒ</li><li>æ–°å¢ä¸¤ä¸ªé’©å­ï¼ˆå®é™…åœºæ™¯ç”¨çš„å¾ˆå°‘ï¼‰ï¼š<code>getDerivedStateFromProps</code>ã€<code>getSnapshotBeforeUpdate</code></li></ul><p><img src="https://brucecai55520.gitee.io/bruceblog/assets/img/react-lifecycle-new.7009279b.png" alt="å›¾åƒ"></p><h4 id="static-getDerivedStateFromProps-props-state-ï¼š"><a href="#static-getDerivedStateFromProps-props-state-ï¼š" class="headerlink" title="static getDerivedStateFromProps(props, state)ï¼š"></a><strong>static getDerivedStateFromProps(props, state)ï¼š</strong></h4><ul><li>éœ€ä½¿ç”¨ <code>static</code> ä¿®é¥°</li><li>éœ€è¿”å›ä¸€ä¸ªå¯¹è±¡æ›´æ–° <code>state</code>æˆ–è¿”å› <code>null</code></li><li>é€‚ç”¨äºå¦‚ä¸‹æƒ…å†µï¼š<code>state</code> çš„å€¼ä»»ä½•æ—¶å€™éƒ½å–å†³äº<code>prop</code></li></ul><h4 id="getSnapshotBeforeUpdate-prevProps-prevState-ï¼š"><a href="#getSnapshotBeforeUpdate-prevProps-prevState-ï¼š" class="headerlink" title="getSnapshotBeforeUpdate(prevProps, prevState)ï¼š"></a><strong>getSnapshotBeforeUpdate(prevProps, prevState)ï¼š</strong></h4><ul><li>åœ¨ç»„ä»¶æ›´æ–°ä¹‹å‰è·å–å¿«ç…§</li><li>å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä» <code>DOM</code>ä¸­æ•è·ä¸€äº›ä¿¡æ¯ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰</li><li>è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>componentDidUpdate()</code></li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'getDerivedStateFromProps'</span><span class="token punctuation">,</span>props<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'getSnapshotBeforeUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token string">'atguigu'</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>preProps<span class="token punctuation">,</span>preState<span class="token punctuation">,</span>snapshotValue<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'componentDidUpdate'</span><span class="token punctuation">,</span>preProps<span class="token punctuation">,</span>preState<span class="token punctuation">,</span>snapshotValue<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre><h4 id="æœ€é‡è¦çš„ä¸‰ä¸ªé’©å­"><a href="#æœ€é‡è¦çš„ä¸‰ä¸ªé’©å­" class="headerlink" title="æœ€é‡è¦çš„ä¸‰ä¸ªé’©å­"></a><strong>æœ€é‡è¦çš„ä¸‰ä¸ªé’©å­</strong></h4><ul><li>render ï¼šåˆå§‹åŒ–æ¸²æŸ“å’Œæ›´æ–°æ¸²æŸ“</li><li>componentDidMount ï¼šè¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚å¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯</li><li>componentWillUnmount ï¼šè¿›è¡Œæ”¶å°¾ï¼Œå¦‚å…³é—­å®šæ—¶å™¨ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯</li></ul><h2 id="è™šæ‹Ÿ-DOM-ä¸-Diff-ç®—æ³•"><a href="#è™šæ‹Ÿ-DOM-ä¸-Diff-ç®—æ³•" class="headerlink" title="è™šæ‹Ÿ DOM ä¸ Diff ç®—æ³•"></a>è™šæ‹Ÿ DOM ä¸ Diff ç®—æ³•</h2><p><img src="https://brucecai55520.gitee.io/bruceblog/assets/img/Diff.ae9f4adc.png" alt="å›¾åƒ"></p><h2 id="keyçš„ä½œç”¨"><a href="#keyçš„ä½œç”¨" class="headerlink" title="keyçš„ä½œç”¨"></a><code>key</code><strong>çš„ä½œç”¨</strong></h2><p><code>key</code> æ˜¯è™šæ‹Ÿ DOM å¯¹è±¡çš„æ ‡è¯†ï¼Œå¯æé«˜é¡µé¢æ›´æ–°æ¸²æŸ“çš„æ•ˆç‡ã€‚</p><p>å½“çŠ¶æ€ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReact ä¼šæ ¹æ®æ–°æ•°æ®ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOM ï¼Œæ¥ç€å¯¹æ–°æ—§è™šæ‹Ÿ DOM è¿›è¡Œ Diff æ¯”è¾ƒï¼Œè§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>æ—§è™šæ‹Ÿ DOM æ‰¾åˆ°å’Œæ–°è™šæ‹Ÿ DOM ç›¸åŒçš„ keyï¼š<ul><li>è‹¥å†…å®¹æ²¡å˜ï¼Œç›´æ¥å¤ç”¨çœŸå® DOM</li><li>è‹¥å†…å®¹æ”¹å˜ï¼Œåˆ™ç”Ÿæˆæ–°çš„çœŸå® DOM ï¼Œæ›¿æ¢é¡µé¢ä¸­ä¹‹å‰çš„çœŸå® DOM</li></ul></li><li>æ—§è™šæ‹Ÿ DOM æœªæ‰¾åˆ°å’Œæ–°è™šæ‹Ÿ DOM ç›¸åŒçš„ keyï¼šæ ¹æ®æ•°æ®åˆ›å»ºæ–°çš„çœŸå® DOM ï¼Œæ¸²æŸ“åˆ°é¡µé¢</li></ul><h2 id="ä½¿ç”¨-index-ä½œä¸º-key-å¯èƒ½å¼•å‘çš„é—®é¢˜ï¼š"><a href="#ä½¿ç”¨-index-ä½œä¸º-key-å¯èƒ½å¼•å‘çš„é—®é¢˜ï¼š" class="headerlink" title="ä½¿ç”¨ index ä½œä¸º key å¯èƒ½å¼•å‘çš„é—®é¢˜ï¼š"></a><strong>ä½¿ç”¨ <code>index</code> ä½œä¸º <code>key</code> å¯èƒ½å¼•å‘çš„é—®é¢˜ï¼š</strong></h2><ul><li>è‹¥å¯¹æ•°æ®è¿›è¡Œé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºçš„æ“ä½œï¼Œä¼šè¿›è¡Œæ²¡æœ‰å¿…è¦çš„çœŸå® DOM æ›´æ–°ã€‚ç•Œé¢æ•ˆæœæ²¡é—®é¢˜ï¼Œä½†æ•ˆç‡ä½ä¸‹ã€‚</li><li>å¦‚æœç»“æ„ä¸­åŒ…å«è¾“å…¥ç±»çš„ DOMï¼ˆå¦‚ input è¾“å…¥æ¡†ï¼‰ ï¼Œåˆ™ä¼šäº§ç”Ÿé”™è¯¯çš„ DOM æ›´æ–°ã€‚</li><li>è‹¥ä¸å­˜åœ¨å¯¹æ•°æ®é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºçš„æ“ä½œï¼Œåˆ™æ²¡æœ‰é—®é¢˜ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
