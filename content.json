{"meta":{"title":"åˆ»çŒ«çŒ«çš„ç¬”è®°æœ¬","subtitle":"ç›®æ ‡æ˜¯æ˜Ÿè¾°ä¸å¤§æµ·","description":"ç”¨æ¥è®°å½•æ¯å¤©çš„å­¦ä¹ å†…å®¹","author":"AliciaChi","url":"http://engravesunny.github.io","root":"/"},"pages":[{"title":"è¿½ç•ª","date":"2022-10-09T09:27:16.573Z","updated":"2022-10-09T09:27:16.573Z","comments":true,"path":"bangumis/index.html","permalink":"http://engravesunny.github.io/bangumis/index.html","excerpt":"","text":""},{"title":"about","date":"2022-10-08T12:00:36.000Z","updated":"2022-10-08T15:14:03.377Z","comments":true,"path":"about/index.html","permalink":"http://engravesunny.github.io/about/index.html","excerpt":"","text":"åœ¨source&#x2F;aboutä¸‹å†™ç®€å†"},{"title":"friends","date":"2022-10-08T12:01:56.000Z","updated":"2022-10-08T12:02:09.027Z","comments":true,"path":"friends/index.html","permalink":"http://engravesunny.github.io/friends/index.html","excerpt":"","text":""},{"title":"categories","date":"2022-10-08T11:59:55.000Z","updated":"2022-10-09T08:29:57.952Z","comments":true,"path":"categories/index.html","permalink":"http://engravesunny.github.io/categories/index.html","excerpt":"","text":"è¿™é‡Œæ˜¯åˆ†ç±»å“¦"},{"title":"tags","date":"2022-10-08T11:58:37.000Z","updated":"2022-10-08T11:59:13.217Z","comments":true,"path":"tags/index.html","permalink":"http://engravesunny.github.io/tags/index.html","excerpt":"","text":""},{"title":"contact","date":"2022-10-08T12:01:13.000Z","updated":"2022-10-08T12:01:30.031Z","comments":true,"path":"contact/index.html","permalink":"http://engravesunny.github.io/contact/index.html","excerpt":"","text":""},{"title":"ç›¸å†Œ","date":"2022-10-08T15:30:51.679Z","updated":"2022-10-08T15:30:51.679Z","comments":true,"path":"galleries/index.html","permalink":"http://engravesunny.github.io/galleries/index.html","excerpt":"","text":""},{"title":"åŠ¨æ¼«é£æ™¯","date":"2022-10-10T14:23:26.167Z","updated":"2022-10-10T14:23:26.167Z","comments":true,"path":"galleries/åŠ¨æ¼«é£æ™¯/index.html","permalink":"http://engravesunny.github.io/galleries/%E5%8A%A8%E6%BC%AB%E9%A3%8E%E6%99%AF/index.html","excerpt":"","text":""},{"title":"æ¶©å›¾","date":"2022-10-09T08:55:57.090Z","updated":"2022-10-09T08:55:57.090Z","comments":true,"path":"galleries/æ¶©å›¾/index.html","permalink":"http://engravesunny.github.io/galleries/%E6%B6%A9%E5%9B%BE/index.html","excerpt":"","text":""},{"title":"ç¾å›¾","date":"2022-10-09T08:54:45.910Z","updated":"2022-10-08T15:37:56.994Z","comments":true,"path":"galleries/ç¾å›¾/index.html","permalink":"http://engravesunny.github.io/galleries/%E7%BE%8E%E5%9B%BE/index.html","excerpt":"","text":""}],"posts":[{"title":"å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜","slug":"å…³äºåç«¯è¿”å›å¤§æ•°å­—çš„é—®é¢˜","date":"2022-10-30T02:29:22.000Z","updated":"2022-10-29T03:01:59.476Z","comments":true,"path":"2022/10/30/guan-yu-hou-duan-fan-hui-da-shu-zi-de-wen-ti/","link":"","permalink":"http://engravesunny.github.io/2022/10/30/guan-yu-hou-duan-fan-hui-da-shu-zi-de-wen-ti/","excerpt":"","text":"å…³äºåç«¯è¿”å›çš„å¤§æ•°å­—é—®é¢˜æˆ‘ä»¬åœ¨è¯·æ±‚æ–‡ç« è¯¦æƒ…çš„æ¥å£æ—¶ä¼šè¿”å›404ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬è¯·æ±‚å‘é€çš„æ–‡ç« idä¸æ­£ç¡® javaScriptå¯ä»¥å‡†ç¡®åœ°è¡¨ç¤º2^-53åˆ°2^53ä¹‹é—´çš„æ•´æ•°ï¼ˆä¸åŒ…å«ç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´å°±æ— æ³•ç²¾ç¡®çš„è¡¨ç¤ºè¿™ä¸ªå€¼ï¼Œå› æ­¤ä½¿å¾—javaScriptä¸é€‚åˆè¿›è¡Œç§‘å­¦å’Œé‡‘èæ–¹é¢çš„ç²¾ç¡®è®¡ç®— Math.pow(2, 53) // 9007199254740992 9007199254740992 // 9007199254740992 9007199254740993 // 9007199254740992 Math.pow(2, 53) === Math.pow(2, 53) + 1 // true ES6 å¼•å…¥äº†Number.MAX_SAFE_INTEGERå’ŒNumber.MIN_SAFE_INTEGERè¿™ä¸¤ä¸ªå¸¸é‡ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªèŒƒå›´çš„ä¸Šä¸‹é™ã€‚ Number.MAX_SAFE_INTEGER === Math.pow(2, 53) - 1 // true Number.MAX_SAFE_INTEGER === 9007199254740991 // true Number.MIN_SAFE_INTEGER === -Number.MAX_SAFE_INTEGER // true Number.MIN_SAFE_INTEGER === -9007199254740991 // true ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºjavaScriptå¯ä»¥ç²¾ç¡®è¡¨ç¤ºçš„æ•´æ•°çš„æé™ åç«¯è¿”å›çš„æ•°æ®ä¸€èˆ¬éƒ½æ˜¯JSONæ ¼å¼çš„å­—ç¬¦ä¸² '&amp;#123; \"id\": 9007199254740995, \"name\": \"Jack\", \"age\": 18 &amp;#125;' å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸åšä»»ä½•å¤„ç†ï¼Œä½ èƒ½æ–¹ä¾¿çš„è·å–åˆ°å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šæ•°æ®å—ï¼Ÿéå¸¸éº»çƒ¦ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æŠŠå®ƒè½¬æ¢ä¸º JavaScript å¯¹è±¡æ¥ä½¿ç”¨å°±å¾ˆæ–¹ä¾¿äº†ã€‚ å¹¸è¿çš„æ˜¯ axios ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨æ•°æ®ï¼Œå®ƒä¼šåœ¨å†…éƒ¨ä½¿ç”¨ JSON.parse() æŠŠåç«¯è¿”å›çš„æ•°æ®è½¬ä¸º JavaScript å¯¹è±¡ã€‚ // &amp;#123; id: 9007199254740996, name: 'Jack', age: 18 &amp;#125; JSON.parse('&amp;#123; \"id\": 9007199254740995, \"name\": \"Jack\", \"age\": 18 &amp;#125;') å¯ä»¥çœ‹åˆ°ï¼Œè¶…å‡ºå®‰å…¨æ•´æ•°èŒƒå›´çš„ id æ— æ³•ç²¾ç¡®è¡¨ç¤ºï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯ axios çš„é”™ã€‚ äº†è§£äº†ä»€ä¹ˆæ˜¯å¤§æ•´æ•°çš„æ¦‚å¿µï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯å¦‚ä½•è§£å†³ï¼Ÿ json-bigint æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬å¾ˆå¥½çš„å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ ä½¿ç”¨å®ƒçš„ç¬¬ä¸€æ­¥å°±æ˜¯æŠŠå®ƒå®‰è£…åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚ npm i json-bigint ä¸‹é¢æ˜¯ä½¿ç”¨å®ƒçš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚ const jsonStr = '&amp;#123; \"art_id\": 1245953273786007552&amp;#125;' console.log(JSON.parse(jsonStr)) // 1245953273786007600 // JSON.stringify() // JSONBig å¯ä»¥å¤„æ•°æ®ä¸­è¶…è¿‡ JavaScript å®‰å…¨æ•´æ•°èŒƒå›´çš„é—®é¢˜ console.log(JSONBig.parse(jsonStr)) // æŠŠ JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬ä¸º JavaScript å¯¹è±¡ // ä½¿ç”¨çš„æ—¶å€™éœ€è¦æŠŠ BigNumber ç±»å‹çš„æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨ console.log(JSONBig.parse(jsonStr).art_id.toString()) // 1245953273786007552 console.log(JSON.stringify(JSONBig.parse(jsonStr))) console.log(JSONBig.stringify(JSONBig.parse(jsonStr))) // æŠŠ JavaScript å¯¹è±¡ è½¬ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬ json-bigint ä¼šæŠŠè¶…å‡º JS å®‰å…¨æ•´æ•°èŒƒå›´çš„æ•°å­—è½¬ä¸ºä¸€ä¸ª BigNumber ç±»å‹çš„å¯¹è±¡ï¼Œå¯¹è±¡æ•°æ®æ˜¯å®ƒå†…éƒ¨çš„ä¸€ä¸ªç®—æ³•å¤„ç†ä¹‹åçš„ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™è½¬ä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨ã€‚ é€šè¿‡ Axios è¯·æ±‚å¾—åˆ°çš„æ•°æ®éƒ½æ˜¯ Axios å¤„ç†ï¼ˆJSON.parseï¼‰ä¹‹åçš„ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ Axios æ‰§è¡Œå¤„ç†ä¹‹å‰æ‰‹åŠ¨ä½¿ç”¨ json-bigint æ¥è§£æå¤„ç†ã€‚Axios æä¾›äº†è‡ªå®šä¹‰å¤„ç†åŸå§‹åç«¯è¿”å›æ•°æ®çš„ APIï¼štransformResponse ã€‚ import axios from 'axios' import jsonBig from 'json-bigint' var json = '&amp;#123; \"value\" : 9223372036854775807, \"v2\": 123 &amp;#125;' console.log(jsonBig.parse(json)) const request = axios.create(&amp;#123; baseURL: 'http://ttapi.research.itcast.cn/', // æ¥å£åŸºç¡€è·¯å¾„ // transformResponse å…è®¸è‡ªå®šä¹‰åŸå§‹çš„å“åº”æ•°æ®ï¼ˆå­—ç¬¦ä¸²ï¼‰ transformResponse: [function (data) &amp;#123; try &amp;#123; // å¦‚æœè½¬æ¢æˆåŠŸåˆ™è¿”å›è½¬æ¢çš„æ•°æ®ç»“æœ return jsonBig.parse(data) &amp;#125; catch (err) &amp;#123; // å¦‚æœè½¬æ¢å¤±è´¥ï¼Œåˆ™åŒ…è£…ä¸ºç»Ÿä¸€æ•°æ®æ ¼å¼å¹¶è¿”å› return &amp;#123; data &amp;#125; &amp;#125; &amp;#125;] &amp;#125;) export default request æ‰©å±•ï¼šES2020 BigIntES2020 å¼•å…¥äº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼ˆå¤§æ•´æ•°ï¼‰ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚BigInt åªç”¨æ¥è¡¨ç¤ºæ•´æ•°ï¼Œæ²¡æœ‰ä½æ•°çš„é™åˆ¶ï¼Œä»»ä½•ä½æ•°çš„æ•´æ•°éƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚å‚è€ƒé“¾æ¥ï¼š https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects&#x2F;BigInt http://es6.ruanyifeng.com/#docs/number#BigInt-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"åç«¯çš„å¤§æ•°å­—","slug":"åç«¯çš„å¤§æ•°å­—","permalink":"http://engravesunny.github.io/tags/%E5%90%8E%E7%AB%AF%E7%9A%84%E5%A4%A7%E6%95%B0%E5%AD%97/"}]},{"title":"æœç´¢ç»†èŠ‚é—®é¢˜","slug":"å…³äºæœç´¢æ—¶çš„ä¸€äº›ç»†èŠ‚","date":"2022-10-28T03:20:30.000Z","updated":"2022-10-28T02:57:30.653Z","comments":true,"path":"2022/10/28/guan-yu-sou-suo-shi-de-yi-xie-xi-jie/","link":"","permalink":"http://engravesunny.github.io/2022/10/28/guan-yu-sou-suo-shi-de-yi-xie-xi-jie/","excerpt":"","text":"é˜²æŠ–ä¼˜åŒ–é˜²æŠ–ï¼šé˜²æ­¢ç”¨æˆ·åœ¨è¾“å…¥å…³é”®è¯æ˜¯inputçš„changeäº‹ä»¶ä¸æ–­è§¦å‘ï¼Œå¯¼è‡´è¿‡å¤šä¸å¿…è¦çš„è¯·æ±‚ è§£å†³æ–¹æ¡ˆï¼š1ã€åŠ å®šæ—¶å™¨ 2ã€ä½¿ç”¨æ’ä»¶ æˆ‘ä»¬è¿™é‡Œä½¿ç”¨lodashæ’ä»¶ 1ã€å®‰è£…lodash # yarn add lodash npm i lodash 2ã€é˜²æŠ–å¤„ç† // lodash æ”¯æŒæŒ‰éœ€åŠ è½½ï¼Œæœ‰åˆ©äºæ‰“åŒ…ç»“æœä¼˜åŒ– import &amp;#123; debounce &amp;#125; from 'lodash' ä¸å»ºè®®ä¸‹é¢è¿™æ ·å®ç”¨ï¼Œå› ä¸ºè¿™æ ·ä¼šåŠ è½½æ•´ä¸ªæ¨¡å— import _ from 'lodash' _.debounce() // debounceå‡½æ•° // å‚æ•°1ï¼šå‡½æ•° // å‚æ•°2ï¼šé˜²æŠ–æ—¶é—´ // è¿”å›å€¼ï¼šé˜²æŠ–ä¹‹åçš„å‡½æ•°ï¼Œå’Œå‚æ•°1åŠŸèƒ½æ˜¯ä¸€æ ·çš„ onSearchInput:debounce(async ()=>&amp;#123; const searchContent = this.searchContent if(!searchContent) &amp;#123; return &amp;#125; // 1. è¯·æ±‚è·å–æ•°æ® const &amp;#123; data &amp;#125; = await getSuggestions(searchContent) // 2. å°†æ•°æ®æ·»åŠ åˆ°ç»„ä»¶å®ä¾‹ä¸­ this.suggestions = data.data.options // 3. æ¨¡æ¿ç»‘å®š &amp;#125;, 200) æœç´¢å…³é”®å­—é«˜äº®å¦‚ä½•å°†å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šå­—ç¬¦åœ¨ç½‘é¡µä¸­é«˜äº®å±•ç¤ºï¼Ÿå°†éœ€è¦é«˜äº®çš„å­—ç¬¦åŒ…è£¹ HTML æ ‡ç­¾ï¼Œä¸ºå…¶å•ç‹¬è®¾ç½®é¢œè‰²ã€‚ \"Hello &lt;span style=\"color: red\">World&lt;/span>\" åœ¨ Vue ä¸­å¦‚ä½•æ¸²æŸ“å¸¦æœ‰ HTML æ ‡ç­¾çš„å­—ç¬¦ä¸²ï¼Ÿ data () &amp;#123; return &amp;#123; htmlStr: 'Hello &lt;span style=\"color: red\">World&lt;/span>' &amp;#125; &amp;#125; &lt;div>&amp;#123;&amp;#123; htmlStr &amp;#125;&amp;#125;&lt;/div> &lt;div v-html=\"htmlStr\">&lt;/div> å¦‚ä½•æŠŠå­—ç¬¦ä¸²ä¸­æŒ‡å®šå­—ç¬¦ç»Ÿä¸€æ›¿æ¢ä¸ºé«˜äº®ï¼ˆåŒ…è£¹äº† HTMLï¼‰çš„å­—ç¬¦ï¼Ÿ const str = \"Hello World\" // ç»“æœï¼š&lt;span style=\"color: red\">Hello&lt;/span> World \"Hello World\".replace('Hello','&lt;span style=\"color: red\">Hello&lt;/span>') //å¦‚æœæƒ³å…¨æ–‡æ›¿æ¢ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ // g å…¨å±€ // i å¿½ç•¥å¤§å°å†™ // &lt;span style=\"color: red\">Hello&lt;/span> World &lt;span style=\"color: red\">Hello&lt;/span> abc \"Hello World Hello abc\".replace(/Hello/gi, '&lt;span style=\"color: red\">Hello&lt;/span>') ä¸€ä¸ªå°æ‰©å±•ï¼šä½¿ç”¨å­—ç¬¦ä¸²çš„ split ç»“åˆæ•°ç»„çš„ join æ–¹æ³•å®ç°é«˜äº® var str = \"hello world ä½ å¥½ hello\"; // [\"\", \" world ä½ å¥½ \", \"\"] const arr = str.split(\"hello\"); // \"&lt;span>hello&lt;/span> world ä½ å¥½ &lt;span>hello&lt;/span>\" arr.join(\"&lt;span>hello&lt;/span>\"); ä¸‹é¢æ˜¯å…·ä½“çš„å¤„ç†ã€‚ 1ã€åœ¨methodä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•å¤„ç†é«˜äº® // å‚æ•° sourceï¼šåŸå§‹å­—ç¬¦ä¸² // å‚æ•° keyword: éœ€è¦é«˜äº®çš„å…³é”®å­— // è¿”å›å€¼ï¼šæ›¿æ¢ä¹‹åçš„é«˜äº®å­—ç¬¦ä¸² highlight (source, keyword) &amp;#123; // /searchContent/ æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ä¸€åˆ‡å†…å®¹éƒ½ä¼šå½“åšå­—ç¬¦ä¸²ä½¿ç”¨ // è¿™é‡Œå¯ä»¥ new RegExp æ–¹å¼æ ¹æ®å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ // RegExp æ˜¯åŸç”Ÿ JavaScript çš„å†…ç½®æ„é€ å‡½æ•° // å‚æ•°1ï¼šå­—ç¬¦ä¸²ï¼Œæ³¨æ„ï¼Œè¿™é‡Œä¸è¦åŠ  // // å‚æ•°2ï¼šåŒ¹é…æ¨¡å¼ï¼Œg å…¨å±€ï¼Œi å¿½ç•¥å¤§å°å†™ const reg = new RegExp(keyword, 'gi') return source.replace(reg, `&lt;span style=\"color: #3296fa\">$&amp;#123;keyword&amp;#125;&lt;/span>`) &amp;#125;, 2ã€ç„¶ååœ¨è”æƒ³å»ºè®®åˆ—è¡¨é¡¹ä¸­ç»‘å®šè°ƒç”¨ &lt;!-- è”æƒ³å»ºè®® --> &lt;van-cell-group v-else-if=\"searchContent\"> &lt;van-cell icon=\"search\" v-for=\"(item, index) in suggestions\" :key=\"index\" @click=\"onSearch(item)\" > &lt;div slot=\"title\" v-html=\"highlight(item, searchContent)\">&lt;/div> &lt;/van-cell> &lt;/van-cell-group> &lt;!-- /è”æƒ³å»ºè®® --> æ•°æ®æŒä¹…åŒ–1ã€åˆ©ç”¨ watch ç›‘è§†ç»Ÿä¸€å­˜å‚¨æ•°æ® watch: &amp;#123; searchHistories (val) &amp;#123; // åŒæ­¥åˆ°æœ¬åœ°å­˜å‚¨ setItem('serach-histories', val) &amp;#125; &amp;#125;, 2ã€åˆå§‹åŒ–çš„æ—¶å€™ä»æœ¬åœ°å­˜å‚¨è·å–æ•°æ® data () &amp;#123; return &amp;#123; ... searchHistories: getItem('serach-histories') || [], &amp;#125; &amp;#125;","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"search","slug":"search","permalink":"http://engravesunny.github.io/tags/search/"}]},{"title":"å¤„ç†ç›¸å¯¹æ—¶é—´","slug":"å¤„ç†ç›¸å¯¹æ—¶é—´","date":"2022-10-28T02:37:10.000Z","updated":"2022-10-28T02:30:32.166Z","comments":true,"path":"2022/10/28/chu-li-xiang-dui-shi-jian/","link":"","permalink":"http://engravesunny.github.io/2022/10/28/chu-li-xiang-dui-shi-jian/","excerpt":"","text":"å¤„ç†ç›¸å¯¹æ—¶é—´æ¨èä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“ï¼š Moment.js Day.js ä¸¤è€…éƒ½æ˜¯ä¸“é—¨ç”¨äºå¤„ç†æ—¶é—´çš„ JavaScript åº“ï¼ŒåŠŸèƒ½å·®ä¸å¤šï¼Œå› ä¸º Day.js çš„è®¾è®¡å°±æ˜¯å‚è€ƒçš„ Moment.jsã€‚ä½†æ˜¯ Day.js ç›¸æ¯” Moment.js çš„åŒ…ä½“ç§¯è¦æ›´å°ä¸€äº›ï¼Œå› ä¸ºå®ƒé‡‡ç”¨äº†æ’ä»¶åŒ–çš„å¤„ç†æ–¹å¼ã€‚ Day.js æ˜¯ä¸€ä¸ªè½»é‡çš„å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„ JavaScript åº“ï¼Œå’Œ Moment.js çš„ API è®¾è®¡ä¿æŒå®Œå…¨ä¸€æ ·ï¼Œå¦‚æœæ‚¨æ›¾ç»ç”¨è¿‡ Moment.js, é‚£ä¹ˆæ‚¨å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨ Day.js ã€‚ Day.jså¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨å’ŒNode.jsä¸­ã€‚ ğŸ•’å’ŒMoment.jsç›¸åŒçš„APIå’Œç”¨æ³• ğŸ’ª ä¸å¯å˜æ•°æ®(Immutable) ğŸ”¥æ”¯æŒé“¾å¼æ“ä½œ(Chainable) ğŸŒå›½é™…åŒ– ğŸ“¦ ä»…ä»…2kbå¤§å°çš„å¾®åº“ ğŸ‘«å…¨æµè§ˆå™¨å…¼å®¹ 1ã€å®‰è£… npm i dayjs 2ã€åˆ›å»º utils/dayjs.js import Vue from 'vue' import daujs from 'dayjs' // åŠ è½½ä¸­æ–‡è¯­è¨€åŒ… import 'dayjs/local/zh-cn' import relativeTime from 'dayjs/plugin/relativeTime' // é…ç½®ä½¿ç”¨å¤„ç†ç›¸å¯¹æ—¶é—´çš„æ’ä»¶ dayjs.extend(relativeTime) // é…ç½®ä½¿ç”¨ä¸­æ–‡è¯­è¨€åŒ… dayjs.local('zh-cn') // å…¨å±€æ³¨å†Œè¿‡æ»¤å™¨ Vue:filter('relativeTime', value => &amp;#123; return dayjs().to(dayjs(value)) &amp;#125;) 3ã€åœ¨main.jsä¸­åŠ è½½åˆå§‹åŒ– import './utils/dayjs' 4ã€ä½¿ç”¨è¿‡æ»¤å™¨ &lt;p>&amp;#123;&amp;#123; æ—¥æœŸæ•°æ® | relativeTime &amp;#125;&amp;#125;&lt;/p>","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"day.js","slug":"day-js","permalink":"http://engravesunny.github.io/tags/day-js/"}]},{"title":"å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡403çš„é—®é¢˜","slug":"å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡èµ„æº403çš„é—®é¢˜","date":"2022-10-28T02:05:11.000Z","updated":"2022-10-28T02:18:29.507Z","comments":true,"path":"2022/10/28/guan-yu-di-san-fang-tu-pian-zi-yuan-403-de-wen-ti/","link":"","permalink":"http://engravesunny.github.io/2022/10/28/guan-yu-di-san-fang-tu-pian-zi-yuan-403-de-wen-ti/","excerpt":"","text":"å…³äºç¬¬ä¸‰æ–¹å›¾ç‰‡èµ„æº403é—®é¢˜ä¸ºä»€ä¹ˆæ–‡ç« åˆ—è¡¨æ•°æ®ä¸­çš„å¥½å¤šå›¾ç‰‡èµ„æºè¯·æ±‚å¤±è´¥è¿”å› 403ï¼Ÿ è¿™æ˜¯å› ä¸ºæˆ‘ä»¬é¡¹ç›®çš„æ¥å£æ•°æ®æ˜¯åç«¯é€šè¿‡çˆ¬è™«æŠ“å–çš„ç¬¬ä¸‰æ–¹å¹³å°å†…å®¹ï¼Œè€Œç¬¬ä¸‰æ–¹å¹³å°å¯¹å›¾ç‰‡èµ„æºåšäº†é˜²ç›—é“¾å¤„ç† ç¬¬ä¸‰æ–¹å¹³å°æ€ä¹ˆå¤„ç†å›¾ç‰‡çš„èµ„æºä¿æŠ¤çš„ï¼Ÿ æœåŠ¡ç«¯ä¸€èˆ¬ä½¿ç”¨Referer è¯·æ±‚å¤´è¯†åˆ«è®¿é—®æ¥æºï¼Œç„¶åå¤„ç†èµ„æºè®¿é—® Referer æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ æ‰©å±•å‚è€ƒ:http://www.ruanyifeng.com/blog/2019/06/http-referer.html Referer æ˜¯ HTTP è¯·æ±‚å¤´çš„ä¸€éƒ¨åˆ†ï¼Œå½“æµè§ˆå™¨å‘ Web æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸Š Refererï¼Œå®ƒåŒ…å«äº†å½“å‰è¯·æ±‚èµ„æºçš„æ¥æºé¡µé¢çš„åœ°å€ã€‚æœåŠ¡ç«¯ä¸€èˆ¬ä½¿ç”¨ Referer è¯·æ±‚å¤´è¯†åˆ«è®¿é—®æ¥æºï¼Œå¯èƒ½ä¼šä»¥æ­¤è¿›è¡Œç»Ÿè®¡åˆ†æã€æ—¥å¿—è®°å½•ä»¥åŠç¼“å­˜ä¼˜åŒ–ç­‰ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯refererå®é™…ä¸Šæ˜¯â€™referrerâ€™è¯¯æ‹¼å†™ã€‚å‚è§HTTP referer on Wikipedia ï¼ˆHTTP referer åœ¨ç»´åŸºç™¾ç§‘ä¸Šçš„æ¡ç›®ï¼‰æ¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ æ€ä¹ˆè§£å†³ï¼Ÿ ä¸è¦å‘é€Referrerï¼Œå¯¹æ–¹æœåŠ¡ç«¯å°±ä¸çŸ¥é“ç¬”ä»å“ªé‡Œæ¥äº†ï¼Œå§‘ä¸”è®¤ä¸ºæ˜¯è‡ªå·±äºº å¦‚ä½•è®¾ç½®ä¸å‘é€referrerï¼Ÿ ç”¨ &lt;a&gt;ã€&lt;area&gt;ã€&lt;img&gt;ã€&lt;iframe&gt;ã€&lt;script&gt; æˆ–è€… &lt;link&gt; å…ƒç´ ä¸Šçš„ referrerpolicy å±æ€§ä¸ºå…¶è®¾ç½®ç‹¬ç«‹çš„è¯·æ±‚ç­–ç•¥ï¼Œä¾‹å¦‚ï¼š &lt;img src=\"http://â€¦â€¦\" referrerPolicy=\"no-referrer\"> æˆ–è€…ç›´æ¥åœ¨ HTMl é¡µé¢å¤´ä¸­é€šè¿‡ meta å±æ€§å…¨å±€é…ç½®ï¼š &lt;meta name=\"referrer\" content=\"no-referrer\" />","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"ç¬¬ä¸‰æ–¹å›¾ç‰‡","slug":"ç¬¬ä¸‰æ–¹å›¾ç‰‡","permalink":"http://engravesunny.github.io/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BE%E7%89%87/"}]},{"title":"ä¼˜åŒ–è®¾ç½®Token","slug":"ä¼˜åŒ–è®¾ç½®Token","date":"2022-10-27T02:49:33.000Z","updated":"2022-10-27T02:55:14.728Z","comments":true,"path":"2022/10/27/you-hua-she-zhi-token/","link":"","permalink":"http://engravesunny.github.io/2022/10/27/you-hua-she-zhi-token/","excerpt":"","text":"ä¼˜åŒ–è®¾ç½®Tokené¡¹ç›®ä¸­çš„æ¥å£å¤§éƒ¨åˆ†éœ€è¦æˆ‘ä»¬æä¾›tokenæ‰æœ‰è®¿é—®æƒé™é€šè¿‡æ¥å£æ–‡æ¡£æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåç«¯æ¥å£è¦æ±‚æˆ‘ä»¬å°†tokenæ”¾åˆ°è¯·æ±‚å¤´headerä¸­å¹¶ä»¥ä¸‹é¢çš„æ ¼å¼å‘é€ å­—æ®µåç§°: Authorizationå­—æ®µå€¼: Bearer token æ–¹å¼ä¸€: åœ¨æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™æ‰‹åŠ¨æ·»åŠ (éº»çƒ¦)ã€‚ axios(&amp;#123; method: '', url: '', header: &amp;#123; Authorization: 'Bearer token' &amp;#125; &amp;#125;) æ–¹å¼äºŒï¼šä½¿ç”¨è¯·æ±‚æ‹¦æˆªå™¨ç»Ÿä¸€æ·»åŠ (æ¨èï¼Œæ›´æ–¹ä¾¿) åœ¨ src/utils/request.js ä¸­æ·»åŠ æ‹¦æˆªå™¨ç»Ÿä¸€è®¾ç½® tokenï¼š /** * è¯·æ±‚æ¨¡å— */ import axios from 'axios' import store from '@/store' const request = axios.create(&amp;#123; baseURL: 'http://toutiao.itheima.net' // æ¥å£çš„åŸºå‡†åœ°å€ &amp;#125;) // è¯·æ±‚æ‹¦æˆªå™¨ request.interceptors.request.use(config => &amp;#123; // config: æœ¬æ¬¡è¯·æ±‚çš„é…ç½®å¯¹è±¡ // config é‡Œé¢æœ‰ä¸€ä¸ªå±æ€§ï¼šheader const &amp;#123; user &amp;#125; = store.state if(user &amp;&amp; user.token) &amp;#123; config.header.Authorization = `Bearer $&amp;#123;user.token&amp;#125;` &amp;#125; return config &amp;#125;, error => &amp;#123; return Promise.reject(error) &amp;#125;) //å“åº”æ‹¦æˆªå™¨ export default request","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"token","slug":"token","permalink":"http://engravesunny.github.io/tags/token/"}]},{"title":"å…³äº.postcssrc.jsé…ç½®æ–‡ä»¶","slug":"å…³äº.postcssrc.jsé…ç½®æ–‡ä»¶","date":"2022-10-27T01:52:23.000Z","updated":"2022-10-27T02:32:14.191Z","comments":true,"path":"2022/10/27/guan-yu.postcssrc.js-pei-zhi-wen-jian/","link":"","permalink":"http://engravesunny.github.io/2022/10/27/guan-yu.postcssrc.js-pei-zhi-wen-jian/","excerpt":"","text":"å…³äº.postcssrc.jsé…ç½®æ–‡ä»¶module.exports = &amp;#123; plugin: &amp;#123; 'autoprefixer': &amp;#123; browsers: ['Android >= 4.0', 'iOS >= 8'] &amp;#125;, 'postcss-pxtorem': &amp;#123; rootValue: 37.5, propList: ['*'] &amp;#125; &amp;#125; &amp;#125; .postcssrc.jsæ˜¯ PostCSS çš„é…ç½®æ–‡ä»¶ã€‚ ï¼ˆ1ï¼‰PostCSS ä»‹ç» PostCSS æ˜¯ä¸€ä¸ªå¤„ç† CSS çš„å¤„ç†å·¥å…·ï¼Œæœ¬èº«åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œå®ƒä¸»è¦è´Ÿè´£è§£æ CSS ä»£ç ï¼Œå†äº¤ç”±æ’ä»¶æ¥è¿›è¡Œå¤„ç†ï¼Œå®ƒçš„æ’ä»¶ä½“ç³»éå¸¸å¼ºå¤§ï¼Œæ‰€èƒ½è¿›è¡Œçš„æ“ä½œæ˜¯å¤šç§å¤šæ ·çš„ï¼Œä¾‹å¦‚ï¼š Autoprefixer æ’ä»¶å¯ä»¥å®ç°è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨ç›¸å…³çš„å£°æ˜å‰ç¼€ PostCSS Preset Env æ’ä»¶å¯ä»¥è®©ä½ ä½¿ç”¨æ›´æ–°çš„CSSè¯­æ³•ç‰¹æ€§å¹¶å®ç°å‘ä¸‹å…¼å®¹ postcss-pxtorem å¯ä»¥å®ç°å°† px è½¬æ¢ä¸º rem â€¦ ç›®å‰ PostCSS å·²ç»æœ‰ 200 å¤šä¸ªåŠŸèƒ½å„å¼‚çš„æ’ä»¶ã€‚å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥æ ¹æ®é¡¹ç›®çš„éœ€è¦ï¼Œå¼€å‘å‡ºè‡ªå·±çš„ PostCSS æ’ä»¶ã€‚ PostCSS ä¸€èˆ¬ä¸å•ç‹¬ä½¿ç”¨ï¼Œè€Œæ˜¯ä¸å·²æœ‰çš„æ„å»ºå·¥å…·è¿›è¡Œé›†æˆã€‚ Vue CLI é»˜è®¤é›†æˆäº† PostCSSï¼Œå¹¶ä¸”é»˜è®¤å¼€å¯äº† autoprefixer æ’ä»¶ã€‚ Vue CLIå†…éƒ¨ä½¿ç”¨äº†PostCSSã€‚ä½ å¯ä»¥é€šè¿‡.postcssrcæˆ–ä»»ä½• postcss-load-configæ”¯æŒçš„é…ç½®èµ„æºæ¥é…ç½®PostCSSä¹Ÿå¯ä»¥é€šè¿‡vue.config.jsä¸­çš„css.loaderOptions.postcssé…ç½® postcss-loaderã€‚æˆ‘ä»¬é»˜è®¤å¼€å¯äº†autoprefixerã€‚å¦‚æœè¦é…ç½®ç›®æ ‡æµè§ˆå™¨ï¼Œå¯ä½¿ç”¨ package.json çš„ browserslist å­—æ®µã€‚ ï¼ˆ2ï¼‰Autoprefixer æ’ä»¶çš„é…ç½® autoprefixeræ˜¯ä¸€ä¸ªè‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€çš„ PostCss æ’ä»¶ï¼Œbrowsers ç”¨æ¥é…ç½®å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ï¼Œä½†æ˜¯å†™åœ¨è¿™é‡Œçš„è¯ä¼šå¼•èµ·ç¼–è¯‘å™¨è­¦å‘Šã€‚ Replace Autoprefixer browsers option to Browserslist config. Use browserslist key in package.json or .browserslistrc file. Using browsers option can cause errors. Browserslist config can be used for Babel, Autoprefixer, postcss-normalize and other tools. If you really need to use option, rename it to overrideBrowserslist. Learn more at: https://github.com/browserslist/browserslist#readme https://twitter.com/browserslist è­¦å‘Šæ„æ€å°±æ˜¯è¯´ä½ åº”è¯¥å°† browsers é€‰é¡¹å†™åˆ° package.json æˆ– .browserlistrc æ–‡ä»¶ä¸­ã€‚ [Android] >= 4.0 [iOS] >= 8 å…·ä½“è¯­æ³•è¯·å‚è€ƒè¿™é‡Œã€‚ï¼ˆ3ï¼‰postcss-pxtorem æ’ä»¶çš„é…ç½® rootValue: è¡¨ç¤ºæ ¹å…ƒç´ å­—ä½“å¤§å°ï¼Œå®ƒä¼šæ ¹æ®å…ƒç´ å¤§å°è¿›è¡Œå•ä½è½¬æ¢ propList: ç”¨æ¥è®¾å®šå¯ä»¥ä»pxè½¬ä¸ºremçš„å±æ€§ ä¾‹å¦‚*å°±æ˜¯æ‰€æœ‰çš„å±æ€§éƒ½è¦è½¬æ¢ï¼Œwidthå°±æ˜¯ä»…ä»…è½¬æ¢widthå±æ€§ rootValue åº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ å¦‚æœä½ ä½¿ç”¨çš„æ˜¯åŸºäº lib-flexable çš„ REM é€‚é…æ–¹æ¡ˆï¼Œåˆ™åº”è¯¥è®¾ç½®ä¸ºä½ çš„è®¾è®¡ç¨¿çš„ååˆ†ä¹‹ä¸€ã€‚ ä¾‹å¦‚è®¾è®¡ç¨¿æ˜¯ 750 å®½ï¼Œåˆ™åº”è¯¥è®¾ç½®ä¸º 75ã€‚ å¤§å¤šæ•°è®¾è®¡ç¨¿çš„åŸå‹éƒ½æ˜¯ä»¥ iphone6 ä¸ºåŸå‹ï¼Œiphone6 è®¾å¤‡çš„å®½æ˜¯ 750ï¼Œæˆ‘ä»¬çš„è®¾è®¡ç¨¿ä¹Ÿæ˜¯è¿™æ ·ã€‚ ä½†æ˜¯ Vant å»ºè®®è®¾ç½®ä¸º 37.5ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å› ä¸º Vant æ˜¯åŸºäº 375 å†™çš„ï¼Œæ‰€ä»¥å¦‚æœä½ è®¾ç½®ä¸º 75 çš„è¯ï¼ŒVant çš„æ ·å¼å°±å°äº†ä¸€åŠã€‚ æ‰€ä»¥å¦‚æœè®¾ç½®ä¸º37.5çš„è¯ï¼ŒVant çš„æ ·å¼æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æµ‹é‡è®¾è®¡ç¨¿çš„æ—¶å€™éƒ½å¿…é¡»é™¤2æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™å°±ä¼šå˜å¾—å¾ˆå¤§ã€‚ è¿™æ ·åšå…¶å®ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•å‘¢ï¼Ÿæˆ‘å°±æƒ³å®ç°æµ‹é‡å¤šå°‘å†™å¤šå°‘ï¼ˆä¸ç”¨æ¢ç®—ï¼‰ã€‚äºæ˜¯èªæ˜çš„ä½ å°±æƒ³ï¼Œå¯ä»¥ä¸å¯ä»¥è¿™æ ·æ¥åšï¼Ÿ å¦‚æœæ˜¯ Vant çš„æ ·å¼ï¼Œå°±æŠŠ rootValue è®¾ç½®ä¸º 37.5 æ¥è½¬æ¢ å¦‚æœæ˜¯æˆ‘ä»¬çš„æ ·å¼ï¼Œå°±æŒ‰ç…§ 75 çš„ rootValue æ¥è½¬æ¢ é€šè¿‡æŸ¥é˜…æ–‡æ¡£æˆ‘ä»¬å¯ä»¥çœ‹åˆ° rootValue æ”¯æŒä¸¤ç§å‚æ•°ç±»å‹ï¼š æ•°å­—ï¼šå›ºå®šå€¼ å‡½æ•°ï¼šåŠ¨æ€è®¡ç®—è¿”å› postcss-pxtoremå¤„ç†æ¯ä¸ª CSS æ–‡ä»¶çš„æ—¶å€™éƒ½ä¼šæ¥è°ƒç”¨è¿™ä¸ªå‡½æ•° å®ƒä¼šæŠŠè¢«å¤„ç†çš„ CSS æ–‡ä»¶ç›¸å…³çš„ä¿¡æ¯é€šè¿‡å‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•° æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹é…ç½®å¦‚ä¸‹: /** * PostCSSé…ç½®æ–‡ä»¶ */ module.exports - &amp;#123; // é…ç½®è¦æ˜¯ç”¨çš„PostCSSæ’ä»¶ plugins: &amp;#123; // é…ç½®ä½¿ç”¨ postcss-pxtorem æ’ä»¶ // ä½œç”¨ï¼šæŠŠpx è½¬ä¸º rem 'postcss-pxtorem': &amp;#123; rootValue (&amp;#123; file &amp;#125;) &amp;#123; return file.indexOf('vant') !== -1 ? 37.5 : 75 &amp;#125;, propList: ['*'] &amp;#125; &amp;#125; &amp;#125; é…ç½®å®Œæ¯•ï¼ŒæŠŠæœåŠ¡é‡å¯ä¸€ä¸‹ï¼Œæœ€åæµ‹è¯•ï¼Œvery goodã€‚","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"postcssrcæ’ä»¶","slug":"postcssrcæ’ä»¶","permalink":"http://engravesunny.github.io/tags/postcssrc%E6%8F%92%E4%BB%B6/"}]},{"title":"å…³äºç”¨æˆ·tokençš„å¤„ç†","slug":"å…³äºç”¨æˆ·tokençš„å¤„ç†","date":"2022-10-26T02:02:33.000Z","updated":"2022-10-27T02:27:16.965Z","comments":true,"path":"2022/10/26/guan-yu-yong-hu-token-de-chu-li/","link":"","permalink":"http://engravesunny.github.io/2022/10/26/guan-yu-yong-hu-token-de-chu-li/","excerpt":"","text":"å¤„ç†ç”¨æˆ· TokenTokenæ˜¯ç”¨æˆ·ç™»å½•æˆåŠŸåæœåŠ¡ç«¯è¿”å›çš„ä¸€ä¸ªèº«ä»½ä»¤ç‰Œï¼Œåœ¨é¡¹ç›®ä¸­çš„å¤šä¸ªä¸šåŠ¡ä¸­éœ€è¦ä½¿ç”¨åˆ°: è®¿é—®éœ€è¦æˆæƒçš„API æ ¡éªŒé¡µé¢çš„è®¿é—®æƒé™ â€¦ ä½†æ˜¯æˆ‘ä»¬åªæœ‰åœ¨ç¬¬ä¸€æ¬¡ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åæ‰èƒ½æ‹¿åˆ°Tokenã€‚æ‰€ä»¥ä¸ºäº†èƒ½åœ¨å…¶å®ƒæ¨¡å—ä¸­è·å–åˆ°Tokenæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒå­˜å‚¨åˆ°ä¸€ä¸ªå…¬å…±çš„ä½ç½®ï¼Œæ–¹ä¾¿éšæ—¶å–ç”¨ã€‚å¾€å“ªå„¿å­˜ï¼Ÿ æœ¬åœ°å‚¨å­˜ è·å–éº»çƒ¦ æ•°æ®ä¸æ˜¯å“åº”å¼ Vuexå®¹å™¨ï¼ˆæ¨èï¼‰ è·å–æ–¹ä¾¿ å“åº”å¼çš„ ä½¿ç”¨å®¹å™¨å­˜å‚¨Tokençš„æ€è·¯ï¼š ç™»å½•æˆåŠŸåï¼Œå°†Tokenå­˜å‚¨åˆ°Vuexå®¹å™¨ä¸­ è·å–æ–¹ä¾¿ å“åº”å¼ ä¸ºäº†æŒä¹…åŒ–ï¼Œè¿˜éœ€è¦æŠŠTokenå­˜åˆ°æœ¬åœ°å‚¨å­˜ æŒä¹…åŒ– ä¸‹é¢æ˜¯å…·ä½“å®ç° 1ã€åœ¨src/store/index.jsä¸­ import Vue from 'vue' import Vuex from 'vuex' Vue.use(Vuex) export default new Vuex.Store(&amp;#123; state:&amp;#123; // ç”¨æˆ·ç™»å½•çš„çŠ¶æ€ä¿¡æ¯ user: JSON.parse(window.localStorage.getItem(\"TOUTIAO_USER\")) // user: null &amp;#125;, mutations: &amp;#123; setUser (state, user) &amp;#123; state.user = user window.localStorage.setItem('TOUTIAO_USER',JSON.stringify(user)) &amp;#125; &amp;#125;, action: &amp;#123; &amp;#125;, modules: &amp;#123; &amp;#125; &amp;#125;) 2ã€ç™»å½•æˆåŠŸä»¥åå°†åç«¯è¿”å›çš„ token ç›¸å…³æ•°æ®å­˜å‚¨åˆ°å®¹å™¨ä¸­ async onLogin () &amp;#123; this.$toast.loading(&amp;#123; duration: 0, // æŒç»­æ—¶é—´ï¼Œ0è¡¨ç¤ºæŒç»­å±•ç¤ºä¸åœæ­¢ forbidClick: true, // æ˜¯å¦ç¦æ­¢èƒŒæ™¯ç‚¹å‡» message: 'ç™»å½•ä¸­...' // æç¤ºæ¶ˆæ¯ &amp;#125;) try&amp;#123; const res = await login(this.user) this.$store.commit('setUser',res.data.data) this.$toast.success('ç™»é™†æˆåŠŸ') &amp;#125; catch (err) &amp;#123; console.log('ç™»å½•å¤±è´¥', err) this.$toast.fail('ç™»å½•å¤±è´¥ï¼Œæ‰‹æœºå·æˆ–éªŒè¯ç é”™è¯¯') &amp;#125; // åœæ­¢ loadingï¼Œå®ƒä¼šæŠŠå½“å‰é¡µé¢ä¸­æ‰€æœ‰çš„ toast éƒ½ç»™æ¸…é™¤ // loginToast.clear() &amp;#125; ä¼˜åŒ–å°è£…æœ¬åœ°å­˜å‚¨æ“ä½œæ¨¡å—åˆ›å»ºsrc/utils/storage.jsæ¨¡å—ã€‚ export const getItem = name => &amp;#123; const data = window.localStorage.getItem(name) try&amp;#123; return JSON.parse(data) &amp;#125; catch (err) &amp;#123; return data &amp;#125; &amp;#125; export const setItem = (name, value) => &amp;#123; if(typeof value === 'object') &amp;#123; value = JSON.stringify(value) &amp;#125; window.localStorage.setItem('name',value) &amp;#125; export const removeItem = name => &amp;#123; window.localStorage.removeItem(name) &amp;#125; å…³äº Token è¿‡æœŸé—®é¢˜ç™»å½•æˆåŠŸä¹‹ååç«¯ä¼šè¿”å›ä¸¤ä¸ª Tokenï¼š tokenï¼šè®¿é—®ä»¤ç‰Œï¼Œæœ‰æ•ˆæœŸ2å°æ—¶ refresh_tokenï¼šåˆ·æ–°ä»¤ç‰Œï¼Œæœ‰æ•ˆæœŸ14å¤©ï¼Œç”¨äºè®¿é—®ä»¤ç‰Œè¿‡æœŸä¹‹åé‡æ–°è·å–æ–°çš„è®¿é—®ä»¤ç‰Œ æˆ‘ä»¬çš„é¡¹ç›®æ¥å£ä¸­è®¾å®šçš„ Token æœ‰æ•ˆæœŸæ˜¯ 2 å°æ—¶ï¼Œè¶…è¿‡æœ‰æ•ˆæœŸæœåŠ¡ç«¯ä¼šè¿”å› 401 è¡¨ç¤º Token æ— æ•ˆæˆ–è¿‡æœŸäº†ã€‚ ä¸ºä»€ä¹ˆè¿‡æœŸæ—¶é—´è¿™ä¹ˆçŸ­ï¼Ÿ ä¸ºäº†å®‰å…¨ï¼Œä¾‹å¦‚ Token è¢«åˆ«äººç›—ç”¨ è¿‡æœŸäº†æ€ä¹ˆåŠï¼Ÿ è®©ç”¨æˆ·é‡æ–°ç™»å½•ï¼Œç”¨æˆ·ä½“éªŒå¤ªå·®äº† ä½¿ç”¨refresh-tokenè§£å†³tokenè¿‡æœŸ å¦‚ä½•ä½¿ç”¨ refresh_token è§£å†³ token è¿‡æœŸï¼Ÿ åˆ°è¯¾ç¨‹çš„åé¢æˆ‘ä»¬å¼€å‘çš„ä¸šåŠ¡åŠŸèƒ½ä¸°å¯Œèµ·æ¥ä¹‹åï¼Œå†ç»™å¤§å®¶è®²è§£ Token è¿‡æœŸå¤„ç†ã€‚ å¤§å®¶éœ€è¦æ³¨æ„çš„æ˜¯åœ¨å­¦ä¹ æµ‹è¯•çš„æ—¶å€™å¦‚æœæ”¶åˆ° 401 å“åº”ç ï¼Œè¯·é‡æ–°ç™»å½•å†æµ‹è¯•ã€‚ æ¦‚è¿°ï¼šæœåŠ¡å™¨ç”Ÿæˆtokençš„è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰ä¸¤ä¸ªæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯tokenå¤±æ•ˆæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯tokenåˆ·æ–°æ—¶é—´ï¼Œåˆ·æ–°æ—¶é—´è‚¯å®šæ¯”å¤±æ•ˆæ—¶é—´é•¿ï¼Œå½“ç”¨æˆ·çš„ token è¿‡æœŸæ—¶ï¼Œä½ å¯ä»¥æ‹¿ç€è¿‡æœŸçš„tokenå»æ¢å–æ–°çš„tokenï¼Œæ¥ä¿æŒç”¨æˆ·çš„ç™»é™†çŠ¶æ€ï¼Œå½“ç„¶ä½ è¿™ä¸ªè¿‡æœŸtokençš„è¿‡æœŸæ—¶é—´å¿…é¡»åœ¨åˆ·æ–°æ—¶é—´ä¹‹å†…ï¼Œå¦‚æœè¶…å‡ºäº†åˆ·æ–°æ—¶é—´ï¼Œé‚£ä¹ˆè¿”å›çš„ä¾æ—§æ˜¯ 401ã€‚ å¤„ç†æµç¨‹: åœ¨axiosçš„æ‹¦æˆªå™¨ä¸­åŠ å…¥tokenåˆ·æ–°é€»è¾‘ å½“ç”¨æˆ·tokenè¿‡æœŸæ—¶ï¼Œå»å‘æœåŠ¡å™¨è¯·æ±‚æ–°çš„ token æŠŠæ—§çš„tokenæ›¿æ¢ä¸ºæ–°çš„token ç„¶åç»§ç»­ç”¨æˆ·å½“å‰çš„è¯·æ±‚ åœ¨è¯·æ±‚çš„å“åº”æ‹¦æˆªå™¨ä¸­ç»Ÿä¸€å¤„ç† token è¿‡æœŸï¼š /** * å°è£… axios è¯·æ±‚æ¨¡å— */ import axios from \"axios\"; import jsonBig from \"json-bigint\"; import store from \"@/store\"; import router from \"@/router\"; // axios.create æ–¹æ³•ï¼šå¤åˆ¶ä¸€ä¸ª axios const request = axios.create(&amp;#123; baseURL: \"http://ttapi.research.itcast.cn/\" // åŸºç¡€è·¯å¾„ &amp;#125;); /** * é…ç½®å¤„ç†åç«¯è¿”å›æ•°æ®ä¸­è¶…å‡º js å®‰å…¨æ•´æ•°èŒƒå›´é—®é¢˜ */ request.defaults.transformResponse = [ function(data) &amp;#123; try &amp;#123; return jsonBig.parse(data); &amp;#125; catch (err) &amp;#123; return &amp;#123;&amp;#125;; &amp;#125; &amp;#125; ]; // è¯·æ±‚æ‹¦æˆªå™¨ request.interceptors.request.use( function(config) &amp;#123; const user = store.state.user; if (user) &amp;#123; config.headers.Authorization = `Bearer $&amp;#123;user.token&amp;#125;`; &amp;#125; // Do something before request is sent return config; &amp;#125;, function(error) &amp;#123; // Do something with request error return Promise.reject(error); &amp;#125; ); // å“åº”æ‹¦æˆªå™¨ request.interceptors.response.use( // å“åº”æˆåŠŸè¿›å…¥ç¬¬1ä¸ªå‡½æ•° // è¯¥å‡½æ•°çš„å‚æ•°æ˜¯å“åº”å¯¹è±¡ function(response) &amp;#123; // Any status code that lie within the range of 2xx cause this function to trigger // Do something with response data return response; &amp;#125;, // å“åº”å¤±è´¥è¿›å…¥ç¬¬2ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°æ˜¯é”™è¯¯å¯¹è±¡ async function(error) &amp;#123; // Any status codes that falls outside the range of 2xx cause this function to trigger // Do something with response error // å¦‚æœå“åº”ç æ˜¯ 401 ï¼Œåˆ™è¯·æ±‚è·å–æ–°çš„ token // å“åº”æ‹¦æˆªå™¨ä¸­çš„ error å°±æ˜¯é‚£ä¸ªå“åº”çš„é”™è¯¯å¯¹è±¡ console.dir(error); if (error.response &amp;&amp; error.response.status === 401) &amp;#123; // æ ¡éªŒæ˜¯å¦æœ‰ refresh_token const user = store.state.user; if (!user || !user.refresh_token) &amp;#123; router.push(\"/login\"); // ä»£ç ä¸è¦å¾€åæ‰§è¡Œäº† return; &amp;#125; // å¦‚æœæœ‰refresh_tokenï¼Œåˆ™è¯·æ±‚è·å–æ–°çš„ token try &amp;#123; const res = await axios(&amp;#123; method: \"PUT\", url: \"http://ttapi.research.itcast.cn/app/v1_0/authorizations\", headers: &amp;#123; Authorization: `Bearer $&amp;#123;user.refresh_token&amp;#125;` &amp;#125; &amp;#125;); // å¦‚æœè·å–æˆåŠŸï¼Œåˆ™æŠŠæ–°çš„ token æ›´æ–°åˆ°å®¹å™¨ä¸­ console.log(\"åˆ·æ–° token æˆåŠŸ\", res); store.commit(\"setUser\", &amp;#123; token: res.data.data.token, // æœ€æ–°è·å–çš„å¯ç”¨ token refresh_token: user.refresh_token // è¿˜æ˜¯åŸæ¥çš„ refresh_token &amp;#125;); // æŠŠä¹‹å‰å¤±è´¥çš„ç”¨æˆ·è¯·æ±‚ç»§ç»­å‘å‡ºå» // config æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ¬æ¬¡å¤±è´¥è¯·æ±‚ç›¸å…³çš„é‚£äº›é…ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚ urlã€method éƒ½æœ‰ // return æŠŠ request çš„è¯·æ±‚ç»“æœç»§ç»­è¿”å›ç»™å‘è¯·æ±‚çš„å…·ä½“ä½ç½® return request(error.config); &amp;#125; catch (err) &amp;#123; // å¦‚æœè·å–å¤±è´¥ï¼Œç›´æ¥è·³è½¬ ç™»å½•é¡µ console.log(\"è¯·æ±‚åˆ·çº¿ token å¤±è´¥\", err); router.push(\"/login\"); &amp;#125; &amp;#125; return Promise.reject(error); &amp;#125; ); export default request;","categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"token","slug":"token","permalink":"http://engravesunny.github.io/tags/token/"}]},{"title":"ç½‘æ˜“äº‘éŸ³ä¹æ¡ˆä¾‹","slug":"10.11-10.12åˆå†™äº†ä¸€éç½‘æ˜“äº‘éŸ³ä¹æ¡ˆä¾‹","date":"2022-10-12T13:23:53.000Z","updated":"2022-10-12T15:08:32.821Z","comments":true,"path":"2022/10/12/10.11-10.12-you-xie-liao-yi-bian-wang-yi-yun-yin-le-an-li/","link":"","permalink":"http://engravesunny.github.io/2022/10/12/10.11-10.12-you-xie-liao-yi-bian-wang-yi-yun-yin-le-an-li/","excerpt":"","text":"ç½‘æ˜“äº‘æ¡ˆä¾‹æ€»ç»“(ä¸´è¿‘è€ƒè¯•è¯¥å¤ä¹ äº†åœæ›´ä¸€æ®µæ—¶é—´(TâŒ“T))1.åˆç†Ÿæ‚‰ä¸€évantç»„ä»¶åº“çš„ä½¿ç”¨1.å±€éƒ¨å¼•å…¥é…ç½® module.exports = &amp;#123; presets: [ '@vue/cli-plugin-babel/preset' ], plugins: [ [\"import\", &amp;#123; \"libraryName\": \"vant\", \"libraryDirectory\": \"es\", \"style\": true &amp;#125;,'vant'] ] &amp;#125; é€šè¿‡æ­¤é…ç½®å¯ä»¥å®ç°vantç»„ä»¶åº“çš„å±€éƒ¨å¼•å…¥å³import &#123;&#125; from &#39;vant&#39; 2.æ›´åŠ ç†Ÿæ‚‰å°è£…axiosè¯·æ±‚çš„æ“ä½œ1.å…ˆåœ¨srcä¸‹æ–°å»ºutils&#x2F;request.js,å¯¹ç½‘ç»œè¯·æ±‚è¿›è¡ŒäºŒæ¬¡å°è£… // ç½‘ç»œè¯·æ±‚ - äºŒæ¬¡å°è£… import axios from \"axios\"; axios.defaults.baseURL = 'http://localhost:3000' export default axios 2.å†åœ¨srcä¸‹æ–°å»ºapiæ–‡ä»¶ï¼Œå…¶ä¸­æ–°å»ºindex.jsä½œä¸ºè¯·æ±‚æ€»æ±‡,åˆ†åˆ«æ–°å»ºHome.js,Play.js,Search.jsè¿›è¡Œå…·ä½“è¯·æ±‚æ“ä½œ // Home.js // æ–‡ä»¶å-å°½é‡å’Œæ¨¡å—é¡µé¢æ–‡ä»¶åç»Ÿä¸€ import request from '@/utils/request' //é¦–é¡µ-æ¨èæ­Œå• export const recommendMusic = params => request(&amp;#123; url:'/personalized', params //å°†æ¥å¯èƒ½ä¼ å…¥paramsçš„å€¼&amp;#123;limit:20&amp;#125; &amp;#125;) // é¦–é¡µ-æœ€æ–°éŸ³ä¹ export const newMusic = params => request(&amp;#123; url:'/personalized/newsong', params &amp;#125;) // Search.js // æœç´¢æ¨¡å— import request from '@/utils/request' export const hotSearch = params => request(&amp;#123; url:'/search/hot', params &amp;#125;) export const searchResultList = params => request(&amp;#123; url:'/cloudsearch', params &amp;#125;) // Play.js import request from '../utils/request' // æ’­æ”¾é¡µ - è·å–æ­Œæ›²è¯¦æƒ… export const getSongById = (id) => request(&amp;#123; url: `/song/detail?ids=$&amp;#123;id&amp;#125;`, method: \"GET\" &amp;#125;) // æ’­æ”¾é¡µ - è·å–æ­Œè¯ export const getLyricById = (id) => request(&amp;#123; url: `/lyric?id=$&amp;#123;id&amp;#125;`, method: \"GET\" &amp;#125;) // index.jsä½œä¸ºè¯·æ±‚æ€»æ±‡ // apiæ–‡ä»¶å¤¹ä¸‹ å„ä¸ªè¯·æ±‚æ¨¡å—jsï¼ŒåŒä¸€æ¥åˆ°index.jså†å‘å¤–å¯¼å‡º import &amp;#123;recommendMusic,newMusic&amp;#125; from './Home' import &amp;#123; hotSearch,searchResultList &amp;#125; from './Search' import &amp;#123;getSongById,getLyricById&amp;#125; from './Play' export const recommendMusicAPI = recommendMusic //è¯·æ±‚æ¨èæ­Œå•çš„æ–¹æ³•å¯¼å‡º export const newMusicAPI = newMusic //è¯·æ±‚æœ€æ–°éŸ³ä¹çš„æ–¹æ³•å¯¼å‡º export const hotSearchAPI = hotSearch //æœç´¢-çƒ­æœå…³é”®è¯ export const searchResultListAPI = searchResultList //æœç´¢-æœç´¢ç»“æœ export const getSongByIdAPI = getSongById //æœç´¢-æœç´¢ç»“æœ export const getLyricByIdAPI = getLyricById //æœç´¢-æœç´¢ç»“æœ ä½œç”¨ï¼šè¿™æ ·åšæ›´åˆ©äºä¸åŒè¯·æ±‚çš„è°ƒç”¨å’Œæ›´æ”¹ï¼Œæ›´ä¾¿äºç»´æŠ¤ 3.æ›´åŠ ç†Ÿæ‚‰vueä¸­è·¯ç”±çš„æ“ä½œsrcä¸‹æ–°å»ºrouter&#x2F;index.js import Vue from 'vue' import VueRouter from 'vue-router' import Layout from '@/view/Layout' import Home from '@/view/Home' import Search from '@/view/Search' import Play from '@/view/Play' Vue.use(VueRouter) const routes = [ &amp;#123; path:'/', redirect:'/layout' &amp;#125;, &amp;#123; path:'/layout', component:Layout, children:[ &amp;#123; path:'home', component:Home, meta:&amp;#123; //metaä¿å­˜è·¯ç”±å¯¹è±¡é¢å¤–ä¿¡æ¯ title:'é¦–é¡µ' &amp;#125; &amp;#125;, &amp;#123; path:'search', component:Search, meta:&amp;#123; title:'æœç´¢' &amp;#125; &amp;#125; ] &amp;#125;, &amp;#123; path:'/play', component:Play &amp;#125; ] export default new VueRouter(&amp;#123; routes &amp;#125;) å¯¹è·¯ç”±è·³è½¬ä¼ å‚ï¼Œé‡å®šå‘ï¼Œå­è·¯ç”±æ›´åŠ æ·±å…¥çš„äº†è§£ å…¥å£æ–‡ä»¶å¯¼å…¥ // main.js import Vue from 'vue' import App from './App.vue' import '@/mobile/flexible' import '@/styles/reset.css' import router from '@/router' // æµ‹è¯•å°è£…apiçš„æ–¹æ³• import &amp;#123; recommendMusicAPI &amp;#125; from './api' async function fn()&amp;#123; const res = await recommendMusicAPI() console.log(res); &amp;#125; fn() import &amp;#123; Tabbar, TabbarItem ,NavBar,Col, Row,Image as VanImage,Cell, CellGroup,Icon,Search,List,&amp;#125; from 'vant'; Vue.use(List); Vue.use(Search); Vue.use(Cell); Vue.use(Icon); Vue.use(CellGroup); Vue.use(VanImage); Vue.use(Col); Vue.use(Row); Vue.use(Tabbar); Vue.use(TabbarItem); Vue.use(NavBar); Vue.config.productionTip = false new Vue(&amp;#123; router, render: h => h(App), &amp;#125;).$mount('#app')","categories":[{"name":"Vue","slug":"Vue","permalink":"http://engravesunny.github.io/categories/Vue/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"},{"name":"Vue","slug":"Vue","permalink":"http://engravesunny.github.io/tags/Vue/"}]},{"title":"reduxå­¦ä¹ ç¬”è®°","slug":"10.10reduxç¬”è®°","date":"2022-10-10T13:23:53.000Z","updated":"2022-10-10T14:08:34.383Z","comments":true,"path":"2022/10/10/10.10redux-bi-ji/","link":"","permalink":"http://engravesunny.github.io/2022/10/10/10.10redux-bi-ji/","excerpt":"","text":"Reduxæ¦‚è¿°Reduxä¸ºä½•ç‰© Reduxæ˜¯ç”¨äºåšçŠ¶æ€ç®¡ç†çš„JSåº“ å¯ç”¨äºReactï¼ŒAngularï¼ŒVueç­‰é¡¹ç›®ä¸­ï¼Œå¸¸ç”¨äºReact é›†ä¸­å¼ç®¡ç†Reactåº”ç”¨å¤šä¸ªç»„ä»¶å…±äº«çš„çŠ¶æ€ ä½•æ—¶ç”¨Redux æŸä¸ªç»„ä»¶çš„çŠ¶æ€éœ€è¦è®©å…¶ä»–ç»„ä»¶æ‹¿åˆ° ä¸€ä¸ªç»„ä»¶è¦æ”¹å˜å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€ ä½¿ç”¨åŸåˆ™ï¼šä¸åˆ°ä¸‡ä¸å¾—å·²ä¸è¦è½»æ˜“ä½¿ç”¨ Redux å·¥ä½œæµç¨‹ ç»„ä»¶æƒ³ç”¨Reduxä¸­çš„çŠ¶æ€ï¼šæŠŠåŠ¨ä½œç±»å‹å’Œæ•°æ®å‘Šè¯‰Action Creators Action Creatorsåˆ›å»ºactions:åŒæ­¥actionæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå¼‚æ­¥actionæ˜¯ä¸€ä¸ªå‡½æ•° Storeè°ƒç”¨dispatch()åˆ†å‘ç»™Reducersæ‰§è¡Œ Reducersæ¥æ”¶previousState,actionä¸¤ä¸ªå‚æ•°ï¼Œå¯¹çŠ¶æ€è¿›è¡ŒåŠ å·¥åè¿”å›æ–°çŠ¶æ€ Storeè°ƒç”¨getState()æŠŠçŠ¶æ€ä¼ ç»™ç»„ä»¶ æ ¸å¿ƒæ¦‚å¿µaction: è¡¨ç¤ºåŠ¨ä½œçš„å¯¹è±¡ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§ type:è¡¨ç¤ºå±æ€§ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå”¯ä¸€ï¼Œå¿…é¡»å±æ€§ data:æ•°æ®å±æ€§ï¼Œç±»å‹ä»»æ„ï¼Œå¯é€‰å±æ€§ {type:â€™stringâ€™,data:data} reducer: ç”¨äºåˆå§‹åŒ–çŠ¶æ€ã€åŠ å·¥çŠ¶æ€ æ ¹æ®æ—§çŠ¶æ€å’Œactionäº§ç”Ÿæ–°çŠ¶æ€ æ˜¯çº¯å‡½æ•° çº¯å‡½æ•°ï¼šè¾“å…¥åŒæ ·çš„å®å‚ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡º ä¸èƒ½æ”¹å†™å‚æ•°æ•°æ® ä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼Œå¦‚ç½‘ç»œè¯·æ±‚ã€è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼ˆç½‘ç»œè¯·æ±‚ä¸ç¨³å®šï¼‰ ä¸èƒ½è°ƒç”¨ Date.now() ã€Math.random() ç­‰ä¸çº¯æ–¹æ³• store: Reduxæ ¸å¿ƒå¯¹è±¡ï¼Œå†…éƒ¨ç»´æŠ¤ç€stateå’Œreducer æ ¸å¿ƒAPI store.getState():è·å–çŠ¶æ€ store.dispatch(action):åˆ†å‘ä»»åŠ¡ï¼Œè§¦å‘reducerè°ƒç”¨ï¼Œäº§ç”Ÿæ–°çŠ¶æ€ store.subscribe(func):æ³¨å†Œç›‘å¬å‡½æ•°ï¼Œå½“çŠ¶æ€æ”¹å˜è‡ªåŠ¨è°ƒç”¨ ä¸€ä¸ªæ±‚å’Œæ¡ˆä¾‹// App.jsx import React, &amp;#123; Component &amp;#125; from 'react' import Count from './components/Count' export default class App extends Component &amp;#123; render() &amp;#123; return ( &lt;div> &lt;Count /> &lt;/div> ) &amp;#125; &amp;#125; // index.js import React from 'react' import ReactDOM from 'react-dom' import App from './App' import store from './redux/store' ReactDOM.render(&lt;App />, document.getElementById('root')) // çŠ¶æ€æ”¹å˜é‡æ–°æ¸²æŸ“ App ç»„ä»¶ store.subscribe(() => &amp;#123; ReactDOM.render(&lt;App />, document.getElementById('root')) &amp;#125;) // redux/constant.js // ä¿å­˜å¸¸é‡å€¼ export const INCREMENT = 'increment' export const DECREMENT = 'decrement' // redux/count_reducer.js import &amp;#123; INCREMENT, DECREMENT &amp;#125; from './constant' //åˆå§‹åŒ–çŠ¶æ€ const initState = 0 export default function countReducer(preState = initState, action) &amp;#123; const &amp;#123; type, data &amp;#125; = action switch (type) &amp;#123; case INCREMENT: return preState + data case DECREMENT: return preState - data default: return preState &amp;#125; &amp;#125; // redux/store.js import &amp;#123; createStore &amp;#125; from 'redux' //å¼•å…¥ä¸º Count ç»„ä»¶æœåŠ¡çš„ reducer import countReducer from './count_reducer' export default createStore(countReducer) // redux/count_action.js import &amp;#123; INCREMENT, DECREMENT &amp;#125; from './constant' export const createIncrementAction = (data) => (&amp;#123; type: INCREMENT, data &amp;#125;) export const createDecrementAction = (data) => (&amp;#123; type: DECREMENT, data &amp;#125;) // components/Count/index.jsx import React, &amp;#123; Component &amp;#125; from 'react' import store from '../../redux/store' import &amp;#123; createIncrementAction, createDecrementAction &amp;#125; from '../../redux/count_action' export default class Count extends Component &amp;#123; // å¯åœ¨ç»„ä»¶å•ç‹¬ç›‘å¬ Redux çŠ¶æ€å˜åŒ– // componentDidMount() &amp;#123; // store.subscribe(() => &amp;#123; // this.setState(&amp;#123;&amp;#125;) // &amp;#125;) // &amp;#125; increment = () => &amp;#123; const &amp;#123; value &amp;#125; = this.selectNumber // å°† value è½¬ä¸ºæ•°å€¼ // æ‰‹åŠ¨å†™ Action å¯¹è±¡ store.dispatch(&amp;#123; type: 'increment', data: value * 1 &amp;#125;) // ä¸“é—¨åˆ›å»º Action å¯¹è±¡ store.dispatch(createIncrementAction(value * 1)) &amp;#125; decrement = () => &amp;#123; const &amp;#123; value &amp;#125; = this.selectNumber store.dispatch(createDecrementAction(value * 1)) &amp;#125; incrementAsync = () => &amp;#123; const &amp;#123; value &amp;#125; = this.selectNumber setTimeout(() => &amp;#123; store.dispatch(createIncrementAction(value * 1)) &amp;#125;, 500) &amp;#125; render() &amp;#123; return ( &lt;div> &lt;h1>å½“å‰æ±‚å’Œä¸ºï¼š&amp;#123;store.getState()&amp;#125;&lt;/h1> &lt;select ref=&amp;#123;(c) => (this.selectNumber = c)&amp;#125;> &lt;option value=\"1\">1&lt;/option> &lt;option value=\"2\">2&lt;/option> &lt;option value=\"3\">3&lt;/option> &lt;/select> &lt;button onClick=&amp;#123;this.increment&amp;#125;>+&lt;/button> &lt;button onClick=&amp;#123;this.decrement&amp;#125;>-&lt;/button> &lt;button onClick=&amp;#123;this.incrementAsync&amp;#125;>å¼‚æ­¥åŠ &lt;/button> &lt;/div> ) &amp;#125; &amp;#125; Reduxåªè´Ÿè´£ç®¡ç†çŠ¶æ€ï¼ŒçŠ¶æ€æ”¹å˜åé¡µé¢çš„æ›´æ–°éœ€è¦è‡ªå·±å†™ å¯ä»¥åœ¨index.jsä¸­ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œä¸èƒ½ç›´æ¥è°ƒrender(),è¦ç”¨this.setState(&#123;&#125;)é—´æ¥è°ƒç”¨ reducerç”±storeé¦–æ¬¡è°ƒç”¨æ—¶ä¼ é€’çš„previousStateæ˜¯undefinedï¼Œactionä¸º&#123;type:&#39;@@REDUX/INIT_a.5.v.9&#39;&#125;ç±»ä¼¼çš„ä¸œè¥¿ï¼Œæ²¡æœ‰ä¼ data Reduxå¼‚æ­¥ç¼–ç¨‹å®‰è£…å¼‚æ­¥ä¸­é—´ä»¶ï¼š npm install redux-thunk -S è¦ç‚¹ï¼š å»¶è¿Ÿçš„åŠ¨ä½œä¸æƒ³äº¤ç»™ç»„ä»¶ï¼Œè€Œæ˜¯ action å½“æ“ä½œçŠ¶æ€æ‰€éœ€æ•°æ®è¦é å¼‚æ­¥ä»»åŠ¡è¿”å›æ—¶ï¼Œå¯ç”¨å¼‚æ­¥ action åˆ›å»º action çš„å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸­å†™å¼‚æ­¥ä»»åŠ¡ å¼‚æ­¥ä»»åŠ¡å®Œæˆåï¼Œåˆ†å‘ä¸€ä¸ªåŒæ­¥ action æ“ä½œçŠ¶æ€ å¼‚æ­¥ action ä¸æ˜¯å¿…è¦çš„ï¼Œå®Œå…¨å¯ä»¥åœ¨ç»„ä»¶ä¸­ç­‰å¾…å¼‚æ­¥ä»»åŠ¡ç»“æœè¿”å›åœ¨åˆ†å‘åŒæ­¥ action // store.js import &amp;#123; createStore, applyMiddleware &amp;#125; from 'redux' import countReducer from './count_reducer' import thunk from 'redux-thunk' export default createStore(countReducer, applyMiddleware(thunk)) // count_action.js import &amp;#123; INCREMENT, DECREMENT &amp;#125; from './constant.js' export const createIncrementAction = (data) => (&amp;#123; type: INCREMENT, data &amp;#125;) export const createDecrementAction = (data) => (&amp;#123; type: DECREMENT, data &amp;#125;) // å¼‚æ­¥ action è¿”å›ä¸€ä¸ªå‡½æ•° export const createIncrementAsyncAction = (data, time) => &amp;#123; return (dispatch) => &amp;#123; setTimeout(() => &amp;#123; dispatch(createIncrementAction(data)) &amp;#125;, time) &amp;#125; &amp;#125; // Count.jsx incrementAsync = () => &amp;#123; const &amp;#123; value &amp;#125; = this.selectNumber store.dispatch(createIncrementAsyncAction(value * 1)) &amp;#125; æ•´ä¸ªè¿‡ç¨‹ç®€å•ç†è§£ï¼šstore åœ¨åˆ†å‘ action æ—¶ï¼Œå‘ç°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œé‚£å®ƒçŸ¥é“è¿™æ˜¯ä¸ªå¼‚æ­¥ action ã€‚å› æ­¤ store å‹‰ä¸ºå…¶éš¾åœ°å¸®å¿™æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼ŒåŒæ—¶ç»™è¿™ä¸ªå‡½æ•°ä¼ é€’ dispatch æ–¹æ³•ï¼Œç­‰å¾…å¼‚æ­¥ä»»åŠ¡å®Œæˆå–åˆ°æ•°æ®åï¼Œç›´æ¥è°ƒç”¨ dispatch æ–¹æ³•åˆ†å‘åŒæ­¥ action ã€‚","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"hexoåšå®¢ä¸»é¢˜ä¸ä¿®æ”¹","slug":"hexoåšå®¢ä¸»é¢˜å®‰è£…ä¸ä¿®æ”¹","date":"2022-10-09T14:52:23.000Z","updated":"2022-10-26T02:00:53.589Z","comments":true,"path":"2022/10/09/hexo-bo-ke-zhu-ti-an-zhuang-yu-xiu-gai/","link":"","permalink":"http://engravesunny.github.io/2022/10/09/hexo-bo-ke-zhu-ti-an-zhuang-yu-xiu-gai/","excerpt":"","text":"hexoåšå®¢ä¸»é¢˜å®‰è£…ä¸ä¿®æ”¹1.ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…ç‚¹å‡»ä¸‹è½½åœ°å€ä¸‹è½½masteråˆ†æ”¯çš„æœ€æ–°ç¨³å®šç‰ˆçš„ä»£ç ï¼Œè§£å‹ç¼©åï¼Œå°†hexo-theme-materyçš„æ–‡ä»¶å¤åˆ¶åˆ°hexoçš„themeæ–‡ä»¶å¤¹ä¸­å³å¯ å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ä½ çš„ç«™ç‚¹ç›®å½•æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨ git clone å‘½ä»¤æ¥ä¸‹è½½ï¼šç›´æ¥åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå³å¯è¿›è¡Œä¸»é¢˜çš„ä¸‹è½½ï¼Œä¸»é¢˜æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç¨³å®šç‰ˆæœ¬å’Œæœ€æ–°ç‰ˆæœ¬(ä¸å®šæœŸæ›´æ–°ä¼˜åŒ–)ï¼Œè‡ªä¸»é€‰æ‹©ç‰ˆæœ¬ã€‚ git clone https://github.com/blinkfox/hexo-theme-matery themes/matery # ç¨³å®šç‰ˆ git clone -b develop https://github.com/blinkfox/hexo-theme-matery themes/matery #æœ€æ–°ç‰ˆ(ä¸å®šæœŸè¿›è¡Œä¼˜åŒ–æ›´æ–°) 2.ä¸»é¢˜é…ç½®2.1 åˆ‡æ¢ä¸»é¢˜ è¿›å…¥æ ¹ç›®å½•ä¸‹çš„_config.ymlä¸­ï¼Œå¾€ä¸‹æ»‘åˆ°å¤§æ¦‚101è¡Œæœ‰ä¸€ä¸ªthemeï¼Œå°†å®ƒæ”¹ä¸ºåˆšæ‰ä½ å¼•å…¥åˆ°æ ¹ç›®å½•themeä¸‹çš„æ–‡ä»¶å¤¹çš„åå­—å°±è¡Œï¼Œè®°å¾—theme:ååŠ ä¸€ä¸ªç©ºæ ¼å³theme: ä½ å¼•å…¥çš„æ–‡ä»¶å¤¹çš„åå­—ï¼ˆä¸ç”¨åŠ å¼•å·ï¼‰ è¯­è¨€é€‰æ‹©ï¼šå¦‚æœä¸ºä¸­æ–‡ç”¨æˆ·ï¼Œåˆ™åœ¨language:åæ·»åŠ å€¼zh-CNï¼Œå¦‚æœä¸ä¿®æ”¹ï¼Œé»˜è®¤ä¸ºè‹±è¯­ï¼›ç½‘å€ä¿®æ”¹ï¼šurl:çš„å€¼ä¸ºä½ çš„ç½‘å€åï¼Œå¦‚http://xxxx.github.ioï¼Œå¦‚æœæœ‰åŸŸåï¼Œåˆ™ä¿®æ”¹ä¸ºä½ çš„åŸŸåå³å¯ç‚¹é…ç½®æ–‡ä»¶æœ‰ä¸ªper_pageå±æ€§ï¼Œå»ºè®®ä¿®æ”¹ä¸º6çš„å€æ•°ï¼Œè¿™æ ·ç½‘ç«™åœ¨é€‚åº”è®¾å¤‡æ—¶ï¼Œæœ‰è¾ƒå¥½çš„æ˜¾ç¤ºæ•ˆæœã€‚ 2.2 æ–°å»ºé¡µé¢ æœ¬æ¬¡æ“ä½œéœ€è¦æ–°å»ºâ€™tagsâ€™,â€™categoriesâ€™,â€™aboutâ€™,â€™contactâ€™(ç•™è¨€æ¿ï¼ˆå¯é€‰ï¼‰),â€™friendsâ€™(å‹æƒ…é“¾æ¥(å¯é€‰))åŸºæœ¬æ“ä½œéƒ½æ˜¯ä¸€æ ·ä»¥â€™tagsâ€™ä¸ºä¾‹ tags é¡µæ˜¯ç”¨æ¥å±•ç¤ºæ‰€æœ‰æ ‡ç­¾çš„é¡µé¢ï¼Œå¦‚æœåœ¨ä½ çš„åšå®¢ source ç›®å½•ä¸‹è¿˜æ²¡æœ‰ tags&#x2F;index.md æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æ–°å»ºä¸€ä¸ªï¼Œå‘½ä»¤å¦‚ä¸‹ hexo new page \"tags\" ç¼–è¾‘ä½ åˆšåˆšæ–°å»ºçš„é¡µé¢æ–‡ä»¶ &#x2F;source&#x2F;tags&#x2F;index.mdï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š --- title: tags date: 2018-09-30 18:23:38 type: \"tags\" layout: \"tags\" --- å…¶ä»–é¡µé¢çš„æ–°å»ºä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå°†tagsæ”¹ä¸ºå¯¹åº”çš„å°±è¡Œï¼Œå¦‚aboutï¼ŒæŠŠä¸Šé¢çš„tagséƒ½æ”¹ä¸ºaboutå°±è¡Œ tagså’Œcategoryç”¨æ³•ä½ æ–°å»ºç©tagså’Œcategoryé¡µé¢ä»¥å åœ¨ä½ å†™postä¸­çš„mdæ–‡ä»¶æ—¶åœ¨é¡¶éƒ¨åŠ å…¥ä»¥ä¸‹ä»£ç  title: 10.5(Reactè„šæ‰‹æ¶) categories: React tags: - React - ç¬”è®° å°±ä¼šç”Ÿæˆä»¥ä¸‹æ•ˆæœ æ–°å»ºfriendé¡µé¢ååŒæ—¶ï¼Œåœ¨ä½ çš„åšå®¢sourceç›®å½•ä¸‹æ–°å»º_dataç›®å½•ï¼Œåœ¨_dataç›®å½•ä¸­æ–°å»ºfriends.jsonæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š [&amp;#123; \"avatar\": \"../avatars/1.jpg\", \"name\": \"ç°è‰²çš„å°ä¼Š\", \"introduction\": \"æ¥bilibiliäº†è§£æ›´å¤šè¿½ç•ªï¼Œå†²å†²å†²\", \"url\": \"https://space.bilibili.com/244375982?spm_id_from=333.1007.0.0\", \"title\": \"å‰å»å­¦ä¹ \" &amp;#125;, &amp;#123; \"avatar\": \"../avatars/0.png\", \"name\": \"å¤ªé˜³\", \"introduction\": \"æ›´å¤šçŸ¥è¯†ç¬”è®°ï¼Œæ¥è¯­é›€ä¸€èµ·å­¦ä¹ \", \"url\": \"https://www.yuque.com/dashboard/my_books\", \"title\": \"å‰å»å­¦ä¹ \" &amp;#125;, &amp;#123; \"avatar\": \"https://avatars.githubusercontent.com/u/100678707?v=4\", \"name\": \"engravesunny\", \"introduction\": \"å¹³å‡¡çš„è„šæ­¥ä¹Ÿå¯ä»¥èµ°å‡ºä¼Ÿå¤§çš„è¡Œç¨‹\", \"url\": \"https://github.com/Engravesunny\", \"title\": \"å‰å»å­¦ä¹ \" &amp;#125;] 2.3èœå•å¯¼èˆªé…ç½® 1.èœå•å¯¼èˆªåç§°å¯ä»¥æ˜¯ä¸­æ–‡ä¹Ÿå¯ä»¥æ˜¯è‹±æ–‡(å¦‚ï¼šIndexæˆ–ä¸»é¡µ)2.å›¾æ ‡icon å¯ä»¥åœ¨Font Awesome ä¸­æŸ¥æ‰¾ åœ¨ä½ å¼•å…¥çš„ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„_config.ymlä¸­æ›´æ”¹ä»¥ä¸‹ä»£ç  menu: Index: url: / icon: fas fa-home Tags: url: /tags icon: fas fa-tags Categories: url: /categories icon: fas fa-bookmark Archives: url: /archives icon: fas fa-archive About: url: /about icon: fas fa-user-circle Friends: url: /friends icon: fas fa-address-book ä»¥ä¸Šæ˜¯ä¸€çº§èœå•äºŒçº§èœå•é…ç½®æ–¹æ³•ï¼š1.åœ¨éœ€è¦æ·»åŠ äºŒçº§èœå•çš„ä¸€çº§èœå•ä¸‹æ·»åŠ childrenå…³é”®å­—(å¦‚:Aboutèœå•ä¸‹æ·»åŠ children)2.åœ¨childrenä¸‹åˆ›å»ºäºŒçº§èœå•çš„ åç§°name,è·¯å¾„urlå’Œå›¾æ ‡icon.3.æ³¨æ„æ¯ä¸ªäºŒçº§èœå•æ¨¡å—å‰è¦åŠ  -.4.æ³¨æ„ç¼©è¿›æ ¼å¼ menu: Index: url: / icon: fas fa-home Tags: url: /tags icon: fas fa-tags Categories: url: /categories icon: fas fa-bookmark Archives: url: /archives icon: fas fa-archive About: url: /about icon: fas fa-user-circle-o Friends: url: /friends icon: fas fa-address-book Medias: icon: fas fa-list children: - name: Musics url: /musics icon: fas fa-music - name: Movies url: /movies icon: fas fa-film - name: Books url: /books icon: fas fa-book - name: Galleries url: /galleries icon: fas fa-image 2.4ä»£ç é«˜äº®ç”±äº Hexo è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜æ˜¾ç¤ºä¸å¥½çœ‹ï¼Œæ‰€ä»¥ä¸»é¢˜ä¸­ä½¿ç”¨åˆ°äº† hexo-prism-plugin çš„ Hexo æ’ä»¶æ¥åšä»£ç é«˜äº®ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š npm i -S hexo-prism-plugin prism_plugin: mode: 'preprocess' # realtime/preprocess theme: 'tomorrow' line_number: false # default false custom_css: 2.5 æœç´¢ æœ¬ä¸»é¢˜ä¸­è¿˜ä½¿ç”¨åˆ°äº† hexo-generator-search çš„ Hexo æ’ä»¶æ¥åšå†…å®¹æœç´¢ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š npm install hexo-generator-search --save search: path: search.xml field: post 2.6ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³ï¼ˆå¯é€‰çš„ï¼‰ å¦‚æœä½ çš„æ–‡ç« åç§°æ˜¯ä¸­æ–‡çš„ï¼Œé‚£ä¹ˆ Hexo é»˜è®¤ç”Ÿæˆçš„æ°¸ä¹…é“¾æ¥ä¹Ÿä¼šæœ‰ä¸­æ–‡ï¼Œè¿™æ ·ä¸åˆ©äº SEOï¼Œä¸” gitment è¯„è®ºå¯¹ä¸­æ–‡é“¾æ¥ä¹Ÿä¸æ”¯æŒã€‚æˆ‘ä»¬å¯ä»¥ç”¨ hexo-permalink-pinyin Hexo æ’ä»¶ä½¿åœ¨ç”Ÿæˆæ–‡ç« æ—¶ç”Ÿæˆä¸­æ–‡æ‹¼éŸ³çš„æ°¸ä¹…é“¾æ¥ã€‚ npm i hexo-permalink-pinyin --save permalink_pinyin: enable: true separator: '-' # default: '-' æ³¨ï¼šé™¤äº†æ­¤æ’ä»¶å¤–ï¼Œhexo-abbrlink æ’ä»¶ä¹Ÿå¯ä»¥ç”Ÿæˆéä¸­æ–‡çš„é“¾æ¥ã€‚ 2.7 æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰çš„ï¼‰ å¦‚æœä½ æƒ³è¦åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºæ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ä¿¡æ¯ï¼Œå¯ä»¥å®‰è£… hexo-wordcountæ’ä»¶ã€‚ å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š npm i --save hexo-wordcount ç„¶ååªéœ€åœ¨æœ¬ä¸»é¢˜ä¸‹çš„ _config.yml æ–‡ä»¶ä¸­ï¼Œæ¿€æ´»ä»¥ä¸‹é…ç½®é¡¹å³å¯ï¼š wordCount: enable: false # å°†è¿™ä¸ªå€¼è®¾ç½®ä¸º true å³å¯. postWordCount: true min2read: true totalCount: true 2.8 æ·»åŠ  DaoVoice åœ¨çº¿èŠå¤©åŠŸèƒ½ï¼ˆå¯é€‰çš„ï¼‰ å‰å¾€ DaoVoiceå®˜ç½‘æ³¨å†Œå¹¶ä¸”è·å–app_idï¼Œå¹¶å°†app_idå¡«å…¥ä¸»é¢˜çš„_config.yml æ–‡ä»¶ä¸­ 2.9 æ·»åŠ  Tidio åœ¨çº¿èŠå¤©åŠŸèƒ½ï¼ˆå¯é€‰çš„ï¼‰ å‰å¾€ Tidioå®˜ç½‘æ³¨å†Œå¹¶ä¸”è·å–Public Keyï¼Œå¹¶å°†Public Keyå¡«å…¥ä¸»é¢˜çš„_config.yml æ–‡ä»¶ä¸­ã€‚ 2.10 ä¿®æ”¹é¡µè„š é¡µè„šä¿¡æ¯å¯èƒ½éœ€è¦åšå®šåˆ¶åŒ–ä¿®æ”¹ï¼Œè€Œä¸”å®ƒä¸ä¾¿äºåšæˆé…ç½®ä¿¡æ¯ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦ä½ è‡ªå·±å»å†ä¿®æ”¹å’ŒåŠ å·¥ã€‚ä¿®æ”¹çš„åœ°æ–¹åœ¨ä¸»é¢˜æ–‡ä»¶çš„ &#x2F;layout&#x2F;_partial&#x2F;footer.ejs æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ç«™ç‚¹ã€ä½¿ç”¨çš„ä¸»é¢˜ã€è®¿é—®é‡ç­‰ã€‚ 2.11 ä¿®æ”¹ç¤¾äº¤é“¾æ¥ åœ¨ä¸»é¢˜çš„ _config.yml æ–‡ä»¶ä¸­ï¼Œé»˜è®¤æ”¯æŒ QQã€GitHub å’Œé‚®ç®±ç­‰çš„é…ç½®ï¼Œä½ å¯ä»¥åœ¨ä¸»é¢˜æ–‡ä»¶çš„ &#x2F;layout&#x2F;_partial&#x2F;social-link.ejs æ–‡ä»¶ä¸­ï¼Œæ–°å¢ã€ä¿®æ”¹ä½ éœ€è¦çš„ç¤¾äº¤é“¾æ¥åœ°å€ï¼Œå¢åŠ é“¾æ¥å¯å‚è€ƒå¦‚ä¸‹ä»£ç ï¼š &lt;% if (theme.socialLink.github) &amp;#123; %> &lt;a href=\"&lt;%= theme.socialLink.github %>\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"è®¿é—®æˆ‘çš„GitHub\" data-position=\"top\" data-delay=\"50\"> &lt;i class=\"fab fa-github\">&lt;/i> &lt;/a> &lt;% &amp;#125; %> å…¶ä¸­ï¼Œç¤¾äº¤å›¾æ ‡ï¼ˆå¦‚ï¼šfa-githubï¼‰ä½ å¯ä»¥åœ¨ Font Awesome ä¸­æœç´¢æ‰¾åˆ°ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨ç¤¾äº¤å›¾æ ‡çš„æ ‡è¯†ï¼Œä¾›ä½ å‚è€ƒï¼š Facebook: fab fa-facebookTwitter: fab fa-twitterGoogle-plus: fab fa-google-plusLinkedin: fab fa-linkedinTumblr: fab fa-tumblrMedium: fab fa-mediumSlack: fab fa-slackSina Weibo: fab fa-weiboWechat: fab fa-weixinQQ: fab fa-qqZhihu: fab fa-zhihu æ³¨æ„: æœ¬ä¸»é¢˜ä¸­ä½¿ç”¨çš„ Font Awesome ç‰ˆæœ¬ä¸º 5.11.0 2.12 ä¿®æ”¹æ‰“èµçš„äºŒç»´ç å›¾ç‰‡ åœ¨ä¸»é¢˜æ–‡ä»¶çš„ source&#x2F;medias&#x2F;reward æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æ›¿æ¢æˆä½ çš„çš„å¾®ä¿¡å’Œæ”¯ä»˜å®çš„æ‰“èµäºŒç»´ç å›¾ç‰‡.2.13 é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰ è¦æ”¯æŒéŸ³ä¹æ’­æ”¾ï¼Œå°±å¿…é¡»å¼€å¯éŸ³ä¹çš„æ’­æ”¾é…ç½®å’ŒéŸ³ä¹æ•°æ®çš„æ–‡ä»¶ã€‚ é¦–å…ˆï¼Œåœ¨ä½ çš„åšå®¢ source ç›®å½•ä¸‹çš„ _data ç›®å½•ï¼ˆæ²¡æœ‰çš„è¯å°±æ–°å»ºä¸€ä¸ªï¼‰ä¸­æ–°å»º musics.json æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š [&amp;#123; \"name\": \"äº”æœˆé›¨å˜å¥ç”µéŸ³\", \"artist\": \"AnimeVibe\", \"url\": \"http://xxx.com/music1.mp3\", \"cover\": \"http://xxx.com/music-cover1.png\" &amp;#125;, &amp;#123; \"name\": \"Take me hand\", \"artist\": \"DAISHI DANCE,Cecile Corbel\", \"url\": \"/medias/music/music2.mp3\", \"cover\": \"/medias/music/cover2.png\" &amp;#125;, &amp;#123; \"name\": \"Shape of You\", \"artist\": \"J.Fla\", \"url\": \"http://xxx.com/music3.mp3\", \"cover\": \"http://xxx.com/music-cover3.png\" &amp;#125;] æ³¨ï¼šä»¥ä¸Š JSON ä¸­çš„å±æ€§ï¼šnameã€artistã€urlã€cover åˆ†åˆ«è¡¨ç¤ºéŸ³ä¹çš„åç§°ã€ä½œè€…ã€éŸ³ä¹æ–‡ä»¶åœ°å€ã€éŸ³ä¹å°é¢ ç„¶åï¼Œåœ¨ä¸»é¢˜çš„ _config.yml é…ç½®æ–‡ä»¶ä¸­æ¿€æ´»é…ç½®å³å¯ï¼š # æ˜¯å¦åœ¨é¦–é¡µæ˜¾ç¤ºéŸ³ä¹. music: enable: true showTitle: false title: å¬å¬éŸ³ä¹ fixed: false # æ˜¯å¦å¼€å¯å¸åº•æ¨¡å¼ autoplay: false # æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ theme: '#42b983' loop: 'all' # éŸ³é¢‘å¾ªç¯æ’­æ”¾, å¯é€‰å€¼: 'all', 'one', 'none' order: 'list' # éŸ³é¢‘å¾ªç¯é¡ºåº, å¯é€‰å€¼: 'list', 'random' preload: 'auto' # é¢„åŠ è½½ï¼Œå¯é€‰å€¼: 'none', 'metadata', 'auto' volume: 0.7 # é»˜è®¤éŸ³é‡ï¼Œè¯·æ³¨æ„æ’­æ”¾å™¨ä¼šè®°å¿†ç”¨æˆ·è®¾ç½®ï¼Œç”¨æˆ·æ‰‹åŠ¨è®¾ç½®éŸ³é‡åé»˜è®¤éŸ³é‡å³å¤±æ•ˆ listFolded: false # åˆ—è¡¨é»˜è®¤æŠ˜å  listMaxHeight: # åˆ—è¡¨æœ€å¤§é«˜åº¦ 3.æ–‡ç«  Front-matter ä»‹ç» Front-matter é€‰é¡¹è¯¦è§£ Front-matter é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸ºéå¿…å¡«çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ title å’Œ date çš„å€¼ã€‚ æ‚¨å¯ä»¥åœ¨æ–‡ç« mdæ–‡ä»¶çš„ front-matter ä¸­æŒ‡å®š reprintPolicy æ¥ç»™å•ä¸ªæ–‡ç« é…ç½®è½¬è½½è§„åˆ™ ä»¥ä¸‹ä¸ºæ–‡ç« çš„ Front-matter ç¤ºä¾‹ã€‚ æœ€ç®€ç¤ºä¾‹ --- title: typora-vue-themeä¸»é¢˜ä»‹ç» date: 2018-09-07 09:25:00 --- æœ€å…¨ç¤ºä¾‹ --- title: typora-vue-themeä¸»é¢˜ä»‹ç» date: 2022-05-02 09:25:00 author: CrazyYu img: /source/images/xxx.jpg top: true cover: true coverImg: /images/1.jpg password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92 toc: false mathjax: false summary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦ categories: Markdown tags: - Typora - Markdown --- 4.æ•ˆæœæˆªå›¾ æœ€æ–°ç‰ˆæœ¬è¿›è¡Œäº†ä¼˜åŒ–æ›´æ–°ï¼Œæ•ˆæœå›¾ä¸æœ€åˆçš„æ•ˆæœå›¾æœ‰å·®åˆ«ï¼Œä¸‹é¢çš„å›¾ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ã€‚ ä»Šå¤©å…ˆåˆ°è¿™ï¼Œæˆ‘ä¹Ÿè¦æ´—æ¾¡ç¡è§‰äº†(23:44)","categories":[{"name":"åšå®¢ä¿®æ”¹","slug":"åšå®¢ä¿®æ”¹","permalink":"http://engravesunny.github.io/categories/%E5%8D%9A%E5%AE%A2%E4%BF%AE%E6%94%B9/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"},{"name":"åšå®¢ä¿®æ”¹","slug":"åšå®¢ä¿®æ”¹","permalink":"http://engravesunny.github.io/tags/%E5%8D%9A%E5%AE%A2%E4%BF%AE%E6%94%B9/"}]},{"title":"æ­å»ºhexoåšå®¢","slug":"10.8-10.9ç¬”è®°","date":"2022-10-09T14:18:22.000Z","updated":"2022-10-09T14:51:00.800Z","comments":true,"path":"2022/10/09/10.8-10.9-bi-ji/","link":"","permalink":"http://engravesunny.github.io/2022/10/09/10.8-10.9-bi-ji/","excerpt":"","text":"ç®€å•åšå®¢æ­å»ºæµç¨‹è¿™ä¸¤å¤©ä¸»è¦å°±æ˜¯åœ¨æ­å»ºå’Œé…ç½®è‡ªå·±çš„å°åšå®¢(ä»¥åä¼šå‘ä¸€ç‚¹åšæ–‡ï¼Œä¸è¿‡æˆ‘å¤§å¤šä¼šæ˜¯ç¬”è®°æœ¬æ¥ç”¨) æœ¬åœ°å®‰è£…ä»¥åŠå‘å¸ƒ å®‰è£…åˆ°æœ¬åœ° é¦–å…ˆé€‰æ‹©ä¸€ä¸ªç£ç›˜ä½œä¸ºä½ åšå®¢æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œç„¶åæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚åä¸ºblogtestçš„æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºå®Œåï¼Œå…ˆä¸è¦ç‚¹è¿›å»ï¼Œåœ¨æ­¤å¤„ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©Git Bash Hereï¼Œç„¶åä¾æ¬¡è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š # hexoæ¡†æ¶çš„å®‰è£… npm install -g hexo-cli # ç­‰ä¸Šä¸€ä¸ªå‘½ä»¤å®Œæˆåï¼Œåœ¨è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ hexo init &lt;æ–°å»ºæ–‡ä»¶å¤¹çš„åç§°> #åˆå§‹åŒ–æ–‡ä»¶å¤¹ cd &lt;æ–°å»ºæ–‡ä»¶å¤¹çš„åç§°> npm install # å®‰è£…åšå®¢æ‰€éœ€è¦çš„ä¾èµ–æ–‡ä»¶ ç­‰å¾…è¿è¡Œå®Œçš„æ—¶å€™ï¼Œæ­¤æ—¶æ–‡ä»¶å¤¹é‡Œå¤šäº†å¾ˆå¤šæ–‡ä»¶æ³¨æ„ï¼šåç»­çš„å‘½ä»¤éƒ½åœ¨ç«™ç‚¹ç›®å½•ä¸‹ä½¿ç”¨Git Bashè¿è¡Œæ­¤æ—¶Hexoæ¡†æ¶çš„æœ¬åœ°æ­å»ºå·²ç»å®Œæˆäº†ã€‚å‘½ä»¤è¡Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤: hexo g hexo s æµè§ˆå™¨ä¸­æ‰“å¼€å®ƒæ‰§è¡Œå®Œåç»™ä½ çš„åœ°å€ï¼ˆé»˜è®¤ä¸ºhttp://localhost:4000/ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªç½‘é¡µï¼Œè¯´æ˜Hexoå·²ç»æˆåŠŸåœ¨æœ¬åœ°è¿è¡Œ 2.æœ¬åœ°åšå®¢å‘å¸ƒåˆ°Github Pages é¦–å…ˆå®‰è£…å¯ä»¥ç”¨æ¥å‘å¸ƒçš„æ’ä»¶ï¼Œåœ¨ç«™ç‚¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤: npm install hexo-deployer-git --save ç„¶åæŠŠæœ¬åœ°ç›®å½•ä¸GitHubå…³è”èµ·æ¥ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¡Œ: ssh-keygen -t rsa -C 'ä½ çš„é‚®ç®±åœ°å€' ç„¶åä¸€ç›´å›è½¦æ‰¾åˆ°C:&#x2F;Users&#x2F;[username]ç›®å½•ä¸‹åä¸º.sshçš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å†…ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªid_rsa.pubä¸€ä¸ªid_rsaï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„çš„å†…å®¹ã€‚ ç„¶åæ‰“å¼€Githubï¼Œç‚¹å‡»å³ä¸Šè§’çš„å¤´åƒ Settings é€‰æ‹©SSH and GPG keys ç‚¹å‡»New SSH key å°†ä¹‹å‰å¤åˆ¶çš„å†…å®¹ç²˜å¸–åˆ°Keyçš„æ¡†ä¸­ã€‚ ä¸Šé¢çš„Titleå¯ä»¥éšæ„ï¼Œç‚¹å‡»Add SSH key å®Œæˆæ·»åŠ ã€‚ ç„¶åå›åˆ°å‘½ä»¤è¡Œç•Œé¢ï¼Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦ä¸githubè¿æ¥æˆåŠŸ ssh -T git@github.com ç‚¹å‡»å›è½¦ï¼Œç„¶åä¼šå‡ºç°ä¸€ä¸ªè¯¢é—®å†…å®¹ï¼Œè¾“å…¥yesï¼Œå›è½¦ï¼Œä¼šå‡ºç°ä¸€æ®µå†…å®¹ï¼ŒHi ! Youâ€™ve successfully authenticated, but GitHub doesnot provide shell access.ã€‚ è¯´æ˜è¿æ¥æˆåŠŸã€‚æ­¤å¤„è¿™ä¸ªåº”è¯¥æ˜¯ä½ Githubçš„ç”¨æˆ·åã€‚ è¿›å…¥åšå®¢ç«™ç‚¹ç›®å½•ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€_config.ymlï¼Œè¿™ä¸ª_config.ymlæ˜¯åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ä»¥åçš„åšå®¢ä¿®æ”¹ï¼Œå¦‚ä¸ªæ€§åŒ–ä¿®æ”¹ï¼Œåšå®¢SEOä¼˜åŒ–ç­‰éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œ ä¿®æ”¹å¦‚ä¸‹å›¾çš„å‡ ä¸ªåœ°æ–¹ï¼š title: ä½ çš„åšå®¢å subtitle: åšå®¢çš„å‰¯æ ‡é¢˜ï¼Œæœ‰äº›ä¸»é¢˜æ”¯æŒ description: åšå®¢æè¿° keywords: åšå®¢å…³é”®è¯ author: ä½œè€…ï¼Œåœ¨æ–‡ç« ä¸­æ˜¾ç¤º language: åšå®¢è¯­è¨€è¯­ç§ timezone: æ—¶åŒº æ»‘åˆ°æ–‡ä»¶æœ€åº•éƒ¨ï¼Œæœ‰ä¸€ä¸ªdeployï¼Œåœ¨deployä¸‹é¢æ·»åŠ ä¸€ä¸ªrepoé¡¹ ï¼Œä¸€ä¸ªbranché¡¹ã€‚å¡«å…¥å¦‚ä¸‹ä»£ç ï¼Œå¹¶å¦‚ä¸‹å›¾æ‰€ç¤º type: git repo: git@github.com:Githubç”¨æˆ·å/githubç”¨æˆ·å.github.io.git //ä¹Ÿå¯ä½¿ç”¨httpsåœ°å€ï¼Œå¦‚ï¼šhttps://github.com/Githubç”¨æˆ·å/Githubç”¨æˆ·å.github.io.git branch: master æœ€åå°±æ˜¯ç”Ÿæˆé¡µé¢ï¼Œå¹¶å‘å¸ƒè‡³Github Pagesï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š # Hexoä¼šæ ¹æ®é…ç½®æ–‡ä»¶æ¸²æŸ“å‡ºä¸€å¥—é™æ€é¡µé¢ hexo g # å°†ä¸Šä¸€æ­¥æ¸²æŸ“å‡ºçš„ä¸€ç³»åˆ—æ–‡ä»¶ä¸Šä¼ è‡³è‡³Github Pages hexo d # ä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥æ­¤å‘½ä»¤ï¼Œç›´æ¥å®Œæˆæ¸²æŸ“å’Œä¸Šä¼  hexo g -d hexoåšå®¢ä¸»é¢˜çš„å®‰è£…äºä¿®æ”¹ä¼šåœ¨å¦ä¸€ç¯‡é‡Œä¸“é—¨è®²","categories":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"http://engravesunny.github.io/categories/%E5%8D%9A%E5%AE%A2/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"http://engravesunny.github.io/tags/%E5%8D%9A%E5%AE%A2/"}]},{"title":"10.1-3ç¬”è®°","slug":"10.1-3ç¬”è®°","date":"2022-10-09T01:25:00.000Z","updated":"2022-10-09T08:30:29.275Z","comments":true,"path":"2022/10/09/10.1-3-bi-ji/","link":"","permalink":"http://engravesunny.github.io/2022/10/09/10.1-3-bi-ji/","excerpt":"","text":"ä»ä»Šå¤©å¼€å§‹å­¦ä¹ Reactäº†ï¼ï¼ï¼ˆ2022.10.01ï¼‰jsxè¯­æ³•è§„åˆ™ 1.å®šä¹‰è™šæ‹ŸDOMæ—¶ï¼Œä¸è¦ç”¨å¼•å· 2.æ ‡ç­¾ä¸­æ··ç”¨JSè¡¨è¾¾å¼æ—¶è¦ç”¨&#123;&#125; 3.æ ·å¼çš„ç±»åæŒ‡å®šä¸è¦ç”¨classï¼Œè¦ç”¨className 4.å†…è”æ ·å¼ï¼Œè¦ç”¨style=&#123;&#123;key:value&#125;&#125;çš„å½¢å¼å»å†™ 5.åªæœ‰ä¸€ä¸ªè·Ÿæ ‡ç­¾ 6.æ ‡ç­¾å¿…é¡»é—­åˆ 7.æ ‡ç­¾é¦–å­—æ¯ (1).è‹¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å°†è¯¥æ ‡ç­¾è½¬ä¸ºhtmlä¸­åŒåå…ƒç´ ï¼Œè‹¥htmlä¸­æ²¡æœ‰è¯¥æ ‡ç­¾ï¼Œå°±æŠ¥é”™ (2).å¦‚æœæ˜¯å¤§å†™å­—æ¯å¼€å¤´ï¼ŒReactå°±å»æ¸²æŸ“è¿™ä¸ªç»„ä»¶ï¼Œæ²¡æœ‰å®šä¹‰çš„è¯å°±æŠ¥é”™ &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> &lt;title>Document&lt;/title> &lt;style> .pink&amp;#123; background-color: pink; &amp;#125; &lt;/style> &lt;/head> &lt;body> &lt;div id=\"test\">&lt;/div> &lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;script type=\"text/babel\"> /* æ­¤å¤„ä¸€å®šè¦å†™babel */ //1.åˆ›å»ºè™šæ‹ŸDOM const x = 'å¤–éƒ¨å®šä¹‰çš„å˜é‡' const id = 'title' const VDOM = ( &lt;div> &lt;h1 id=&amp;#123;id&amp;#125; className=\"pink\" style=&amp;#123;&amp;#123;color:'white'&amp;#125;&amp;#125;>Hello,React&lt;/h1> &lt;span>&amp;#123;x&amp;#125;&lt;/span> &lt;/div> ) //æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² //2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢ // ReactDOM.render(è™šæ‹ŸDOM,å®¹å™¨) ReactDOM.render(VDOM,document.getElementById('test')) &lt;/script> &lt;/body> &lt;/html> 2.stateå±æ€§ç»„ä»¶å†…å®šä¹‰stateå±æ€§&lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> &lt;title>Document&lt;/title> &lt;/head> &lt;body> &lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --> &lt;div id=\"test\"> &lt;/div> &lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;script type=\"text/babel\"> //åˆ›å»ºä¸€ä¸ªç»„ä»¶ class Wether extends React.Component&amp;#123; constructor(props)&amp;#123; super(props) this.state=&amp;#123; isHot:false, wind:'å¤§é£' &amp;#125; &amp;#125; render()&amp;#123; return &lt;h1>ä»Šå¤©å¤©æ°”å¾ˆ&amp;#123;this.state.isHot?'ç‚çƒ­':'å‡‰çˆ½'&amp;#125;,ä»Šå¤©æœ‰&amp;#123;this.state.wind&amp;#125;&lt;/h1> &amp;#125; &amp;#125; ReactDOM.render(&lt;Wether/>,document.getElementById('test')) &lt;/script> &lt;/body> &lt;/html> stateäº‹ä»¶ç»‘å®š&lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> &lt;title>Document&lt;/title> &lt;/head> &lt;body> &lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --> &lt;div id=\"test\"> &lt;/div> &lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;script type=\"text/babel\"> //åˆ›å»ºä¸€ä¸ªç»„ä»¶ class Wether extends React.Component&amp;#123; // æ„é€ å™¨è°ƒç”¨1æ¬¡ constructor(props)&amp;#123; console.log('constructor'); super(props) this.state=&amp;#123; isHot:false, wind:'å¤§é£' &amp;#125; //è§£å†³clickFnä¸­thisæŒ‡å‘é—®é¢˜ this.clickFn=this.clickFn.bind(this) &amp;#125; // renderè°ƒç”¨1+næ¬¡ 1æ˜¯åˆå§‹åŒ–é‚£æ¬¡ï¼Œnæ˜¯çŠ¶æ€æ›´æ–°çš„æ¬¡æ•° render()&amp;#123; return &lt;h1 onClick=&amp;#123;this.clickFn&amp;#125;>ä»Šå¤©å¤©æ°”å¾ˆ&amp;#123;this.state.isHot?'ç‚çƒ­':'å‡‰çˆ½'&amp;#125;,ä»Šå¤©æœ‰&amp;#123;this.state.wind&amp;#125;&lt;/h1> &amp;#125; // ç±»å†…å®šä¹‰å‡½æ•° clickFn()&amp;#123; // clickFnæ”¾åœ¨äº†Weatherçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›ç¤ºä¾‹ä½¿ç”¨ // ç”±äºclickFnæ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œæ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨çš„ï¼Œæ˜¯ç›´æ¥è°ƒç”¨ // ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥clickFnä¸­çš„thisä¸ºundefined let isHot = this.state.isHot // ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€(state)ä¸å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œä¸‹é¢è¿™è¡Œå°±æ˜¯ç›´æ¥æ›´æ”¹ï¼ï¼ï¼ // this.state.isHot = !isHot console.log(this); // ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€å¿…é¡»é€šè¿‡setStateè¿›è¡Œæ›´æ–°,ä¸”æ›´æ–°æ˜¯ä¸€ç§åˆå¹¶ï¼Œä¸æ˜¯æ›¿æ¢ this.setState(&amp;#123;isHot:!isHot&amp;#125;) &amp;#125; &amp;#125; ReactDOM.render(&lt;Wether/>,document.getElementById('test')) // ç±»å¤–å®šä¹‰å‡½æ•° // let clickFn = function()&amp;#123; // alert('è¢«ç‚¹å‡»äº†') // &amp;#125; // console.log(clickFn); // let clickFn = ()=>&amp;#123; // alert('è¢«ç‚¹å‡»äº†') // &amp;#125; // console.log(clickFn); // æµ‹è¯•äº†ä¸€ä¸‹ï¼Œä¸Šé¢ä¸¤ç§æ–¹å¼æ²¡åŠæ³•æ‰§è¡Œï¼Œä¸çŸ¥é“æ˜¯jsxçš„é—®é¢˜è¿˜æ˜¯æˆ‘å“ªé‡Œçš„çŸ¥è¯†ç‚¹è½ä¸‹äº† â€”_â€” // function clickFn()&amp;#123; // alert('h1è¢«ç‚¹å‡»äº†') // &amp;#125; // //ä¸Šé¢è¿™ç§æ˜¯å¯ä»¥çš„ &lt;/script> &lt;/body> &lt;/html> stateç®€å†™&lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> &lt;title>Document&lt;/title> &lt;/head> &lt;body> &lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --> &lt;div id=\"test\">&lt;/div> &lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;script type=\"text/babel\"> //åˆ›å»ºä¸€ä¸ªç»„ä»¶ class Wether extends React.Component&amp;#123; //ç›´æ¥æ”¾åˆ°å®ä¾‹è‡ªèº«ä¸Š state=&amp;#123; isHot:false, wind:'å¤§é£' &amp;#125; // renderè°ƒç”¨1+næ¬¡ 1æ˜¯åˆå§‹åŒ–é‚£æ¬¡ï¼Œnæ˜¯çŠ¶æ€æ›´æ–°çš„æ¬¡æ•° render()&amp;#123; return &lt;h1 onClick=&amp;#123;this.clickFn&amp;#125;>ä»Šå¤©å¤©æ°”å¾ˆ&amp;#123;this.state.isHot?'ç‚çƒ­':'å‡‰çˆ½'&amp;#125;,ä»Šå¤©æœ‰&amp;#123;this.state.wind&amp;#125;&lt;/h1> &amp;#125; // è‡ªå®šä¹‰æ–¹æ³•â€”â€”è¦ç”¨èµ‹å€¼è¯­å¥çš„å½¢å¼+ç®­å¤´å‡½æ•° clickFn = ()=> &amp;#123; let isHot = this.state.isHot console.log(this); this.setState(&amp;#123;isHot:!isHot&amp;#125;) &amp;#125; &amp;#125; ReactDOM.render(&lt;Wether/>,document.getElementById('test')) &lt;/script> &lt;/body> &lt;/html> stateæ€»ç»“1.stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§ï¼Œå€¼æ˜¯å¯¹è±¡2.é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º æ³¨æ„1.ç»„ä»¶ä¸­çš„renderæ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å®ä¾‹å¯¹è±¡2.ç»„ä»¶è‡ªå®šä¹‰æ–¹æ³•ä¸­çš„thisä¸ºundefinedï¼Œå¦‚ä½•è§£å†³ï¼Ÿ 1)å¼ºåˆ¶ç»‘å®šthisï¼šé€šè¿‡å‡½æ•°å¯¹è±¡çš„bind() 2)ç®­å¤´å‡½æ•°3.çŠ¶æ€æ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–° propså±æ€§propsåŸºæœ¬ä½¿ç”¨&lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> &lt;title>Document&lt;/title> &lt;/head> &lt;body> &lt;div id=\"test1\">&lt;/div> &lt;div id=\"test2\">&lt;/div> &lt;div id=\"test3\">&lt;/div> &lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;!-- prop-typesåº“ --> &lt;script src=\"https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js\">&lt;/script> &lt;script type=\"text/babel\"> class Person extends React.Component&amp;#123; render()&amp;#123; const &amp;#123;name,age,sex&amp;#125; = this.props return &lt;ul> &lt;li>å§“åï¼š&amp;#123;name&amp;#125;&lt;/li> &lt;li>å¹´é¾„ï¼š&amp;#123;age&amp;#125;&lt;/li> &lt;li>æ€§åˆ«ï¼š&amp;#123;sex&amp;#125;&lt;/li> &lt;/ul> &amp;#125; &amp;#125; //å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶ Person.propTypes = &amp;#123; name:PropTypes.string.isRequired, sex:PropTypes.string, age:PropTypes.number, speak:PropTypes.func &amp;#125; // æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼ Person.defaultProps = &amp;#123; sex:'ä¸ç”·ä¸å¥³' &amp;#125; ReactDOM.render(&lt;Person name='jerry' age=&amp;#123;19&amp;#125; />,document.getElementById('test1')) ReactDOM.render(&lt;Person name='tom' age=&amp;#123;18&amp;#125; sex='ç”·' />,document.getElementById('test2')) //æ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ const p = &amp;#123;name:'jane' ,age:19, sex:'å¥³' &amp;#125; ReactDOM.render(&lt;Person &amp;#123;...p&amp;#125; />,document.getElementById('test3')) &lt;/script> &lt;/body> &lt;/html> propsçš„ç®€å†™æ–¹æ³•&lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> &lt;title>Document&lt;/title> &lt;/head> &lt;body> &lt;div id=\"test1\">&lt;/div> &lt;div id=\"test2\">&lt;/div> &lt;div id=\"test3\">&lt;/div> &lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œdom --> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;!-- prop-typesåº“ --> &lt;script src=\"https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js\">&lt;/script> &lt;script type=\"text/babel\"> class Person extends React.Component&amp;#123; //å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶ static propTypes = &amp;#123; name:PropTypes.string.isRequired, sex:PropTypes.string, age:PropTypes.number, speak:PropTypes.func &amp;#125; // æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼ static defaultProps = &amp;#123; sex:'ä¸ç”·ä¸å¥³' &amp;#125; render()&amp;#123; const &amp;#123;name,age,sex&amp;#125; = this.props return &lt;ul> &lt;li>å§“åï¼š&amp;#123;name&amp;#125;&lt;/li> &lt;li>å¹´é¾„ï¼š&amp;#123;age&amp;#125;&lt;/li> &lt;li>æ€§åˆ«ï¼š&amp;#123;sex&amp;#125;&lt;/li> &lt;/ul> &amp;#125; &amp;#125; ReactDOM.render(&lt;Person name='jerry' age=&amp;#123;19&amp;#125; />,document.getElementById('test1')) ReactDOM.render(&lt;Person name='tom' age=&amp;#123;18&amp;#125; sex='ç”·' />,document.getElementById('test2')) //æ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ const p = &amp;#123;name:'jane' ,age:19, sex:'å¥³' &amp;#125; ReactDOM.render(&lt;Person &amp;#123;...p&amp;#125; />,document.getElementById('test3')) &lt;/script> &lt;/body> &lt;/html>","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}],"author":"Alicia"},{"title":"10.4(props)ç¬”è®°","slug":"10.4ç¬”è®°","date":"2022-10-09T01:25:00.000Z","updated":"2022-10-09T08:30:38.322Z","comments":true,"path":"2022/10/09/10.4-bi-ji/","link":"","permalink":"http://engravesunny.github.io/2022/10/09/10.4-bi-ji/","excerpt":"","text":"props(ç»§ç»­å­¦ä¹ )ç±»å¼ç»„ä»¶çš„æ„é€ å™¨ä¸propsæ„é€ å‡½æ•°ä¸€èˆ¬ç”¨åœ¨ä¸¤ç§æƒ…å†µ: 1.é€šè¿‡ç»™this.stateèµ‹å€¼å¯¹è±¡æ¥åˆå§‹åŒ–å†…éƒ¨state 2.ä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šå®ä¾‹ constructor(props)&amp;#123; super(props) //åˆå§‹åŒ–state this.state=&amp;#123;isHot:true,wind:'å¾®é£'&amp;#125; // è§£å†³ this æŒ‡å‘é—®é¢˜ this.changeWeather = this.changeWeather.bind(this) &amp;#125; å› æ­¤æ„é€ å™¨ä¸€èˆ¬ä¸éœ€è¦å†™ï¼Œå¦‚æœè¦åœ¨æ„é€ å™¨å†…ä½¿ç”¨this.propsæ‰å£°æ˜æ„é€ å™¨,å¹¶ä¸”éœ€è¦åœ¨æœ€å¼€å§‹è°ƒç”¨super(props) constructor(props)&amp;#123; super(props) console.log(this.props); &amp;#125; å‡½æ•°å¼ç»„ä»¶ä¸propsç”±äºå‡½æ•°å¯ä»¥ä¼ é€’å‚æ•°ï¼Œå› æ­¤å‡½æ•°å¼ç»„ä»¶å¯ä»¥ä½¿ç”¨ props ã€‚ &lt;script src=\"https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js\">&lt;/script> &lt;script type=\"text/babel\"> // å› ä¸ºå‡½æ•°å¯ä»¥ä¼ å‚æ•°ï¼Œå› æ­¤å‡½æ•°å¼ç»„ä»¶å¯ä»¥ä½¿ç”¨props function Person(props)&amp;#123; const &amp;#123; name, age, sex &amp;#125; = props return ( &lt;ul> &lt;li>å§“åï¼š&amp;#123; name &amp;#125;&lt;/li> &lt;li>å¹´é¾„ï¼š&amp;#123; age &amp;#125;&lt;/li> &lt;li>æ€§åˆ«ï¼š&amp;#123; sex &amp;#125; &lt;/li> &lt;/ul> ) &amp;#125; Person.propTypes = &amp;#123; name:PropTypes.string.isRequired, age:PropTypes.number, sex:PropTypes.string, &amp;#125; Person.defaultProps = &amp;#123; sex:'ç”·', age:18 &amp;#125; ReactDOM.render(&lt;Person name=\"tom\"/>,document.getElementById('test')) &lt;/script> ç»„ä»¶å®ä¾‹æ ¸å¿ƒå±æ€§3â€“refå­—ç¬¦ä¸²ç±»å‹çš„refè¿™ç§å½¢å¼å·²è¿‡æ—¶ï¼Œæ•ˆç‡ä¸é«˜ï¼Œå®˜æ–¹ä¸å»ºè®®ä½¿ç”¨ &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; showLeft = ()=> &amp;#123; const &amp;#123;ipt1&amp;#125; = this.refs alert(ipt1.value) &amp;#125; showRight = ()=> &amp;#123; const &amp;#123;ipt2&amp;#125; = this.refs alert(ipt2.value) &amp;#125; render()&amp;#123; return ( &lt;div> &lt;input ref='ipt1' type=\"text\" placeholder=\"ç‚¹æˆ‘æç¤ºå·¦ä¾§ä¿¡æ¯\"/> &lt;button onClick=&amp;#123;this.showLeft&amp;#125;>ç‚¹æˆ‘æç¤ºå·¦ä¾§ä¿¡æ¯&lt;/button> &lt;input onBlur=&amp;#123;this.showRight&amp;#125; ref='ipt2' type=\"text\" placeholder=\"å¤±å»ç„¦ç‚¹æç¤ºå³ä¾§ä¿¡æ¯\"/> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> å›è°ƒç±»å‹çš„refè¦ç‚¹ï¼š c =&gt; this.ipt1 = cå°±æ˜¯ç»™ç»„ä»¶å®ä¾‹æ·»åŠ ipt1å±æ€§ï¼Œå€¼ä¸ºèŠ‚ç‚¹ ç”±äºæ˜¯ç®­å¤´å‡½æ•°ï¼Œå› æ­¤thisæ˜¯renderå‡½æ•°é‡Œçš„å®ä¾‹ï¼Œå³ä¸ºç»„ä»¶å®ä¾‹ &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; showLeft=()=>&amp;#123; const &amp;#123;ipt1&amp;#125; = this alert(ipt1.value) &amp;#125; showRight=()=>&amp;#123; const &amp;#123;ipt2&amp;#125; = this alert(ipt2.value) &amp;#125; render()&amp;#123; return ( &lt;div> &lt;input ref=&amp;#123;c=>this.ipt1=c&amp;#125; type=\"text\" placeholder='ç‚¹å‡»è·å–å·¦ä¾§ä¿¡æ¯' /> &lt;button onClick=&amp;#123;this.showLeft&amp;#125;>ç‚¹æˆ‘è·å–å·¦ä¾§ä¿¡æ¯&lt;/button> &lt;input onBlur=&amp;#123;this.showRight&amp;#125; ref=&amp;#123;c=>this.ipt2=c&amp;#125; type=\"text\" placeholder='å¤±å»ç„¦ç‚¹æç¤ºå³ä¾§ä¿¡æ¯'/> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> å…³äºå›è°ƒ ref æ‰§è¡Œæ¬¡æ•°çš„é—®é¢˜ï¼Œå®˜ç½‘ (opens new window)æè¿°ï¼š TIPå¦‚æœ ref å›è°ƒå‡½æ•°æ˜¯ä»¥å†…è”å‡½æ•°çš„æ–¹å¼å®šä¹‰çš„ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­å®ƒä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼ å…¥å‚æ•° nullï¼Œç„¶åç¬¬äºŒæ¬¡ä¼šä¼ å…¥å‚æ•° DOM å…ƒç´ ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å®ä¾‹ï¼Œæ‰€ä»¥ React æ¸…ç©ºæ—§çš„ ref å¹¶ä¸”è®¾ç½®æ–°çš„ã€‚é€šè¿‡å°† ref çš„å›è°ƒå‡½æ•°å®šä¹‰æˆ class çš„ç»‘å®šå‡½æ•°çš„æ–¹å¼å¯ä»¥é¿å…ä¸Šè¿°é—®é¢˜ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹å®ƒæ˜¯æ— å…³ç´§è¦çš„ã€‚ å³å†…è”å‡½æ•°å½¢å¼ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ ref å›è°ƒä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼ å…¥ null ï¼Œç¬¬äºŒæ¬¡ä¼ å…¥ DOM å…ƒç´ ã€‚è‹¥æ˜¯ä¸‹è¿°å½¢å¼ï¼Œåˆ™åªæ‰§è¡Œä¸€æ¬¡ã€‚ä½†æ˜¯å¯¹åŠŸèƒ½å®ç°æ²¡æœ‰å½±å“ï¼Œå› æ­¤ä¸€èˆ¬ä¹Ÿæ˜¯ç”¨å†…è”å‡½æ•°å½¢å¼ã€‚ &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; state=&amp;#123; isHot:true &amp;#125; changeWeather = ()=>&amp;#123; const isHot = this.state.isHot this.setState(&amp;#123;isHot:!isHot&amp;#125;) &amp;#125; showMsg = ()=>&amp;#123; const &amp;#123;ipt&amp;#125; = this alert(ipt.value) &amp;#125; saveRefs = (c)=>&amp;#123; &amp;#125; render()&amp;#123; const &amp;#123;isHot&amp;#125; = this.state return ( &lt;div> &lt;h2>&amp;#123;isHot?'ç‚çƒ­':'å‡‰çˆ½'&amp;#125;&lt;/h2> &amp;#123;/*&lt;input ref=&amp;#123;c=>&amp;#123;this.ipt=c;console.log('@',c)&amp;#125;&amp;#125; type=\"text\"/> &lt;br/>&lt;br/>*/&amp;#125; //ä¸Šé¢å›è°ƒåœ¨renderæ›´æ–°æ¸²æŸ“æ—¶ä¼šè°ƒç”¨ä¸¤æ¬¡ //è§£å†³ï¼šå¤–å±‚å®šä¹‰ä¸€ä¸ªsaveå‡½æ•°ï¼Œrefå›è°ƒé‡Œè°ƒç”¨saveï¼Œsaveé‡Œæå–çœŸå®DOM &lt;input ref=&amp;#123;this.saveRefs&amp;#125; type=\"text\"/> &lt;br/>&lt;br/> &lt;button onClick=&amp;#123;this.showMsg&amp;#125;>ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/button> &lt;button onClick=&amp;#123;this.changeWeather&amp;#125;>åˆ‡æ¢&lt;/button> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> createRef APIè¯¥æ–¹å¼é€šè¿‡è°ƒç”¨React.CreateRefè¿”å›ä¸€ä¸ªå®¹å™¨ç”¨äºå‚¨å­˜èŠ‚ç‚¹ï¼Œä¸”ä¸€ä¸ªå®¹å™¨åªèƒ½å­˜å‚¨ä¸€ä¸ªèŠ‚ç‚¹ &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; myRef = React.createRef() showMsg = ()=>&amp;#123; console.log(this.myRef.current.value); &amp;#125; render()&amp;#123; return ( &lt;div> &lt;input ref=&amp;#123;this.myRef&amp;#125; type=\"text\"/> &lt;button onClick=&amp;#123;this.showMsg&amp;#125;>ç‚¹å‡»æç¤ºä¿¡æ¯&lt;/button> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> äº‹ä»¶å¤„ç† React ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶ï¼Œè€ŒéåŸç”Ÿ DOM äº‹ä»¶ï¼Œå³ onClickã€onBlur ï¼šä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§ React çš„äº‹ä»¶é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼è¿›è¡Œå¤„ç†ï¼šä¸ºäº†é«˜æ•ˆ é€šè¿‡ event.target å¯è·å–è§¦å‘äº‹ä»¶çš„DOMå…ƒç´ ï¼šå‹¿è¿‡åº¦ä½¿ç”¨ ref å½“è§¦å‘äº‹ä»¶çš„å…ƒç´ å’Œéœ€è¦æ“ä½œçš„å…ƒç´ ä¸ºåŒä¸€å…ƒç´ æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨ref: class Demo extends React.Component &amp;#123; showData2 = (event) => &amp;#123; alert(event.target.value) &amp;#125; render() &amp;#123; return ( &lt;div> &lt;input onBlur=&amp;#123;this.showData2&amp;#125; type=\"text\" placeholder=\"å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®\" /> &amp;nbsp; &lt;/div> ) &amp;#125; &amp;#125;","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}],"author":"Alicia"},{"title":"10.5(Reactè„šæ‰‹æ¶)","slug":"10.5(2)","date":"2022-10-08T08:00:44.726Z","updated":"2022-10-09T08:31:48.382Z","comments":true,"path":"2022/10/08/10.5-2/","link":"","permalink":"http://engravesunny.github.io/2022/10/08/10.5-2/","excerpt":"","text":"Reactè„šæ‰‹æ¶Reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„public:é™æ€èµ„æºæ–‡ä»¶ manifest.json:åº”ç”¨åŠ å£³(æŠŠç½‘é¡µå˜æˆå®‰å“&#x2F;iosè½¯ä»¶)çš„é…ç½®æ–‡ä»¶ robots.txt:çˆ¬è™«åè®®æ–‡ä»¶ src:æºç æ–‡ä»¶ App.test.js:ç”¨äºç»™Appç»„ä»¶åšæµ‹è¯• index.js:å…¥å£æ–‡ä»¶ reportWebVitals.js:é¡µé¢æ€§èƒ½åˆ†ææ–‡ä»¶ï¼Œéœ€è¦web-vitalsæ”¯æŒ setupTests.js:ç»„ä»¶å•å…ƒæµ‹è¯•æ–‡ä»¶ï¼Œéœ€è¦jest-domæ”¯æŒ index.jsä»£ç åˆ†æ: &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"utf-8\" /> &lt;!-- %PUBLIC_URL% ä»£è¡¨ public æ–‡ä»¶å¤¹çš„è·¯å¾„ --> &lt;link rel=\"icon\" href=\"%PUBLIC_URL%/favicon.ico\" /> &lt;!-- å¼€å¯ç†æƒ³è§†å£ï¼Œç”¨äºåšç§»åŠ¨ç«¯ç½‘é¡µçš„é€‚é… --> &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /> &lt;!-- ç”¨äºé…ç½®æµè§ˆå™¨é¡µç­¾+åœ°å€æ çš„é¢œè‰²(ä»…æ”¯æŒå®‰å“æ‰‹æœºæµè§ˆå™¨) --> &lt;meta name=\"theme-color\" content=\"red\" /> &lt;!-- ç½‘ç«™æè¿° --> &lt;meta name=\"description\" content=\"Web site created using create-react-app\" /> &lt;!-- ç”¨äºæŒ‡å®šç½‘é¡µæ·»åŠ åˆ°æ‰‹æœºä¸»å±å¹•åçš„å›¾æ ‡ --> &lt;link rel=\"apple-touch-icon\" href=\"%PUBLIC_URL%/logo192.png\" /> &lt;!-- åº”ç”¨åŠ å£³æ—¶çš„é…ç½®æ–‡ä»¶ --> &lt;link rel=\"manifest\" href=\"%PUBLIC_URL%/manifest.json\" /> &lt;title>React App&lt;/title> &lt;/head> &lt;body> &lt;!-- è‹¥æµè§ˆå™¨ä¸æ”¯æŒ js åˆ™å±•ç¤ºæ ‡ç­¾ä¸­çš„å†…å®¹ --> &lt;noscript>You need to enable JavaScript to run this app.&lt;/noscript> &lt;div id=\"root\">&lt;/div> &lt;/body> &lt;/html> æ ·å¼çš„æ¨¡å—åŒ–æ ·å¼çš„æ¨¡å—åŒ–å¯ç”¨äºè§£å†³æ ·å¼å†²çªçš„é—®é¢˜ã€‚è¯¥æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå®é™…å¼€å‘ç”¨çš„æ¯”è¾ƒå°‘ã€‚ç”¨ less å°±èƒ½è§£å†³äº†ã€‚component/Helloæ–‡ä»¶ä¸‹çš„index.cssæ”¹åä¸ºindex.module.css .title&amp;#123; background-color:pink; &amp;#125; Helloç»„ä»¶å¯¼å…¥æ ·å¼: import &amp;#123; Component &amp;#125; from 'react' import hello from './index.module.css' export default class Hello extends Component &amp;#123; render() &amp;#123; return &lt;h2 className=&amp;#123;hello.title&amp;#125;>Hello,React!&lt;/h2> &amp;#125; &amp;#125; Reactç½‘ç»œè¯·æ±‚Reactè„šæ‰‹æ¶é…ç½®ä»£ç†æ–¹æ³•ä¸€ï¼š åœ¨package.jsonæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®: \"proxy\":\"http://localhost:5000\" //è¦è®¿é—®çš„url ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå‰ç«¯è¯·æ±‚èµ„æºä¸åŠ å‰ç¼€ ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç† å·¥ä½œæ–¹å¼ï¼šå½“è¯·æ±‚äº†3000ç«¯å£ï¼ˆæœ¬æœºï¼‰ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œå°±ä¼šæŠŠè¯·æ±‚è½¬å‘ç»™5000ç«¯å£å·æœåŠ¡å™¨ æ–¹æ³•äºŒï¼š åœ¨srcç›®å½•ä¸‹åˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶setupProxy.jsï¼Œè¿›è¡Œé…ç½®ï¼š const proxy = require('http-proxy-middleware') module.exports = function (app) &amp;#123; app.use( //api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000) proxy('/api1', &amp;#123; //é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€) target: 'http://localhost:5000', //æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼ /* changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000 changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:3000 changeOriginé»˜è®¤å€¼ä¸ºfalseï¼Œä½†ä¸€èˆ¬å°†changeOriginæ”¹ä¸ºtrue */ changeOrigin: true, //å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®) pathRewrite: &amp;#123; '^/api1': '' &amp;#125;, &amp;#125;), proxy('/api2', &amp;#123; target: 'http://localhost:5001', changeOrigin: true, pathRewrite: &amp;#123; '^/api2': '' &amp;#125;, &amp;#125;) ) &amp;#125;","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"10.7(Reactè·¯ç”±)","slug":"10.7","date":"2022-10-08T08:00:15.418Z","updated":"2022-10-09T08:32:00.421Z","comments":true,"path":"2022/10/08/10.7/","link":"","permalink":"http://engravesunny.github.io/2022/10/08/10.7/","excerpt":"","text":"Reactè·¯ç”±è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é… é»˜è®¤ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…ï¼ˆè¾“å…¥è·¯å¾„å¿…é¡»åŒ…å«è¦åŒ¹é…çš„è·¯å¾„ï¼Œä¸”é¡ºåºä¸€è‡´ å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼š&lt;Route exact path=&#39;/about&#39; component=&#123;About&#125;/&gt; ä¸¥æ ¼åŒ¹é…å¼€å¯å¯èƒ½ä¼šå¯¼è‡´æ— æ³•ç»§ç»­åŒ¹é…äºŒçº§è·¯ç”± Redirectçš„ä½¿ç”¨ ä¸€èˆ¬å†™åœ¨æ‰€æœ‰è·¯ç”±æ³¨å†Œçš„æœ€ä¸‹æ–¹ï¼Œå½“æ‰€æœ‰è·¯ç”±æ— æ³•åŒ¹é…æ—¶ï¼Œè·³è½¬åˆ°RedirectæŒ‡å®šçš„è·¯ç”± &lt;Switch> &lt;Route path=\"/about\" component=\"&amp;#123;About&amp;#125;\" /> &lt;Route path=\"/home\" component=\"&amp;#123;Home&amp;#125;\" /> &lt;Redirect to=\"/about\" /> &lt;/Switch> åµŒå¥—è·¯ç”± æ³¨å†Œå­è·¯ç”±ä¸Šéœ€è¦å†™çˆ¶è·¯ç”±çš„path è·¯ç”±çš„åŒ¹é…æ˜¯æŒ‰ç…§æ³¨å†Œè·¯ç”±çš„é¡ºåºè¿›è¡Œçš„ &lt;!-- çˆ¶ç»„ä»¶ --> &lt;MyNavLink to=\"/about\">About&lt;/MyNavLink> &lt;MyNavLink to=\"/home\">Home&lt;/MyNavLink> &lt;Switch> &lt;Route path=\"/about\" component=\"&amp;#123;About&amp;#125;\" /> &lt;Route path=\"/home\" component=\"&amp;#123;Home&amp;#125;\" /> &lt;Redirect to=\"/about\" /> &lt;/Switch> &lt;!-- å­ç»„ä»¶ --> &lt;ul className=\"nav nav-tabs\"> &lt;li> &lt;MyNavLink to=\"/home/news\">News&lt;/MyNavLink> &lt;/li> &lt;li> &lt;MyNavLink to=\"/home/message\">Message&lt;/MyNavLink> &lt;/li> &lt;/ul> &lt;Switch> &lt;Route path=\"/home/news\" component=\"&amp;#123;News&amp;#125;\" /> &lt;Route path=\"/home/message\" component=\"&amp;#123;Message&amp;#125;\" /> &lt;Redirect to=\"/home/news\" /> &lt;/Switch> è·¯ç”±ä¼ å‚ä¸‰ç§æ–¹å¼ï¼šparams,search,stateä¸‰ç§æ–¹å¼å¯¹æ¯”ï¼š state:åœ¨å½“å‰é¡µé¢åˆ·æ–°å¯ä»¥ä¿ç•™å‚æ•°ï¼Œä½†åœ¨æ–°é¡µé¢åˆ·æ–°ä¸èƒ½ä¿ç•™ã€‚å‰ä¸¤ç§æ–¹å¼å› ä¸ºæ˜¯åœ¨urlåœ°å€ä¸Šä¿å­˜å‚æ•°ï¼Œå› æ­¤åœ°å€éƒ½èƒ½ä¿ç•™ paramså’Œsearchå‚æ•°éƒ½ä¼šå˜æˆå­—ç¬¦ä¸² &lt;!-- è·¯ç”±é“¾æ¥ --> &lt;Link to='/home/message/detail/Bruce/21'>params&lt;/Link> &lt;Link to=&amp;#123;`/home/message/detail/$&amp;#123;item.name&amp;#125;/$&amp;#123;item.age&amp;#125;`&amp;#125;>&amp;#123;item.name&amp;#125;&lt;/Link> &lt;Link to='/home/message/detail/?name=Bruce&amp;age=21'>search&lt;/Link> &lt;Link to=&amp;#123;`/home/message/detail/?id=$&amp;#123;item.name&amp;#125;&amp;title=$&amp;#123;item.age&amp;#125;`&amp;#125;>&amp;#123;item.name&amp;#125;&lt;/Link> &lt;Link to=&amp;#123;&amp;#123;pathname: '/home/message/detail', state: &amp;#123;name: 'Bruce', age: 21&amp;#125;&amp;#125;&amp;#125;>state&lt;/Link> &lt;!-- æ³¨å†Œè·¯ç”± --> &lt;Route path='/home/message/detail/:name/:age' component=&amp;#123;Detail&amp;#125; /> &lt;!-- search å’Œ state æŒ‰æ­£å¸¸æ³¨å†Œå³å¯ --> &lt;Route path='/home/message/detail' component=&amp;#123;Detail&amp;#125; /> //æ¥æ”¶å‚æ•° const &amp;#123; name, age &amp;#125; = this.props.match.params import qs from 'querystring' const &amp;#123; search &amp;#125; = this.props.location const &amp;#123; name, age &amp;#125; = qs.parse(search.slice(1)) const &amp;#123; name, age &amp;#125; = this.props.location.state ç¼–ç¨‹å¼å¯¼èˆªç¼–ç¨‹å¼å¯¼èˆªæ˜¯ä½¿ç”¨è·¯ç”±ç»„ä»¶this.props.historyæä¾›çš„APIè¿›è¡Œè·¯ç”±è·³è½¬ this.props.history.push(path,state) this.props.history.replace(path,state) this.props.history.goForward() this.props.history.gopBack() this.props.history.go(2)å‚æ•°ä¸ºè´Ÿæ•°æ—¶æ˜¯åé€€ //ç¼–ç¨‹å¼å¯¼èˆªä¼ å‚æ•° this.props.history.push(`/home/message/detail/$&amp;#123;id&amp;#125;/$&amp;#123;title&amp;#125;`)//paramsä¼ å‚ this.props.history.push(`/home/message/detail?id=&amp;#123;id&amp;#125;&amp;title=&amp;#123;title&amp;#125;`)//searchä¼ å‚ this.props.history.push(`/home/message/detail`,&amp;#123;id,title&amp;#125;)//stateä¼ å‚ withRouterçš„ä½¿ç”¨withRouterçš„ä½œç”¨ï¼šåŠ å·¥ä¸€èˆ¬ç»„ä»¶ï¼Œä½¿å…¶åƒè·¯ç”±ç»„ä»¶ä¸€æ ·æœ‰è·¯ç”±ç»„ä»¶çš„APIï¼Œå¦‚this.props.historyç­‰ã€‚ import React,&amp;#123;Component&amp;#125; from 'react' import &amp;#123;withRouter&amp;#125; from 'react-router-dom' class Header extends Component&amp;#123; ... &amp;#125; export default withRouter(Header) BrowserRouterå’ŒHashRouteråº•å±‚åŸç†ä¸ä¸€æ · BrowserRouterä½¿ç”¨çš„æ˜¯H5çš„history APIï¼Œä¸å…¼å®¹IE9åŠä»¥ä¸‹ç‰ˆæœ¬ HashRouterä½¿ç”¨çš„æ˜¯URLçš„å“ˆå¸Œå€¼ è·¯å¾„è¡¨ç°ä¸ä¸€æ · BrowserRouterçš„è·¯å¾„ä¸­æ²¡æœ‰#ï¼Œå¦‚ï¼šlocalhost:3000&#x2F;demo&#x2F;test HashRouterçš„è·¯å¾„åŒ…å«#ï¼Œå¦‚ï¼šlocalhost:3000&#x2F;demo&#x2F;test åˆ·æ–°ä¼šå¯¹è·¯ç”±stateå‚æ•°çš„å½±å“ BrowserRouteræ²¡æœ‰å½±å“ï¼Œå› ä¸ºstateä¿å­˜åœ¨historyå¯¹è±¡ä¸­ HashRouteråˆ·æ–°åä¼šå¯¼è‡´è·¯ç”±stateå‚æ•°çš„ä¸¢å¤± å¤‡æ³¨:HashRouterå¯ä»¥è§£å†³ä¸€äº›è·¯å¾„é”™è¯¯ç›¸å…³çš„é—®é¢˜ React UI ç»„ä»¶åº“Ant Design é…ç½®æŒ‰éœ€å¼•å…¥å’Œè‡ªå®šä¹‰ä¸»é¢˜ä»¥ä¸‹é…ç½®æ˜¯ 3.x ç‰ˆæœ¬ï¼Œ4.x ç‰ˆæœ¬è§å®˜ç½‘ 1.å®‰è£…ä¾èµ–ï¼š npm install react-app-rewired customize-cra babel-plugin-import less less-loader 2.ä¿®æ”¹ package.json \"scripts\": &amp;#123; \"start\": \"react-app-rewired start\", \"build\": \"react-app-rewired build\", \"test\": \"react-app-rewired test\", \"eject\": \"react-scripts eject\" &amp;#125; 3.æ ¹ç›®å½•ä¸‹åˆ›å»º config-overrides.js //é…ç½®å…·ä½“çš„ä¿®æ”¹è§„åˆ™ const &amp;#123; override, fixBabelImports, addLessLoader &amp;#125; = require('customize-cra') module.exports = override( fixBabelImports('import', &amp;#123; libraryName: 'antd', libraryDirectory: 'es', style: true, &amp;#125;), addLessLoader(&amp;#123; lessOptions: &amp;#123; javascriptEnabled: true, modifyVars: &amp;#123; '@primary-color': 'green' &amp;#125;, &amp;#125;, &amp;#125;) ) å¤‡æ³¨ï¼šä¸ç”¨åœ¨ç»„ä»¶é‡Œå¼•å…¥æ ·å¼ï¼Œimport â€˜antd&#x2F;dist&#x2F;antd.cssâ€™ åˆ æ‰","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"10.6(Githubæ¡ˆä¾‹æ€»ç»“)","slug":"10.6","date":"2022-10-08T08:00:15.406Z","updated":"2022-10-09T08:31:55.013Z","comments":true,"path":"2022/10/08/10.6/","link":"","permalink":"http://engravesunny.github.io/2022/10/08/10.6/","excerpt":"","text":"Githubæœç´¢æ¡†æ¡ˆä¾‹çŸ¥è¯†ç‚¹æ€»ç»“ è®¾è®¡çŠ¶æ€æ—¶è¦è€ƒè™‘å…¨é¢ï¼Œä¾‹å¦‚å¸¦æœ‰ç½‘ç»œè¯·æ±‚çš„ç»„ä»¶ï¼Œè¦è€ƒè™‘è¯·æ±‚å¤±è´¥æ€ä¹ˆåŠ ES6çŸ¥è¯†ç‚¹ï¼šè§£æ„èµ‹å€¼+é‡å‘½å let obj = &amp;#123; a: &amp;#123; b: 1 &amp;#125; &amp;#125; //ä¼ ç»Ÿè§£æ„èµ‹å€¼ const &amp;#123; a &amp;#125; = obj //è¿ç»­è§£æ„èµ‹å€¼ const &amp;#123; a: &amp;#123; b &amp;#125;, &amp;#125; = obj //è¿ç»­è§£æ„èµ‹å€¼ + é‡å‘½å const &amp;#123; a: &amp;#123; b: value &amp;#125;, &amp;#125; = obj åˆå§‹ä»£ç Searchç»„ä»¶import React, &amp;#123; Component &amp;#125; from 'react' import axios from 'axios'; import './index.css' export default class Search extends Component &amp;#123; search = ()=>&amp;#123; //è·å–ç”¨æˆ·çš„è¾“å…¥ console.log(this.keyWord.value); const keyword = this.keyWord.value this.props.updateState(&amp;#123;isFirst:false,isLoading:true&amp;#125;) //å‘é€ç½‘ç»œè¯·æ±‚ axios.get(`https://api.github.com/search/users?q=$&amp;#123;keyword&amp;#125;`).then( res =>&amp;#123; this.props.updateState(&amp;#123;users:res.data.items,isLoading:false&amp;#125;) &amp;#125;, err =>&amp;#123; this.props.updateState(&amp;#123;isLoading:false,err:err.message&amp;#125;) &amp;#125; ) &amp;#125; render() &amp;#123; return ( &lt;div className='search'> &lt;h1>Search Github Users&lt;/h1> &lt;input ref=&amp;#123;c=>this.keyWord=c&amp;#125; type=\"text\"/> &lt;button onClick=&amp;#123;this.search&amp;#125;>æœç´¢&lt;/button> &lt;/div> ) &amp;#125; &amp;#125; Listç»„ä»¶import React, &amp;#123; Component &amp;#125; from 'react' import './Index.css' export default class List extends Component &amp;#123; render() &amp;#123; const &amp;#123;users,isFirst,isLoading,err&amp;#125; = this.props return ( &lt;div> &lt;ul> &amp;#123; isFirst ? &lt;h2>æ¬¢è¿ä½¿ç”¨ï¼Œè¾“å…¥å…³é”®å­—å¼€å§‹æœç´¢&lt;/h2>: isLoading ? &lt;h2>Loading-------&lt;/h2>: err ? &lt;h2 style=&amp;#123;&amp;#123;color:'red'&amp;#125;&amp;#125;>&amp;#123;err&amp;#125;&lt;/h2>: users.map(item=>&amp;#123; return ( &lt;li key=&amp;#123;item.id&amp;#125;> &lt;a rel='noreferrer' href=&amp;#123;item.html_url&amp;#125; target='_blank'> &lt;img src=&amp;#123;item.avatar_url&amp;#125; alt=\"head_portrait\"/> &lt;p>&amp;#123;item.login&amp;#125;&lt;/p> &lt;/a> &lt;/li> ) &amp;#125;) &amp;#125; &lt;/ul> &lt;/div> ) &amp;#125; &amp;#125; App.jsimport React, &amp;#123; Component &amp;#125; from 'react'; import Search from './components/Search'; import List from './components/List'; export default class App extends Component &amp;#123; state = &amp;#123; users:[], isFirst:true, isLoading:false, err:'' &amp;#125; updateState = (stateObj)=>&amp;#123; this.setState(stateObj) &amp;#125; render() &amp;#123; return ( &lt;div> &lt;Search updateState=&amp;#123;this.updateState&amp;#125;>&lt;/Search> &lt;List &amp;#123;...this.state&amp;#125;>&lt;/List> &lt;/div> ); &amp;#125; &amp;#125; 3. æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ é™å®šæœˆï¼Œå†å‘å¸ƒ é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ è¦åœ¨componentWillUnmountä¸­å–æ¶ˆè®¢é˜… ä½¿ç”¨PubSubä»£ç Searchç»„ä»¶(pubsub)import React, &amp;#123; Component &amp;#125; from 'react' import axios from 'axios'; import PubSub from 'pubsub-js'; import './index.css' export default class Search extends Component &amp;#123; search = ()=>&amp;#123; //è·å–ç”¨æˆ·çš„è¾“å…¥ console.log(this.keyWord.value); const keyword = this.keyWord.value // this.props.updateState(&amp;#123;isFirst:false,isLoading:true&amp;#125;) PubSub.publish('updateState',&amp;#123;isFirst:false,isLoading:true&amp;#125;) //å‘é€ç½‘ç»œè¯·æ±‚ axios.get(`https://api.github.com/search/users?q=$&amp;#123;keyword&amp;#125;`).then( res =>&amp;#123; // this.props.updateState(&amp;#123;users:res.data.items,isLoading:false&amp;#125;) PubSub.publish('updateState',&amp;#123;users:res.data.items,isLoading:false&amp;#125;) &amp;#125;, err =>&amp;#123; // this.props.updateState(&amp;#123;isLoading:false,err:err.message&amp;#125;) PubSub.publish('updateState',&amp;#123;isLoading:false,err:err.message&amp;#125;) &amp;#125; ) &amp;#125; render() &amp;#123; return ( &lt;div className='search'> &lt;h1>Search Github Users&lt;/h1> &lt;input ref=&amp;#123;c=>this.keyWord=c&amp;#125; type=\"text\"/> &lt;button onClick=&amp;#123;this.search&amp;#125;>æœç´¢&lt;/button> &lt;/div> ) &amp;#125; &amp;#125; Listç»„ä»¶(pubsub)import React, &amp;#123; Component &amp;#125; from 'react' import PubSub from 'pubsub-js' import './Index.css' export default class List extends Component &amp;#123; state = &amp;#123; users:[], isFirst:true, isLoading:false, err:'' &amp;#125; componentDidMount()&amp;#123; this.token = PubSub.subscribe('updateState',(_,data)=>&amp;#123; console.log(data); this.setState(data) &amp;#125;) &amp;#125; componentWillUnmount()&amp;#123; PubSub.unsubscribe(this.token) &amp;#125; render() &amp;#123; const &amp;#123;users,isFirst,isLoading,err&amp;#125; = this.state return ( &lt;div> &lt;ul> &amp;#123; isFirst ? &lt;h2>æ¬¢è¿ä½¿ç”¨ï¼Œè¾“å…¥å…³é”®å­—å¼€å§‹æœç´¢&lt;/h2>: isLoading ? &lt;h2>Loading-------&lt;/h2>: err ? &lt;h2 style=&amp;#123;&amp;#123;color:'red'&amp;#125;&amp;#125;>&amp;#123;err&amp;#125;&lt;/h2>: users.map(item=>&amp;#123; return ( &lt;li key=&amp;#123;item.id&amp;#125;> &lt;a rel='noreferrer' href=&amp;#123;item.html_url&amp;#125; target='_blank'> &lt;img src=&amp;#123;item.avatar_url&amp;#125; alt=\"head_portrait\"/> &lt;p>&amp;#123;item.login&amp;#125;&lt;/p> &lt;/a> &lt;/li> ) &amp;#125;) &amp;#125; &lt;/ul> &lt;/div> ) &amp;#125; &amp;#125; App.js(pubsub)import React, &amp;#123; Component &amp;#125; from 'react'; import Search from './components/Search'; import List from './components/List'; export default class App extends Component &amp;#123; render() &amp;#123; return ( &lt;div> &lt;Search>&lt;/Search> &lt;List>&lt;/List> &lt;/div> ); &amp;#125; &amp;#125; 4.fetchå‘é€è¯·æ±‚(å…³æ³¨åˆ†ç¦»çš„è®¾è®¡æ€æƒ³) try &amp;#123; //å…ˆçœ‹çœ‹æœåŠ¡å™¨èƒ½ä¸èƒ½è¿ä¸Š const response = await fetch(`https://api.github.com/search/users?q=$&amp;#123;keyword&amp;#125;`) //åœ¨è·å–æ•°æ® const data = await response.json() PubSub.publish('updateState',&amp;#123;users:data.items,isLoading:false&amp;#125;) console.log(data); &amp;#125; catch (error) &amp;#123; console.log('è¯·æ±‚å‡ºé”™',error); PubSub.publish('updateState',&amp;#123;isLoading:false,err:error.message&amp;#125;) &amp;#125; React è·¯ç”±è·¯ç”±çš„ç†è§£ä½•ä¸ºè·¯ç”± ä¸€ä¸ªè·¯ç”±æ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³» key ä¸ºè·¯å¾„ï¼Œvalue å¯èƒ½æ˜¯ function æˆ– ç»„ä»¶ åç«¯è·¯ç”±ï¼š value æ˜¯ function ï¼Œç”¨äºå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ æ³¨å†Œè·¯ç”±ï¼šrouter.get(path, function(req, res)) å·¥ä½œè¿‡ç¨‹ï¼šNode æ¥æ”¶åˆ°è¯·æ±‚ï¼Œæ ¹æ®è·¯å¾„åŒ¹é…è·¯ç”±ï¼Œè°ƒç”¨å¯¹åº”å‡½æ•°å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”æ•°æ® å‰ç«¯è·¯ç”±ï¼š value æ˜¯ç»„ä»¶ æ³¨å†Œè·¯ç”±ï¼š&lt;Route path=&quot;/test&quot; component=&#123;Test&#125;&gt; å·¥ä½œè¿‡ç¨‹ï¼šæµè§ˆå™¨è·¯å¾„å˜ä¸º/test ï¼Œå±•ç¤º Test ç»„ä»¶ è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨å¯¼èˆªåŒºç”¨&lt;Link&gt;,å±•ç¤ºåŒºç”¨&lt;Route&gt; import React, &amp;#123; Component &amp;#125; from 'react'; import &amp;#123; Link , Route &amp;#125; from 'react-router-dom'; import Home from './components/Home' import About from './components/About' import './index.css' export default class App extends Component &amp;#123; render() &amp;#123; return ( &lt;div> &lt;div className=\"header\"> &lt;h1>React Router Demo&lt;/h1> &lt;/div> &lt;div className=\"native\"> &amp;#123;/* &lt;a href=\"#\">About&lt;/a> &lt;a href=\"#\">Home&lt;/a> */&amp;#125; &lt;div className=\"linkArea\"> &lt;Link className='link1 active' to=\"/about\">About&lt;/Link> &lt;Link className='link2' to=\"/home\">Home&lt;/Link> &lt;/div> &lt;/div> &lt;div className=\"view\"> &lt;Route path=\"/about\" component=&amp;#123;About&amp;#125; /> &lt;Route path=\"/home\" component=&amp;#123;Home&amp;#125; /> &lt;/div> &lt;/div> ); &amp;#125; &amp;#125; &lt;App&gt;æœ€å¤–ä¾§åŒ…è£¹&lt;BrowserRouter&gt;æˆ–&lt;HashRouter&gt;: import React from \"react\"; import ReactDOM from \"react-dom\"; import &amp;#123; BrowserRouter &amp;#125; from \"react-router-dom\"; import App from \"./App\"; ReactDOM.render( &lt;BrowserRouter>&lt;App>&lt;/App>&lt;/BrowserRouter>, document.getElementById('root')) è·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶1.å†™æ³•ä¸åŒï¼š ä¸€èˆ¬ç»„ä»¶ï¼š&lt;Demo/&gt; è·¯ç”±ç»„ä»¶ï¼š&lt;Route path=&quot;/demo&quot; component=&#123;Demo&#125;/&gt; 2.å­˜æ”¾ä½ç½®ä¸åŒï¼š ä¸€èˆ¬ç»„ä»¶ï¼šcomponents è·¯ç”±ç»„ä»¶ï¼špages 3.æ¥æ”¶åˆ°çš„propsä¸åŒï¼š ä¸€èˆ¬ç»„ä»¶ï¼šæ ‡ç­¾å±æ€§ä¼ é€’ è·¯ç”±ç»„ä»¶ï¼šæ¥æ”¶åˆ°ä¸‰ä¸ªå›ºå®šçš„å±æ€§ history: go: Æ’ go(n) goBack: Æ’ goBack() goForward: Æ’ goForward() push: Æ’ push(path, state) replace: Æ’ replace(path, state) location: pathname: \"/home/message/detail/2/hello\" search: \"\" state: undefined match: params: &amp;#123;&amp;#125; path: \"/home/message/detail/:id/:title\" url: \"/home/message/detail/2/hello\" NavLinkNavLinkå¯ä»¥å®ç°ç”±é“¾æ¥çš„é«˜äº®ï¼Œé€šè¿‡activeCassNameæŒ‡å®šæ ·å¼åï¼Œé»˜è®¤è¿½åŠ ç±»åä¸ºactive &lt;NavLink activeClassName=\"demo\" to=\"/about\">About&lt;/NavLink> &lt;NavLink activeClassName=\"demo\" to=\"/home\">Home&lt;/NavLink> å°è£…NavLinkç»„ä»¶:ç”±äºNavLinkç»„ä»¶ä¸­çš„é‡å¤ä»£ç å¤ªå¤šï¼Œå› æ­¤è¿›è¡ŒäºŒæ¬¡å°è£…â€» ç»†èŠ‚ç‚¹ï¼šç»„ä»¶æ ‡ç­¾çš„å†…å®¹ä¼šä¼ é€’åˆ° this.props.childrenå±æ€§ä¸­ï¼Œåè¿‡æ¥é€šè¿‡æŒ‡å®šæ ‡ç­¾çš„ children å±æ€§å¯ä»¥ä¿®æ”¹ç»„ä»¶æ ‡ç­¾å†…å®¹ // MyNavLink ç»„ä»¶ import React, &amp;#123; Component &amp;#125; from 'react' import &amp;#123; NavLink &amp;#125; from 'react-router-dom' export default class MyNavLink extends Component &amp;#123; render() &amp;#123; // this.props.children å¯ä»¥å–åˆ°æ ‡ç­¾å†…å®¹ï¼Œå¦‚ About, Home // åè¿‡æ¥é€šè¿‡æŒ‡å®šæ ‡ç­¾çš„ children å±æ€§å¯ä»¥ä¿®æ”¹æ ‡ç­¾å†…å®¹ return &lt;NavLink activeClassName=\"demo\" className=\"list-group-item\" &amp;#123;...this.props&amp;#125; /> &amp;#125; &amp;#125; &lt;MyNavLink to=\"/about\">About&lt;/MyNavLink> &lt;MyNavLink to=\"/home\">Home&lt;/MyNavLink> Switch çš„ä½¿ç”¨Switchå¯ä»¥æé«˜è·¯ç”±åŒ¹é…æ•ˆç‡ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™ä¸å†ç»§ç»­åŒ¹é…åé¢çš„è·¯ç”±ï¼Œå³ä¸ºå•ä¸€åŒ¹é… &lt;Switch> &lt;Route path='/about' component=&amp;#123;About&amp;#125;/> &lt;Route path='/home' component=&amp;#123;Home&amp;#125;/> &lt;Route path='/home' component=&amp;#123;Test&amp;#125;/> &lt;/Switch> è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜ public/index.html ä¸­å¼•å…¥æ ·å¼æ—¶ä¸å†™./å†™/ï¼ˆå¸¸ç”¨ï¼‰ public/index.htmlä¸­å¼•å…¥æ ·å¼æ—¶ä¸å†™./å†™%PUBLIC_URL%ï¼ˆå¸¸ç”¨ï¼‰ ä½¿ç”¨HashRouter &lt;link rel=\"stylesheet\" href=\"/css/bootstrap.css\" /> &lt;link rel=\"stylesheet\" href=\"%PUBLIC_URL%/css/bootstrap.css\" />","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}]},{"title":"10.5(å—æ§éå—æ§ç»„ä»¶)","slug":"10.5","date":"2022-10-08T07:59:55.168Z","updated":"2022-10-09T08:31:40.321Z","comments":true,"path":"2022/10/08/10.5/","link":"","permalink":"http://engravesunny.github.io/2022/10/08/10.5/","excerpt":"","text":"å—æ§ &amp; éå—æ§ç»„ä»¶åŒ…å«è¡¨å•çš„ç»„ä»¶åˆ†ç±»ï¼š éå—æ§ç»„ä»¶ï¼šç°ç”¨ç°å–ã€‚å³éœ€è¦æ—¶ä½¿ç”¨ï¼Œå†è·å–èŠ‚ç‚¹å¾—åˆ°æ•°æ® å—æ§ç»„ä»¶ï¼šç±»ä¼¼äºVueåŒå‘ç»‘å®šçš„ä»è§†å›¾å±‚ç»‘å®šåˆ°æ•°æ® å°½é‡ä½¿ç”¨å—æ§ç»„ä»¶ï¼Œå› ä¸ºéå—æ§ç»„ä»¶è¦ä½¿ç”¨å¤§é‡çš„ref //éå—æ§ç»„ä»¶ &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; handleSubmit = (event)=>&amp;#123; event.preventDefault(); const &amp;#123;username,password&amp;#125; = this alert( `æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123;username.value&amp;#125;ï¼Œå¯†ç ä¸º$&amp;#123;password.value&amp;#125;` ) &amp;#125; render()&amp;#123; return ( &lt;div> &lt;form onSubmit=&amp;#123; this.handleSubmit &amp;#125;> ç”¨æˆ·åï¼š&lt;input ref=&amp;#123;c=>this.username=c&amp;#125; type=\"text\" name='username'/>&lt;br/> å¯†ç  ï¼š&lt;input ref=&amp;#123;c=>this.password=c&amp;#125; type=\"password\" name='password'/>&lt;br/> &lt;button>ç™»å½•&lt;/button> &lt;/form> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render( &lt;Demo>&lt;/Demo>,document.getElementById('test') ) &lt;/script> //å—æ§ç»„ä»¶ &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; state = &amp;#123; username:'', password:'' &amp;#125; saveUserName = (event)=> &amp;#123; this.setState(&amp;#123;username:event.target.value&amp;#125;) &amp;#125; savePassword = (event)=> &amp;#123; this.setState(&amp;#123;password:event.target.value&amp;#125;) &amp;#125; handleSubmit = (event)=> &amp;#123; event.preventDefault(); const &amp;#123;username,password&amp;#125; = this.state; alert( `æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123; username &amp;#125;,å¯†ç ä¸º$&amp;#123; password &amp;#125;` ) &amp;#125; render()&amp;#123; return ( &lt;div> &lt;form onSubmit=&amp;#123;this.handleSubmit&amp;#125;> &lt;input onChange=&amp;#123;this.saveUserName&amp;#125; type=\"text\"/> &lt;input onChange=&amp;#123;this.savePassword&amp;#125; type=\"password\"/> &lt;button>ç™»å½•&lt;/button> &lt;/form> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> é«˜é˜¶å‡½æ•°_å‡½æ•°æŸ¯é‡ŒåŒ–å¯¹ä¸Šè¿°å—æ§ç»„ä»¶ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå¸Œæœ›æŠŠsaveUserNameå’ŒsavePasswordåˆå¹¶ä¸ºä¸€ä¸ªå‡½æ•°è¦ç‚¹ï¼š é«˜é˜¶å‡½æ•°ï¼šå‚æ•°ä¸ºå‡½æ•°æˆ–è€…è¿”å›ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ï¼Œå¦‚Promiseã€setTimeoutã€Array.map() å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šé€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œå®ç°å¤šæ¬¡æ¥æ”¶å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç å½¢å¼ //å‡½æ•°æŸ¯é‡ŒåŒ– function sum(a)&amp;#123; return (b)=>&amp;#123; return (c)&amp;#123; return a + b + c; &amp;#125; &amp;#125; &amp;#125; //ä½¿ç”¨é«˜é˜¶å‡½æ•°å’Œå‡½æ•°æŸ¯é‡ŒåŒ– &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; state = &amp;#123; username:'', password:'' &amp;#125; saveFormData = (dataType)=>&amp;#123; return (event)=>&amp;#123; this.setState(&amp;#123;[dataType]:event.target.value&amp;#125;) &amp;#125; &amp;#125; handleSubmit = (event)=> &amp;#123; event.preventDefault(); const &amp;#123;username,password&amp;#125; = this.state; alert( `æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123; username &amp;#125;,å¯†ç ä¸º$&amp;#123; password &amp;#125;` ) &amp;#125; render()&amp;#123; return ( &lt;div> &lt;form onSubmit=&amp;#123;this.handleSubmit&amp;#125;> &lt;input onChange=&amp;#123;this.saveFormData('username')&amp;#125; type=\"text\"/> &lt;input onChange=&amp;#123;this.saveFormData('password')&amp;#125; type=\"password\"/> &lt;button>ç™»å½•&lt;/button> &lt;/form> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> //ä¸ä½¿ç”¨æŸ¯é‡ŒåŒ–å†™æ³• &lt;script type=\"text/babel\"> class Demo extends React.Component&amp;#123; state = &amp;#123; username:'', password:'' &amp;#125; saveFormData = (dataType,event)=>&amp;#123; this.setState(&amp;#123;[dataType]:event.target.value&amp;#125;) &amp;#125; handleSubmit = (event)=> &amp;#123; event.preventDefault(); const &amp;#123;username,password&amp;#125; = this.state; alert( `æ‚¨çš„ç”¨æˆ·åä¸º$&amp;#123; username &amp;#125;,å¯†ç ä¸º$&amp;#123; password &amp;#125;` ) &amp;#125; render()&amp;#123; return ( &lt;div> &lt;form onSubmit=&amp;#123;this.handleSubmit&amp;#125;> &lt;input onChange=&amp;#123;event=>this.saveFormData('username',event)&amp;#125; type=\"text\"/> &lt;input onChange=&amp;#123;event=>this.saveFormData('password',event)&amp;#125; type=\"password\"/> &lt;button>ç™»å½•&lt;/button> &lt;/form> &lt;/div> ) &amp;#125; &amp;#125; ReactDOM.render(&lt;Demo/>,document.getElementById('test')) &lt;/script> ç”Ÿå‘½å‘¨æœŸç”Ÿå‘½å‘¨æœŸæ—§ç‰ˆåˆå§‹åŒ–é˜¶æ®µï¼šReactDOM.render()è§¦å‘çš„åˆæ¬¡æ¸²æŸ“ constructor componentWillMount render componentDidMount &#x3D;&#x3D;&#x3D;&gt; å¸¸ç”¨ ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼šå¦‚ï¼šå¼€å¯å®šæ—¶å™¨ï¼Œå‘é€ç½‘ç»œè¯·æ±‚ï¼Œè®¢é˜…æ¶ˆæ¯ æ›´æ–°é˜¶æ®µï¼š 1.çˆ¶ç»„ä»¶é‡æ–°renderè§¦å‘çš„æ›´æ–° componentWillReceiveProps shouldComponentUpdate ï¼šæ§åˆ¶ç»„ä»¶æ˜¯å¦æ›´æ–°çš„é˜€é—¨ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸ºtrueã€‚è‹¥è¿”å› false ï¼Œåˆ™åç»­æµç¨‹ä¸ä¼šè¿›è¡Œã€‚ componentWillUpdate render componentDidUpdate 2.ç»„ä»¶å†…éƒ¨è°ƒç”¨this.setState()ä¿®æ”¹çŠ¶æ€ shouldComponentUpdate componentWillUpdate render componentDidUpdate 3.ç»„ä»¶å†…éƒ¨è°ƒç”¨this.forceUpdate()å¼ºåˆ¶æ›´æ–° componentWillUpdate render componentDidUpdate &#x3D;&#x3D;&#x3D;&gt; å¸¸ç”¨ ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­é‡Œåšä¸€äº›æ”¶å°¾çš„äº‹ï¼Œä¾‹å¦‚ï¼šå…³é—­å®šæ—¶å™¨ï¼Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯ å¸è½½é˜¶æ®µ:ReactDOM.unmountComponentAtNode()è§¦å‘ componentWillUnmount ç”Ÿå‘½å‘¨æœŸæ–°ç‰ˆæ›´æ”¹å†…å®¹ åºŸå¼ƒä¸‰ä¸ªé’©å­ï¼šcomponentWillMountã€componentWillReceivePropsã€componentWillUpdateã€‚åœ¨æ–°ç‰ˆæœ¬ä¸­è¿™ä¸‰ä¸ªé’©å­éœ€è¦åŠ UNSAFE_å‰ç¼€ï¼Œåç»­å¯èƒ½ä¼šåºŸå¼ƒ æ–°å¢ä¸¤ä¸ªé’©å­ï¼ˆå®é™…åœºæ™¯ç”¨çš„å¾ˆå°‘ï¼‰ï¼šgetDerivedStateFromPropsã€getSnapshotBeforeUpdate static getDerivedStateFromProps(props, state)ï¼š éœ€ä½¿ç”¨ static ä¿®é¥° éœ€è¿”å›ä¸€ä¸ªå¯¹è±¡æ›´æ–° stateæˆ–è¿”å› null é€‚ç”¨äºå¦‚ä¸‹æƒ…å†µï¼šstate çš„å€¼ä»»ä½•æ—¶å€™éƒ½å–å†³äºprop getSnapshotBeforeUpdate(prevProps, prevState)ï¼š åœ¨ç»„ä»¶æ›´æ–°ä¹‹å‰è·å–å¿«ç…§ å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä» DOMä¸­æ•è·ä¸€äº›ä¿¡æ¯ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™ componentDidUpdate() static getDerivedStateFromProps(props,state)&amp;#123; console.log('getDerivedStateFromProps',props,state); return null &amp;#125; getSnapshotBeforeUpdate()&amp;#123; console.log('getSnapshotBeforeUpdate'); return 'atguigu' &amp;#125; componentDidUpdate(preProps,preState,snapshotValue)&amp;#123; console.log('componentDidUpdate',preProps,preState,snapshotValue); &amp;#125; æœ€é‡è¦çš„ä¸‰ä¸ªé’©å­ render ï¼šåˆå§‹åŒ–æ¸²æŸ“å’Œæ›´æ–°æ¸²æŸ“ componentDidMount ï¼šè¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚å¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯ componentWillUnmount ï¼šè¿›è¡Œæ”¶å°¾ï¼Œå¦‚å…³é—­å®šæ—¶å™¨ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ è™šæ‹Ÿ DOM ä¸ Diff ç®—æ³• keyçš„ä½œç”¨key æ˜¯è™šæ‹Ÿ DOM å¯¹è±¡çš„æ ‡è¯†ï¼Œå¯æé«˜é¡µé¢æ›´æ–°æ¸²æŸ“çš„æ•ˆç‡ã€‚ å½“çŠ¶æ€ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReact ä¼šæ ¹æ®æ–°æ•°æ®ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOM ï¼Œæ¥ç€å¯¹æ–°æ—§è™šæ‹Ÿ DOM è¿›è¡Œ Diff æ¯”è¾ƒï¼Œè§„åˆ™å¦‚ä¸‹ï¼š æ—§è™šæ‹Ÿ DOM æ‰¾åˆ°å’Œæ–°è™šæ‹Ÿ DOM ç›¸åŒçš„ keyï¼š è‹¥å†…å®¹æ²¡å˜ï¼Œç›´æ¥å¤ç”¨çœŸå® DOM è‹¥å†…å®¹æ”¹å˜ï¼Œåˆ™ç”Ÿæˆæ–°çš„çœŸå® DOM ï¼Œæ›¿æ¢é¡µé¢ä¸­ä¹‹å‰çš„çœŸå® DOM æ—§è™šæ‹Ÿ DOM æœªæ‰¾åˆ°å’Œæ–°è™šæ‹Ÿ DOM ç›¸åŒçš„ keyï¼šæ ¹æ®æ•°æ®åˆ›å»ºæ–°çš„çœŸå® DOM ï¼Œæ¸²æŸ“åˆ°é¡µé¢ ä½¿ç”¨ index ä½œä¸º key å¯èƒ½å¼•å‘çš„é—®é¢˜ï¼š è‹¥å¯¹æ•°æ®è¿›è¡Œé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºçš„æ“ä½œï¼Œä¼šè¿›è¡Œæ²¡æœ‰å¿…è¦çš„çœŸå® DOM æ›´æ–°ã€‚ç•Œé¢æ•ˆæœæ²¡é—®é¢˜ï¼Œä½†æ•ˆç‡ä½ä¸‹ã€‚ å¦‚æœç»“æ„ä¸­åŒ…å«è¾“å…¥ç±»çš„ DOMï¼ˆå¦‚ input è¾“å…¥æ¡†ï¼‰ ï¼Œåˆ™ä¼šäº§ç”Ÿé”™è¯¯çš„ DOM æ›´æ–°ã€‚ è‹¥ä¸å­˜åœ¨å¯¹æ•°æ®é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºçš„æ“ä½œï¼Œåˆ™æ²¡æœ‰é—®é¢˜ã€‚","categories":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"}]}],"categories":[{"name":"é»‘é©¬å¤´æ¡é¡¹ç›®","slug":"é»‘é©¬å¤´æ¡é¡¹ç›®","permalink":"http://engravesunny.github.io/categories/%E9%BB%91%E9%A9%AC%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE/"},{"name":"Vue","slug":"Vue","permalink":"http://engravesunny.github.io/categories/Vue/"},{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/categories/React/"},{"name":"åšå®¢ä¿®æ”¹","slug":"åšå®¢ä¿®æ”¹","permalink":"http://engravesunny.github.io/categories/%E5%8D%9A%E5%AE%A2%E4%BF%AE%E6%94%B9/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"http://engravesunny.github.io/categories/%E5%8D%9A%E5%AE%A2/"}],"tags":[{"name":"é¡¹ç›®æ€»ç»“","slug":"é¡¹ç›®æ€»ç»“","permalink":"http://engravesunny.github.io/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"},{"name":"vue","slug":"vue","permalink":"http://engravesunny.github.io/tags/vue/"},{"name":"åç«¯çš„å¤§æ•°å­—","slug":"åç«¯çš„å¤§æ•°å­—","permalink":"http://engravesunny.github.io/tags/%E5%90%8E%E7%AB%AF%E7%9A%84%E5%A4%A7%E6%95%B0%E5%AD%97/"},{"name":"search","slug":"search","permalink":"http://engravesunny.github.io/tags/search/"},{"name":"day.js","slug":"day-js","permalink":"http://engravesunny.github.io/tags/day-js/"},{"name":"ç¬¬ä¸‰æ–¹å›¾ç‰‡","slug":"ç¬¬ä¸‰æ–¹å›¾ç‰‡","permalink":"http://engravesunny.github.io/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BE%E7%89%87/"},{"name":"token","slug":"token","permalink":"http://engravesunny.github.io/tags/token/"},{"name":"postcssrcæ’ä»¶","slug":"postcssrcæ’ä»¶","permalink":"http://engravesunny.github.io/tags/postcssrc%E6%8F%92%E4%BB%B6/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://engravesunny.github.io/tags/%E7%AC%94%E8%AE%B0/"},{"name":"Vue","slug":"Vue","permalink":"http://engravesunny.github.io/tags/Vue/"},{"name":"React","slug":"React","permalink":"http://engravesunny.github.io/tags/React/"},{"name":"åšå®¢ä¿®æ”¹","slug":"åšå®¢ä¿®æ”¹","permalink":"http://engravesunny.github.io/tags/%E5%8D%9A%E5%AE%A2%E4%BF%AE%E6%94%B9/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"http://engravesunny.github.io/tags/%E5%8D%9A%E5%AE%A2/"}]}